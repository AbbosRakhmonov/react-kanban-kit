{"version":3,"file":"index.cjs.js","sources":["../node_modules/@babel/runtime/helpers/esm/typeof.js","../node_modules/@babel/runtime/helpers/esm/toPropertyKey.js","../node_modules/@babel/runtime/helpers/esm/toPrimitive.js","../node_modules/@babel/runtime/helpers/esm/defineProperty.js","../node_modules/@atlaskit/pragmatic-drag-and-drop-hitbox/dist/esm/closest-edge.js","../node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","../node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","../node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","../node_modules/@atlaskit/pragmatic-drag-and-drop-hitbox/dist/esm/get-reorder-destination-index.js","../node_modules/@atlaskit/pragmatic-drag-and-drop-hitbox/dist/esm/reorder-with-edge.js","../node_modules/@atlaskit/pragmatic-drag-and-drop/dist/esm/public-utils/reorder.js","../src/global/dnd/dropManager.ts","../src/utils/columnsUtils.ts","../src/utils/getPrefix.ts","../node_modules/classnames/index.js","../src/components/ColumnHeader/ColumnHeader.tsx","../node_modules/virtua/lib/index.mjs","../src/components/CardSkeleton/CardSkeleton.tsx","../node_modules/bind-event-listener/dist/bind.js","../node_modules/bind-event-listener/dist/bind-all.js","../node_modules/bind-event-listener/dist/index.js","../node_modules/@atlaskit/pragmatic-drag-and-drop/dist/esm/honey-pot-fix/honey-pot-data-attribute.js","../node_modules/@atlaskit/pragmatic-drag-and-drop/dist/esm/honey-pot-fix/is-honey-pot-element.js","../node_modules/@atlaskit/pragmatic-drag-and-drop/dist/esm/honey-pot-fix/get-element-from-point-without-honey-pot.js","../node_modules/@atlaskit/pragmatic-drag-and-drop/dist/esm/util/max-z-index.js","../node_modules/@atlaskit/pragmatic-drag-and-drop/dist/esm/honey-pot-fix/make-honey-pot-fix.js","../node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","../node_modules/@atlaskit/pragmatic-drag-and-drop/dist/esm/public-utils/once.js","../node_modules/@atlaskit/pragmatic-drag-and-drop/dist/esm/util/is-firefox.js","../node_modules/@atlaskit/pragmatic-drag-and-drop/dist/esm/util/is-safari.js","../node_modules/@atlaskit/pragmatic-drag-and-drop/dist/esm/util/changing-window/count-events-for-safari.js","../node_modules/@atlaskit/pragmatic-drag-and-drop/dist/esm/util/changing-window/is-leaving-window.js","../node_modules/@atlaskit/pragmatic-drag-and-drop/dist/esm/util/changing-window/is-from-another-window.js","../node_modules/@atlaskit/pragmatic-drag-and-drop/dist/esm/util/get-input.js","../node_modules/@atlaskit/pragmatic-drag-and-drop/dist/esm/ledger/dispatch-consumer-event.js","../node_modules/raf-schd/dist/raf-schd.esm.js","../node_modules/@atlaskit/pragmatic-drag-and-drop/dist/esm/ledger/lifecycle-manager.js","../node_modules/@atlaskit/pragmatic-drag-and-drop/dist/esm/util/detect-broken-drag.js","../node_modules/@atlaskit/pragmatic-drag-and-drop/dist/esm/ledger/usage-ledger.js","../node_modules/@atlaskit/pragmatic-drag-and-drop/dist/esm/public-utils/combine.js","../node_modules/@atlaskit/pragmatic-drag-and-drop/dist/esm/util/add-attribute.js","../node_modules/@atlaskit/pragmatic-drag-and-drop/dist/esm/make-adapter/make-drop-target.js","../node_modules/@atlaskit/pragmatic-drag-and-drop/dist/esm/make-adapter/make-monitor.js","../node_modules/@atlaskit/pragmatic-drag-and-drop/dist/esm/util/android.js","../node_modules/@atlaskit/pragmatic-drag-and-drop/dist/esm/util/media-types/text-media-type.js","../node_modules/@atlaskit/pragmatic-drag-and-drop/dist/esm/adapter/element-adapter.js","../node_modules/@atlaskit/pragmatic-drag-and-drop/dist/esm/make-adapter/make-adapter.js","../node_modules/@atlaskit/pragmatic-drag-and-drop/dist/esm/util/media-types/url-media-type.js","../node_modules/@atlaskit/pragmatic-drag-and-drop/dist/esm/adapter/element-adapter-native-data-key.js","../node_modules/@atlaskit/pragmatic-drag-and-drop/dist/esm/public-utils/element/custom-native-drag-preview/set-custom-native-drag-preview.js","../node_modules/@atlaskit/pragmatic-drag-and-drop/dist/esm/public-utils/element/custom-native-drag-preview/preserve-offset-on-source.js","../src/context/KanbanContext.tsx","../src/global/dnd/useCardDnd.tsx","../src/components/Card/Card.tsx","../src/components/DefaultCard/DefaultCard.tsx","../src/components/GenericItem/GenericItem.tsx","../src/components/ColumnContent/ColumnContent.tsx","../src/utils/infinite-scroll.ts","../src/utils/scroll.ts","../node_modules/@atlaskit/pragmatic-drag-and-drop-auto-scroll/dist/esm/shared/engagement-history.js","../node_modules/@atlaskit/pragmatic-drag-and-drop-auto-scroll/dist/esm/shared/scheduler.js","../node_modules/@atlaskit/pragmatic-drag-and-drop-auto-scroll/dist/esm/over-element/data-attributes.js","../node_modules/@atlaskit/pragmatic-drag-and-drop-auto-scroll/dist/esm/shared/configuration.js","../node_modules/@atlaskit/pragmatic-drag-and-drop-auto-scroll/dist/esm/shared/can-scroll-on-edge.js","../node_modules/@atlaskit/pragmatic-drag-and-drop-auto-scroll/dist/esm/shared/edges.js","../node_modules/@atlaskit/pragmatic-drag-and-drop-auto-scroll/dist/esm/shared/axis.js","../node_modules/@atlaskit/pragmatic-drag-and-drop-auto-scroll/dist/esm/shared/side.js","../node_modules/@atlaskit/pragmatic-drag-and-drop-auto-scroll/dist/esm/shared/get-over-element-hitbox.js","../node_modules/@atlaskit/pragmatic-drag-and-drop-auto-scroll/dist/esm/shared/get-percentage-in-range.js","../node_modules/@atlaskit/pragmatic-drag-and-drop-auto-scroll/dist/esm/shared/get-scroll-change.js","../node_modules/@atlaskit/pragmatic-drag-and-drop-auto-scroll/dist/esm/over-element/get-scroll-by.js","../node_modules/@atlaskit/pragmatic-drag-and-drop-auto-scroll/dist/esm/shared/is-axis-allowed.js","../node_modules/@atlaskit/pragmatic-drag-and-drop-auto-scroll/dist/esm/shared/is-within.js","../node_modules/@atlaskit/pragmatic-drag-and-drop-auto-scroll/dist/esm/over-element/try-scroll.js","../node_modules/@atlaskit/pragmatic-drag-and-drop-auto-scroll/dist/esm/over-element/make-api.js","../node_modules/@atlaskit/pragmatic-drag-and-drop-auto-scroll/dist/esm/entry-point/element.js","../src/global/dnd/useColumnDnd.tsx","../src/components/Column/Column.tsx","../node_modules/@atlaskit/pragmatic-drag-and-drop-react-beautiful-dnd-autoscroll/dist/esm/internal/get-closest-scrollable-element.js","../node_modules/@atlaskit/pragmatic-drag-and-drop-react-beautiful-dnd-autoscroll/dist/esm/internal/can-scroll.js","../node_modules/css-box-model/dist/css-box-model.esm.js","../node_modules/@atlaskit/pragmatic-drag-and-drop-react-beautiful-dnd-autoscroll/dist/esm/internal/position.js","../node_modules/@atlaskit/pragmatic-drag-and-drop-react-beautiful-dnd-autoscroll/dist/esm/internal/constants.js","../node_modules/@atlaskit/pragmatic-drag-and-drop-react-beautiful-dnd-autoscroll/dist/esm/internal/config.js","../node_modules/@atlaskit/pragmatic-drag-and-drop-react-beautiful-dnd-autoscroll/dist/esm/internal/get-scroll/get-scroll-on-axis/get-distance-thresholds.js","../node_modules/@atlaskit/pragmatic-drag-and-drop-react-beautiful-dnd-autoscroll/dist/esm/internal/get-percentage.js","../node_modules/@atlaskit/pragmatic-drag-and-drop-react-beautiful-dnd-autoscroll/dist/esm/internal/get-scroll/get-scroll-on-axis/dampen-value-by-time.js","../node_modules/@atlaskit/pragmatic-drag-and-drop-react-beautiful-dnd-autoscroll/dist/esm/internal/get-scroll/get-scroll-on-axis/get-value.js","../node_modules/@atlaskit/pragmatic-drag-and-drop-react-beautiful-dnd-autoscroll/dist/esm/internal/get-scroll/get-scroll-on-axis/get-value-from-distance.js","../node_modules/@atlaskit/pragmatic-drag-and-drop-react-beautiful-dnd-autoscroll/dist/esm/internal/get-scroll/get-scroll-on-axis/index.js","../node_modules/@atlaskit/pragmatic-drag-and-drop-react-beautiful-dnd-autoscroll/dist/esm/internal/get-scroll/index.js","../node_modules/@atlaskit/pragmatic-drag-and-drop-react-beautiful-dnd-autoscroll/dist/esm/internal/get-scrollable-scroll-change.js","../node_modules/@atlaskit/pragmatic-drag-and-drop-react-beautiful-dnd-autoscroll/dist/esm/internal/get-window-scroll-change.js","../node_modules/@atlaskit/pragmatic-drag-and-drop-react-beautiful-dnd-autoscroll/dist/esm/internal/window/get-max-window-scroll.js","../node_modules/@atlaskit/pragmatic-drag-and-drop-react-beautiful-dnd-autoscroll/dist/esm/internal/get-max-scroll.js","../node_modules/@atlaskit/pragmatic-drag-and-drop-react-beautiful-dnd-autoscroll/dist/esm/internal/window/get-viewport.js","../node_modules/@atlaskit/pragmatic-drag-and-drop-react-beautiful-dnd-autoscroll/dist/esm/internal/window/get-window-scroll.js","../node_modules/@atlaskit/pragmatic-drag-and-drop-react-beautiful-dnd-autoscroll/dist/esm/internal/scroll.js","../node_modules/@atlaskit/pragmatic-drag-and-drop-react-beautiful-dnd-autoscroll/dist/esm/internal/get-scrollable.js","../node_modules/@atlaskit/pragmatic-drag-and-drop-react-beautiful-dnd-autoscroll/dist/esm/index.js","../src/utils/mergeRefs.ts","../src/utils/getSharedProps.ts","../src/components/ColumnAdder/ColumnAdder.tsx","../src/components/Kanban.tsx"],"sourcesContent":["function _typeof(o) {\n  \"@babel/helpers - typeof\";\n\n  return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (o) {\n    return typeof o;\n  } : function (o) {\n    return o && \"function\" == typeof Symbol && o.constructor === Symbol && o !== Symbol.prototype ? \"symbol\" : typeof o;\n  }, _typeof(o);\n}\nexport { _typeof as default };","import _typeof from \"./typeof.js\";\nimport toPrimitive from \"./toPrimitive.js\";\nfunction toPropertyKey(t) {\n  var i = toPrimitive(t, \"string\");\n  return \"symbol\" == _typeof(i) ? i : i + \"\";\n}\nexport { toPropertyKey as default };","import _typeof from \"./typeof.js\";\nfunction toPrimitive(t, r) {\n  if (\"object\" != _typeof(t) || !t) return t;\n  var e = t[Symbol.toPrimitive];\n  if (void 0 !== e) {\n    var i = e.call(t, r || \"default\");\n    if (\"object\" != _typeof(i)) return i;\n    throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n  }\n  return (\"string\" === r ? String : Number)(t);\n}\nexport { toPrimitive as default };","import toPropertyKey from \"./toPropertyKey.js\";\nfunction _defineProperty(e, r, t) {\n  return (r = toPropertyKey(r)) in e ? Object.defineProperty(e, r, {\n    value: t,\n    enumerable: !0,\n    configurable: !0,\n    writable: !0\n  }) : e[r] = t, e;\n}\nexport { _defineProperty as default };","import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\n// re-exporting type to make it easy to use\n\nvar getDistanceToEdge = {\n  top: function top(rect, client) {\n    return Math.abs(client.y - rect.top);\n  },\n  right: function right(rect, client) {\n    return Math.abs(rect.right - client.x);\n  },\n  bottom: function bottom(rect, client) {\n    return Math.abs(rect.bottom - client.y);\n  },\n  left: function left(rect, client) {\n    return Math.abs(client.x - rect.left);\n  }\n};\n\n// using a symbol so we can guarantee a key with a unique value\nvar uniqueKey = Symbol('closestEdge');\n\n/**\n * Adds a unique `Symbol` to the `userData` object. Use with `extractClosestEdge()` for type safe lookups.\n */\nexport function attachClosestEdge(userData, _ref) {\n  var _entries$sort$0$edge, _entries$sort$;\n  var element = _ref.element,\n    input = _ref.input,\n    allowedEdges = _ref.allowedEdges;\n  var client = {\n    x: input.clientX,\n    y: input.clientY\n  };\n  // I tried caching the result of `getBoundingClientRect()` for a single\n  // frame in order to improve performance.\n  // However, on measurement I saw no improvement. So no longer caching\n  var rect = element.getBoundingClientRect();\n  var entries = allowedEdges.map(function (edge) {\n    return {\n      edge: edge,\n      value: getDistanceToEdge[edge](rect, client)\n    };\n  });\n\n  // edge can be `null` when `allowedEdges` is []\n  var addClosestEdge = (_entries$sort$0$edge = (_entries$sort$ = entries.sort(function (a, b) {\n    return a.value - b.value;\n  })[0]) === null || _entries$sort$ === void 0 ? void 0 : _entries$sort$.edge) !== null && _entries$sort$0$edge !== void 0 ? _entries$sort$0$edge : null;\n  return _objectSpread(_objectSpread({}, userData), {}, _defineProperty({}, uniqueKey, addClosestEdge));\n}\n\n/**\n * Returns the value added by `attachClosestEdge()` to the `userData` object. It will return `null` if there is no value.\n */\nexport function extractClosestEdge(userData) {\n  var _ref2;\n  return (_ref2 = userData[uniqueKey]) !== null && _ref2 !== void 0 ? _ref2 : null;\n}","function _arrayLikeToArray(r, a) {\n  (null == a || a > r.length) && (a = r.length);\n  for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e];\n  return n;\n}\nexport { _arrayLikeToArray as default };","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nfunction _unsupportedIterableToArray(r, a) {\n  if (r) {\n    if (\"string\" == typeof r) return arrayLikeToArray(r, a);\n    var t = {}.toString.call(r).slice(8, -1);\n    return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? arrayLikeToArray(r, a) : void 0;\n  }\n}\nexport { _unsupportedIterableToArray as default };","import arrayWithHoles from \"./arrayWithHoles.js\";\nimport iterableToArrayLimit from \"./iterableToArrayLimit.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableRest from \"./nonIterableRest.js\";\nfunction _slicedToArray(r, e) {\n  return arrayWithHoles(r) || iterableToArrayLimit(r, e) || unsupportedIterableToArray(r, e) || nonIterableRest();\n}\nexport { _slicedToArray as default };","function _arrayWithHoles(r) {\n  if (Array.isArray(r)) return r;\n}\nexport { _arrayWithHoles as default };","function _iterableToArrayLimit(r, l) {\n  var t = null == r ? null : \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"];\n  if (null != t) {\n    var e,\n      n,\n      i,\n      u,\n      a = [],\n      f = !0,\n      o = !1;\n    try {\n      if (i = (t = t.call(r)).next, 0 === l) {\n        if (Object(t) !== t) return;\n        f = !1;\n      } else for (; !(f = (e = i.call(t)).done) && (a.push(e.value), a.length !== l); f = !0);\n    } catch (r) {\n      o = !0, n = r;\n    } finally {\n      try {\n        if (!f && null != t[\"return\"] && (u = t[\"return\"](), Object(u) !== u)) return;\n      } finally {\n        if (o) throw n;\n      }\n    }\n    return a;\n  }\n}\nexport { _iterableToArrayLimit as default };","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nexport { _nonIterableRest as default };","export function getReorderDestinationIndex(_ref) {\n  var startIndex = _ref.startIndex,\n    closestEdgeOfTarget = _ref.closestEdgeOfTarget,\n    indexOfTarget = _ref.indexOfTarget,\n    axis = _ref.axis;\n  // invalid index's\n  if (startIndex === -1 || indexOfTarget === -1) {\n    return startIndex;\n  }\n\n  // if we are targeting the same index we don't need to do anything\n  if (startIndex === indexOfTarget) {\n    return startIndex;\n  }\n  if (closestEdgeOfTarget == null) {\n    return indexOfTarget;\n  }\n  var isGoingAfter = axis === 'vertical' && closestEdgeOfTarget === 'bottom' || axis === 'horizontal' && closestEdgeOfTarget === 'right';\n  var isMovingForward = startIndex < indexOfTarget;\n  // moving forward\n  if (isMovingForward) {\n    return isGoingAfter ? indexOfTarget : indexOfTarget - 1;\n  }\n  // moving backwards\n  return isGoingAfter ? indexOfTarget + 1 : indexOfTarget;\n}","import { reorder } from '@atlaskit/pragmatic-drag-and-drop/reorder';\nimport { getReorderDestinationIndex } from './get-reorder-destination-index';\nexport function reorderWithEdge(_ref) {\n  var list = _ref.list,\n    startIndex = _ref.startIndex,\n    closestEdgeOfTarget = _ref.closestEdgeOfTarget,\n    indexOfTarget = _ref.indexOfTarget,\n    axis = _ref.axis;\n  return reorder({\n    list: list,\n    startIndex: startIndex,\n    finishIndex: getReorderDestinationIndex({\n      closestEdgeOfTarget: closestEdgeOfTarget,\n      startIndex: startIndex,\n      indexOfTarget: indexOfTarget,\n      axis: axis\n    })\n  });\n}","import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\n/**\n * A function that will reorder an array (`list`).\n * `reorder` returns a new array with reordered items and does not\n *  modify the original array. The items in the array are also not modified.\n */\nexport function reorder(_ref) {\n  var list = _ref.list,\n    startIndex = _ref.startIndex,\n    finishIndex = _ref.finishIndex;\n  if (startIndex === -1 || finishIndex === -1) {\n    // Making this function consistently return a new array reference.\n    // This is consistent with .toSorted() which always returns a new array\n    // even when it does not do anything\n    return Array.from(list);\n  }\n  var result = Array.from(list);\n  var _result$splice = result.splice(startIndex, 1),\n    _result$splice2 = _slicedToArray(_result$splice, 1),\n    removed = _result$splice2[0];\n  result.splice(finishIndex, 0, removed);\n  return result;\n}","import { BoardData, BoardItem, DropParams } from \"@/components\";\nimport { extractClosestEdge } from \"@atlaskit/pragmatic-drag-and-drop-hitbox/closest-edge\";\nimport { reorderWithEdge } from \"@atlaskit/pragmatic-drag-and-drop-hitbox/util/reorder-with-edge\";\n\nconst isCardData = (data) => data?.type === \"card\";\nconst isColumnData = (data) => data?.type === \"column\";\n\nconst getTasksByColumnId = (columnId: string, dataSource: BoardData) => {\n  const tasks: BoardItem[] = [];\n  const column = dataSource[columnId];\n  if (!column) return tasks;\n  const parentTasks = column.children;\n  parentTasks?.forEach((taskId) => {\n    const task = dataSource[taskId];\n    if (task) tasks.push(task);\n  });\n  return tasks;\n};\n\nexport const handleCardDrop = ({\n  source,\n  location,\n  columns,\n  dataSource,\n  onCardMove,\n  onColumnMove,\n}: DropParams) => {\n  if (isColumnData(source.data)) {\n    if (!onColumnMove) return;\n\n    const sourceColumnId = source.data.columnId;\n    // const sourceIndex = source.data.index\n\n    // Find innermost drop target\n    //@ts-ignore\n    const innerMost = location.current.dropTargets[0];\n    if (!innerMost) return;\n\n    const dropTargetData = innerMost.data;\n\n    // Only proceed if dropping on another column\n    if (isColumnData(dropTargetData)) {\n      const targetColumnId = dropTargetData.columnId;\n      const targetIndex = columns.findIndex((col) => col.id === targetColumnId);\n\n      if (targetIndex === -1) return;\n\n      // Don't reorder if dropped on itself\n      if (sourceColumnId === targetColumnId) return;\n\n      // Call the provided onColumnMove handler\n      onColumnMove?.({\n        columnId: sourceColumnId,\n        fromIndex: columns.findIndex((col) => col.id === sourceColumnId),\n        toIndex: targetIndex,\n      });\n    }\n\n    return;\n  }\n\n  // Handle card reordering\n  if (!isCardData(source.data)) {\n    return;\n  }\n\n  const draggingCardId = source.data.itemId;\n  const sourceColumnId = source.data.columnId;\n  // const sourceCardIndex = source.data.index\n\n  // Find innermost drop target (card or column)\n  const innerMost = location.current.dropTargets[0];\n  if (!innerMost) return;\n\n  const dropTargetData = innerMost.data;\n\n  // Case 1: Dropping on another card\n  if (dropTargetData[\"card-drop-target\"]) {\n    const targetColumnId = dropTargetData.columnId;\n    const targetCardId = dropTargetData.itemId;\n    const closestEdge = extractClosestEdge(dropTargetData);\n\n    // Find the cards involved\n    const sourceColumn = dataSource[sourceColumnId];\n    const targetColumn = dataSource[targetColumnId];\n\n    if (!sourceColumn || !targetColumn) return;\n\n    // For same column reordering\n    if (sourceColumnId === targetColumnId) {\n      // Get all tasks in the column\n      const allTasks = getTasksByColumnId(targetColumnId, dataSource);\n\n      // Find source and target indices\n      const sourceIndex = allTasks.findIndex(\n        (task) => task.id === draggingCardId,\n      );\n      const targetIndex = allTasks.findIndex(\n        (task) => task.id === targetCardId,\n      );\n\n      if (sourceIndex === -1 || targetIndex === -1) return;\n\n      // No change needed if same position\n      if (sourceIndex === targetIndex) return;\n\n      // Use reorderWithEdge to get the correct new order\n      const reordered = reorderWithEdge({\n        axis: \"vertical\",\n        list: allTasks,\n        startIndex: sourceIndex,\n        indexOfTarget: targetIndex,\n        closestEdgeOfTarget: closestEdge,\n      });\n\n      // Calculate the new position based on the reordered array\n      const newPosition = reordered.findIndex(\n        (task) => task.id === draggingCardId,\n      );\n\n      // Find tasks above and below the insertion point\n      const taskAbove = newPosition > 0 ? reordered[newPosition - 1] : null;\n      const taskBelow =\n        newPosition < reordered.length - 1 ? reordered[newPosition + 1] : null;\n\n      // Call the provided onCardMove handler\n      if (onCardMove) {\n        onCardMove({\n          cardId: draggingCardId,\n          fromColumnId: sourceColumnId,\n          toColumnId: targetColumnId,\n          taskAbove: taskAbove?.id,\n          taskBelow: taskBelow?.id,\n          position: newPosition,\n        });\n      }\n    }\n    // Moving between columns\n    else {\n      // Get all tasks in the target column\n      const allTargetTasks = getTasksByColumnId(targetColumnId, dataSource);\n\n      // Find the target task index\n      const targetIndex = allTargetTasks.findIndex(\n        (task) => task.id === targetCardId,\n      );\n      if (targetIndex === -1) return;\n      const finalIndex =\n        closestEdge === \"bottom\" ? targetIndex + 1 : targetIndex;\n\n      // Get the dragging task from source column\n      const draggingTask = getTasksByColumnId(sourceColumnId, dataSource).find(\n        (task) => task.id === draggingCardId,\n      );\n      if (!draggingTask) return;\n\n      // Create a temporary array with the dragging task inserted at the target position\n      const tempArray = [...allTargetTasks];\n      tempArray.splice(finalIndex, 0, draggingTask);\n\n      // Use reorderWithEdge to get the correct final position\n      const reordered = reorderWithEdge({\n        axis: \"vertical\",\n        list: tempArray,\n        startIndex: finalIndex,\n        indexOfTarget: finalIndex,\n        closestEdgeOfTarget: closestEdge,\n      });\n\n      // Calculate the new position based on the reordered array\n      const newPosition = reordered.findIndex(\n        (task) => task.id === draggingCardId,\n      );\n\n      const taskAbove = newPosition > 0 ? reordered[newPosition - 1] : null;\n      const taskBelow =\n        newPosition < reordered.length - 1 ? reordered[newPosition + 1] : null;\n\n      if (onCardMove) {\n        onCardMove({\n          cardId: draggingCardId,\n          fromColumnId: sourceColumnId,\n          toColumnId: targetColumnId,\n          taskAbove: taskAbove?.id,\n          taskBelow: taskBelow?.id,\n          position: newPosition,\n        });\n      }\n    }\n  }\n  // Case 2: Dropping directly on a column (not on a card)\n  else if (isColumnData(dropTargetData)) {\n    const targetColumnId = dropTargetData.columnId;\n    const targetTasks = getTasksByColumnId(targetColumnId, dataSource);\n    const taskAbove =\n      targetTasks.length > 0 ? targetTasks[targetTasks.length - 1] : null;\n\n    if (onCardMove) {\n      onCardMove({\n        cardId: draggingCardId,\n        fromColumnId: sourceColumnId,\n        toColumnId: targetColumnId,\n        taskAbove: taskAbove?.id,\n        taskBelow: null,\n        position: targetTasks.length,\n      });\n    }\n  }\n};\n\nexport const dropColumnHandler = (\n  drop: { columnId: string; position: number },\n  dataSource: BoardData,\n) => {\n  const { columnId, position } = drop;\n  const newDataSource = { ...dataSource };\n  const rootChildren = [...(newDataSource[\"root\"]?.children || [])];\n  const currentIndex = rootChildren.indexOf(columnId);\n\n  if (currentIndex === -1) return newDataSource;\n\n  rootChildren.splice(currentIndex, 1);\n  rootChildren.splice(position, 0, columnId);\n  if (newDataSource[\"root\"]) {\n    newDataSource[\"root\"].children = rootChildren;\n  }\n  return newDataSource;\n};\n\nexport const dropHandler = (\n  drop: {\n    cardId: string;\n    fromColumnId: string;\n    toColumnId: string;\n    taskAbove: string | null;\n    taskBelow: string | null;\n  },\n  dataSource: BoardData,\n  updateDroppedItem?: (targetColumn: BoardItem, droppedItem: any) => any,\n  updateDestinationColumn?: (targetColumn: BoardItem) => any,\n  updateSourceColumn?: (sourceColumn: BoardItem) => any,\n) => {\n  const { cardId, fromColumnId, toColumnId, taskAbove, taskBelow } = drop;\n\n  const newDataSource = { ...dataSource };\n\n  if (newDataSource[fromColumnId]?.children) {\n    newDataSource[fromColumnId].children = newDataSource[\n      fromColumnId\n    ].children.filter((id: string) => id !== cardId);\n    if (\n      newDataSource[fromColumnId]?.totalItems !== undefined &&\n      newDataSource[fromColumnId].totalItems > 0\n    )\n      newDataSource[fromColumnId].totalItems--;\n  }\n\n  if (updateSourceColumn && newDataSource[fromColumnId])\n    newDataSource[fromColumnId] = updateSourceColumn(\n      newDataSource[fromColumnId],\n    );\n\n  const targetChildren = newDataSource[toColumnId]?.children || [];\n  let insertIndex = 0;\n\n  if (taskAbove) insertIndex = targetChildren.indexOf(taskAbove) + 1;\n  else if (taskBelow) insertIndex = targetChildren.indexOf(taskBelow);\n\n  const alreadyExistInTarget = targetChildren.includes(cardId);\n\n  if (\n    newDataSource[toColumnId]?.totalItems !== undefined &&\n    !alreadyExistInTarget\n  )\n    newDataSource[toColumnId].totalItems++;\n\n  if (updateDroppedItem && newDataSource[cardId]) {\n    const updatedItem = updateDroppedItem?.(\n      newDataSource[toColumnId],\n      newDataSource[cardId],\n    );\n    newDataSource[cardId] = updatedItem || newDataSource[cardId];\n  }\n\n  if (newDataSource[toColumnId]?.children) {\n    newDataSource[toColumnId].children = newDataSource[\n      toColumnId\n    ]?.children?.filter((id: string) => id !== cardId);\n    newDataSource[toColumnId].children.splice(insertIndex, 0, cardId);\n  }\n\n  if (updateDestinationColumn && newDataSource[toColumnId])\n    newDataSource[toColumnId] = updateDestinationColumn(\n      newDataSource[toColumnId],\n    );\n\n  return newDataSource;\n};\n","import { BoardData, BoardItem } from \"@/components\";\n\nexport const getColumnsFromDataSource = (dataSource: BoardData) => {\n  if (!dataSource?.root) return [];\n  return dataSource.root.children?.map((child) => dataSource[child]) || [];\n};\n\nexport const getColumnChildren = (column: BoardItem, dataSource: BoardData) => {\n  if (!column) return [];\n  return column.children?.map((child) => dataSource[child]) || [];\n};\n\nexport const getHeaderHeight = (header: HTMLDivElement): number => {\n  if (!header) return 0;\n  const style = window.getComputedStyle(header);\n  const marginTop = parseFloat(style.marginTop) || 0;\n  const marginBottom = parseFloat(style.marginBottom) || 0;\n  return header.offsetHeight + marginTop + marginBottom;\n};\n","export const prefix = \"rkk\";\n\nexport const withPrefix = (string: string | string[], separator = \" \") => {\n  if (Array.isArray(string))\n    return string.map((item) => `${prefix}-${item}`).join(separator);\n  return `${prefix}-${string}`;\n};\n","/*!\n\tCopyright (c) 2018 Jed Watson.\n\tLicensed under the MIT License (MIT), see\n\thttp://jedwatson.github.io/classnames\n*/\n/* global define */\n\n(function () {\n\t'use strict';\n\n\tvar hasOwn = {}.hasOwnProperty;\n\n\tfunction classNames () {\n\t\tvar classes = '';\n\n\t\tfor (var i = 0; i < arguments.length; i++) {\n\t\t\tvar arg = arguments[i];\n\t\t\tif (arg) {\n\t\t\t\tclasses = appendClass(classes, parseValue(arg));\n\t\t\t}\n\t\t}\n\n\t\treturn classes;\n\t}\n\n\tfunction parseValue (arg) {\n\t\tif (typeof arg === 'string' || typeof arg === 'number') {\n\t\t\treturn arg;\n\t\t}\n\n\t\tif (typeof arg !== 'object') {\n\t\t\treturn '';\n\t\t}\n\n\t\tif (Array.isArray(arg)) {\n\t\t\treturn classNames.apply(null, arg);\n\t\t}\n\n\t\tif (arg.toString !== Object.prototype.toString && !arg.toString.toString().includes('[native code]')) {\n\t\t\treturn arg.toString();\n\t\t}\n\n\t\tvar classes = '';\n\n\t\tfor (var key in arg) {\n\t\t\tif (hasOwn.call(arg, key) && arg[key]) {\n\t\t\t\tclasses = appendClass(classes, key);\n\t\t\t}\n\t\t}\n\n\t\treturn classes;\n\t}\n\n\tfunction appendClass (value, newClass) {\n\t\tif (!newClass) {\n\t\t\treturn value;\n\t\t}\n\t\n\t\tif (value) {\n\t\t\treturn value + ' ' + newClass;\n\t\t}\n\t\n\t\treturn value + newClass;\n\t}\n\n\tif (typeof module !== 'undefined' && module.exports) {\n\t\tclassNames.default = classNames;\n\t\tmodule.exports = classNames;\n\t} else if (typeof define === 'function' && typeof define.amd === 'object' && define.amd) {\n\t\t// register as 'classnames', consistent with npm package name\n\t\tdefine('classnames', [], function () {\n\t\t\treturn classNames;\n\t\t});\n\t} else {\n\t\twindow.classNames = classNames;\n\t}\n}());\n","import { withPrefix } from \"@/utils/getPrefix\";\nimport React, { forwardRef, useRef } from \"react\";\nimport { BoardItem } from \"../types\";\nimport classNames from \"classnames\";\n\ninterface Props {\n  renderColumnHeader?: (column: BoardItem) => React.ReactNode;\n  columnHeaderStyle?: (column: BoardItem) => React.CSSProperties;\n  columnHeaderClassName?: string;\n  data: BoardItem;\n}\n\nconst ColumnHeader = forwardRef<HTMLDivElement, Props>((props, ref) => {\n  const {\n    renderColumnHeader,\n    columnHeaderStyle,\n    columnHeaderClassName = \"\",\n    data,\n  } = props;\n\n  const headerClassName = classNames(\n    withPrefix(\"column-header\"),\n    columnHeaderClassName,\n  );\n\n  if (renderColumnHeader)\n    return <div ref={ref}>{renderColumnHeader(data)}</div>;\n\n  return (\n    <header\n      ref={ref}\n      className={headerClassName}\n      style={columnHeaderStyle?.(data)}\n    >\n      <div className={withPrefix(\"column-header-left\")}>{data?.title}</div>\n      <div className={withPrefix(\"column-header-right\")}>\n        {data?.totalItemsCount || data?.totalChildrenCount || 0}\n      </div>\n    </header>\n  );\n});\n\nexport default ColumnHeader;\n","\"use client\";\nimport{jsx as e}from\"react/jsx-runtime\";import{useLayoutEffect as t,useEffect as n,useRef as o,memo as r,useMemo as i,forwardRef as s,useReducer as l,useImperativeHandle as c}from\"react\";import{flushSync as d}from\"react-dom\";const f=null,{min:u,max:a,abs:h,floor:v}=Math,p=(e,t,n)=>u(n,a(t,e)),g=e=>[...e].sort(((e,t)=>e-t)),m=\"function\"==typeof queueMicrotask?queueMicrotask:e=>{Promise.resolve().then(e)},_=e=>{let t,n;return()=>(t||(t=!0,n=e()),n)},w=-1,S=(e,t,n)=>{const o=n?\"unshift\":\"push\";for(let n=0;n<t;n++)e[o](w);return e},$=(e,t)=>{const n=e.t[t];return n===w?e.o:n},y=(e,t,n)=>{const o=e.t[t]===w;return e.t[t]=n,e.i=u(t,e.i),o},x=(e,t)=>{if(!e.l)return 0;if(e.i>=t)return e.u[t];e.i<0&&(e.u[0]=0,e.i=0);let n=e.i,o=e.u[n];for(;n<t;)o+=$(e,n),e.u[++n]=o;return e.i=t,o},b=(e,t,n=0,o=e.l-1)=>{for(;n<=o;){const r=v((n+o)/2),i=x(e,r);if(i<=t){if(i+$(e,r)>t)return r;n=r+1}else o=r-1}return p(n,0,e.l-1)},I=(e,t,n)=>{const o=t-e.l;return e.i=n?-1:u(t-1,e.i),e.l=t,o>0?(S(e.u,o),S(e.t,o,n),e.o*o):(e.u.splice(o),(n?e.t.splice(0,-o):e.t.splice(o)).reduce(((t,n)=>t-(n===w?e.o:n)),0))},z=\"undefined\"!=typeof window,k=()=>document.documentElement,T=e=>e.ownerDocument,R=e=>e.defaultView,E=/*#__PURE__*/_((()=>!!z&&\"rtl\"===getComputedStyle(k()).direction)),M=/*#__PURE__*/_((()=>/iP(hone|od|ad)/.test(navigator.userAgent))),C=/*#__PURE__*/_((()=>\"scrollBehavior\"in k().style)),H=e=>a(e.h(),e.v()),W=e=>!!e.v(),O=(e,t=40,n=4,o=0,r,i=!1)=>{let s=!!o,l=1,c=0,d=0,v=0,p=0,m=0,_=0,z=0,k=0,T=s?[0,a(o-1,0)]:f,R=[0,0],E=0;const C=((e,t,n)=>({o:n?n[1]:t,t:n&&n[0]?S(n[0].slice(0,u(e,n[0].length)),a(0,e-n[0].length)):S([],e),l:e,i:-1,u:S([],e)}))(e,t,r),H=new Set,W=()=>v-d,O=()=>W()+m+p,B=e=>((e,t,n,o)=>{if(o=u(o,e.l-1),x(e,o)<=t){const r=b(e,t+n,o);return[b(e,t,o,r),r]}{const r=b(e,t,void 0,o);return[r,b(e,t+n,r)]}})(C,e,c,R[0]),J=()=>(e=>e.l?x(e,e.l-1)+$(e,e.l-1):0)(C),L=e=>x(C,e)-m,P=e=>$(C,e),A=e=>{e&&(M()&&0!==z?m+=e:p+=e)};return{p:()=>l,m:()=>(e=>[e.t.slice(),e.o])(C),_:()=>{let e,t;return _?[e,t]=R:([e,t]=R=B(a(0,O())),T&&(e=u(e,T[0]),t=a(t,T[1]))),1!==z&&(e-=a(0,n)),2!==z&&(t+=a(0,n)),[a(e,0),u(t,C.l-1)]},S:()=>b(C,O()),$:()=>b(C,O()+c),I:e=>C.t[e]===w,k:()=>!!T&&C.t.slice(a(0,T[0]-1),u(C.l-1,T[1]+1)+1).includes(w),T:L,R:P,M:()=>C.l,C:()=>v,H:()=>0!==z,v:()=>c,W:()=>d,h:J,O:()=>(_=p,p=0,[_,2===k||W()+c>=J()]),B:(e,t)=>{const n=[e,t];return H.add(n),()=>{H.delete(n)}},J:(e,t)=>{let n,o,r=0;switch(e){case 1:{const e=_;_=0;const n=t-v,i=h(n);e&&i<h(e)+1||0!==k||(z=n<0?2:1),s&&(T=f,s=!1),v=t,r=4;const l=W();l>=-c&&l<=J()&&(r+=1,o=i>c);break}case 2:r=8,0!==z&&(n=!0,r+=1),z=0,k=0,T=f;break;case 3:{const e=t.filter((([e,t])=>C.t[e]!==t));if(!e.length)break;A(e.reduce(((e,[t,n])=>((2===k||(T?!s&&t<T[0]:L(t)+(0===z&&0===k?P(t):0)<W()))&&(e+=n-P(t)),e)),0));for(const[t,n]of e){const e=P(t),o=y(C,t,n);i&&(E+=o?n:n-e)}i&&c&&E>c&&(A(((e,t)=>{let n=0;const o=[];e.t.forEach(((e,r)=>{e!==w&&(o.push(e),r<t&&n++)})),e.i=-1;const r=g(o),i=r.length,s=i/2|0,l=i%2==0?(r[s-1]+r[s])/2:r[s],c=e.o;return((e.o=l)-c)*a(t-n,0)})(C,b(C,O()))),i=!1),r=3,o=!0;break}case 4:c!==t&&(c=t,r=3);break;case 5:t[1]?(A(I(C,t[0],!0)),k=2,r=1):(I(C,t[0]),r=1);break;case 6:d=t;break;case 7:k=1;break;case 8:T=B(t),r=1}r&&(l=1+(2147483647&l),n&&m&&(p+=m,m=0),H.forEach((([e,t])=>{r&e&&t(o)})))}}},B=setTimeout,J=(e,t)=>t&&E()?-e:e,L=(e,t,n,o,r,i)=>{const s=Date.now;let l=0,c=!1,d=!1,u=!1,a=!1;const h=(()=>{let t;const n=()=>{t!=f&&clearTimeout(t)},o=()=>{n(),t=B((()=>{t=f,(()=>{if(c||d)return c=!1,void h();u=!1,e.J(2)})()}),150)};return o.L=n,o})(),v=()=>{l=s(),u&&(a=!0),i&&e.J(6,i()),e.J(1,o()),h()},p=t=>{if(c||!e.H()||t.ctrlKey)return;const o=s()-l;150>o&&50<o&&(n?t.deltaX:t.deltaY)&&(c=!0)},g=()=>{d=!0,u=a=!1},m=()=>{d=!1,M()&&(u=!0)};return t.addEventListener(\"scroll\",v),t.addEventListener(\"wheel\",p,{passive:!0}),t.addEventListener(\"touchstart\",g,{passive:!0}),t.addEventListener(\"touchend\",m,{passive:!0}),{P:()=>{t.removeEventListener(\"scroll\",v),t.removeEventListener(\"wheel\",p),t.removeEventListener(\"touchstart\",g),t.removeEventListener(\"touchend\",m),h.L()},A:()=>{const[t,i]=e.O();t&&(r(J(t,n),i,a),a=!1,i&&e.v()>e.h()&&e.J(1,o()))}}},P=(e,t)=>{let n,o,r;const i=t?\"scrollLeft\":\"scrollTop\",s=t?\"overflowX\":\"overflowY\",l=async(o,s)=>{if(!n)return void m((()=>l(o,s)));r&&r();const c=()=>{let t;return[new Promise(((n,o)=>{t=n,r=o,W(e)&&B(o,150)})),e.B(2,(()=>{t&&t()}))]};if(s&&C()){for(;e.J(8,o()),e.k();){const[e,t]=c();try{await e}catch(e){return}finally{t()}}n.scrollTo({[t?\"left\":\"top\"]:J(o(),t),behavior:\"smooth\"})}else for(;;){const[r,s]=c();try{n[i]=J(o(),t),e.J(7),await r}catch(e){return}finally{s()}}};return{V(l){n=l,o=L(e,l,t,(()=>J(l[i],t)),((t,n,o)=>{if(o){const e=l.style,t=e[s];e[s]=\"hidden\",B((()=>{e[s]=t}))}n?(l[i]=e.C()+t,r&&r()):l[i]+=t}))},X(){o&&o.P()},Y(e){l((()=>e))},j(t){t+=e.C(),l((()=>t))},q(t,{align:n,smooth:o,offset:r=0}={}){if(t=p(t,0,e.M()-1),\"nearest\"===n){const o=e.T(t),r=e.C();if(o<r)n=\"start\";else{if(!(o+e.R(t)>r+e.v()))return;n=\"end\"}}l((()=>r+e.W()+e.T(t)+(\"end\"===n?e.R(t)-e.v():\"center\"===n?(e.R(t)-e.v())/2:0)),o)},D:()=>{o&&o.A()}}},A=(e,t)=>{let n,o,r;const i=(e,t,n,o,r=0)=>{const s=o?\"offsetLeft\":\"offsetTop\",l=r+(o&&E()?n.innerWidth-e[s]-e.offsetWidth:e[s]),c=e.offsetParent;return e!==t&&c?i(c,t,n,o,l):l},s=async(o,i)=>{if(!n)return void m((()=>s(o,i)));r&&r();const l=()=>{let t;return[new Promise(((n,o)=>{t=n,r=o,W(e)&&B(o,150)})),e.B(2,(()=>{t&&t()}))]},c=R(T(n));if(i&&C()){for(;e.J(8,o()),e.k();){const[e,t]=l();try{await e}catch(e){return}finally{t()}}c.scroll({[t?\"left\":\"top\"]:J(o(),t),behavior:\"smooth\"})}else for(;;){const[n,r]=l();try{c.scroll({[t?\"left\":\"top\"]:J(o(),t)}),e.J(7),await n}catch(e){return}finally{r()}}};return{V(r){n=r;const s=t?\"scrollX\":\"scrollY\",l=T(r),c=R(l),d=l.body;o=L(e,c,t,(()=>J(c[s],t)),((n,o)=>{o?c.scroll({[t?\"left\":\"top\"]:e.C()+n}):c.scrollBy(t?n:0,t?0:n)}),(()=>i(r,d,c,t)))},X(){o&&o.P(),n=void 0},D:()=>{o&&o.A()},q(o,{align:r,smooth:l,offset:c=0}={}){if(!n)return;if(o=p(o,0,e.M()-1),\"nearest\"===r){const t=e.T(o),n=e.C();if(t<n)r=\"start\";else{if(!(t+e.R(o)>n+e.v()))return;r=\"end\"}}const d=T(n),f=R(d),u=d.documentElement,a=()=>e.v()-(t?u.clientWidth:u.clientHeight);s((()=>c+i(n,d.body,f,t)+e.T(o)+(\"end\"===r?e.R(o)-(e.v()-a()):\"center\"===r?(e.R(o)-(e.v()-a()))/2:0)),l)}}},V=(e,t)=>{const n=P(e,!1),o=P(t,!0);return{V(e){n.V(e),o.V(e)},X(){n.X(),o.X()},Y(e,t){n.Y(t),o.Y(e)},j(e,t){n.j(t),o.j(e)},q(e,t){n.q(t),o.q(e)},D(){n.D(),o.D()}}},X=e=>{let t;return{U(n){(t||(t=new(R(T(n)).ResizeObserver)(e))).observe(n)},F(e){t.unobserve(e)},P(){t&&t.disconnect()}}},Y=(e,t)=>{let n;const o=t?\"width\":\"height\",r=new WeakMap,i=X((t=>{const i=[];for(const{target:s,contentRect:l}of t)if(s.offsetParent)if(s===n)e.J(4,l[o]);else{const e=r.get(s);e!=f&&i.push([e,l[o]])}i.length&&e.J(3,i)}));return{G(e){i.U(n=e)},K:(e,t)=>(r.set(e,t),i.U(e),()=>{r.delete(e),i.F(e)}),X:i.P}},j=(e,t)=>{const n=t?\"width\":\"height\",o=t?\"innerWidth\":\"innerHeight\",r=new WeakMap,i=X((t=>{const o=[];for(const{target:e,contentRect:i}of t){if(!e.offsetParent)continue;const t=r.get(e);t!=f&&o.push([t,i[n]])}o.length&&e.J(3,o)}));let s;return{G(t){const n=R(T(t)),r=()=>{e.J(4,n[o])};n.addEventListener(\"resize\",r),r(),s=()=>{n.removeEventListener(\"resize\",r)}},K:(e,t)=>(r.set(e,t),i.U(e),()=>{r.delete(e),i.F(e)}),X(){s&&s(),i.P()}}},q=(e,t)=>{let n;const o=\"height\",r=\"width\",i=new WeakMap,s=new Set,l=new Set,c=new Map,d=(e,t)=>`${e}-${t}`,f=X((f=>{const u=new Set,h=new Set;for(const{target:s,contentRect:l}of f)if(s.offsetParent)if(s===n)e.J(4,l[o]),t.J(4,l[r]);else{const e=i.get(s);if(e){const[t,n]=e,i=d(t,n),s=c.get(i),f=[l[o],l[r]];let a,v;s?(s[0]!==f[0]&&(a=!0),s[1]!==f[1]&&(v=!0)):a=v=!0,a&&u.add(t),v&&h.add(n),(a||v)&&c.set(i,f)}}if(u.size){const t=[];u.forEach((e=>{let n=0;l.forEach((t=>{const o=c.get(d(e,t));o&&(n=a(n,o[0]))})),n&&t.push([e,n])})),e.J(3,t)}if(h.size){const e=[];h.forEach((t=>{let n=0;s.forEach((e=>{const o=c.get(d(e,t));o&&(n=a(n,o[1]))})),n&&e.push([t,n])})),t.J(3,e)}}));return{G(e){f.U(n=e)},K:(e,t,n)=>(i.set(e,[t,n]),s.add(t),l.add(n),f.U(e),()=>{i.delete(e),f.F(e)}),X:f.P}},D=z?t:n,U=\"current\",F=(e,t)=>{if(Array.isArray(e))for(const n of e)F(n,t);else null==e||\"boolean\"==typeof e||t.push(e)},G=(e,t)=>{const n=e.key;return null!=n?n:\"_\"+t},K=e=>{const t=o();return t[U]||(t[U]=e())},N=e=>{const t=o(e);return D((()=>{t[U]=e}),[e]),t},Q=/*#__PURE__*/r((({N:t,Z:n,ee:r,te:s,ne:l,oe:c,re:d,ie:f})=>{const u=o(null);D((()=>n(u[U],r)),[r]);const a=i((()=>{const e={position:l&&f?void 0:\"absolute\",[d?\"height\":\"width\"]:\"100%\",[d?\"top\":\"left\"]:0,[d?E()?\"right\":\"left\":\"top\"]:s,visibility:!l||f?\"visible\":\"hidden\"};return d&&(e.display=\"flex\"),e}),[s,l,f,d]);return e(c,\"string\"==typeof c?{ref:u,style:a,children:t}:{ref:u,style:a,index:r,children:t})})),Z=(e,t)=>i((()=>{if(\"function\"==typeof e)return[e,t||0];const n=(e=>{const t=[];return F(e,t),t})(e);return[e=>n[e],n.length]}),[e,t]),ee=/*#__PURE__*/s((({children:t,count:n,overscan:r,itemSize:i,shift:s,horizontal:f,keepMounted:u,cache:a,startMargin:h=0,ssrCount:v,as:p=\"div\",item:_=\"div\",scrollRef:w,onScroll:S,onScrollEnd:$},y)=>{const[x,b]=Z(t,n),I=o(null),z=o(!!v),k=N(S),T=N($),[R,E,M,C]=K((()=>{const e=!!f,t=O(b,i,r,v,a,!i);return[t,Y(t,e),P(t,e),e]}));b!==R.M()&&R.J(5,[b,s]),h!==R.W()&&R.J(6,h);const[W,B]=l(R.p,void 0,R.p),[J,L]=R._(),A=R.H(),V=R.h(),X=[],j=t=>{const n=x(t);return e(Q,{Z:E.K,ee:t,te:R.T(t),ne:R.I(t),oe:_,N:n,re:C,ie:z[U]},G(n,t))};D((()=>{z[U]=!1;const e=R.B(1,(e=>{e?d(B):B()})),t=R.B(4,(()=>{k[U]&&k[U](R.C())})),n=R.B(8,(()=>{T[U]&&T[U]()})),o=e=>{E.G(e),M.V(e)};return w?m((()=>o(w[U]))):o(I[U].parentElement),()=>{e(),t(),n(),E.X(),M.X()}}),[]),D((()=>{M.D()}),[W]),c(y,(()=>({get cache(){return R.m()},get scrollOffset(){return R.C()},get scrollSize(){return H(R)},get viewportSize(){return R.v()},findStartIndex:R.S,findEndIndex:R.$,getItemOffset:R.T,getItemSize:R.R,scrollToIndex:M.q,scrollTo:M.Y,scrollBy:M.j})),[]);for(let e=J,t=L;e<=t;e++)X.push(j(e));if(u){const e=[],t=[];g(u).forEach((n=>{n<J&&e.push(j(n)),n>L&&t.push(j(n))})),X.unshift(...e),X.push(...t)}return e(p,{ref:I,style:{overflowAnchor:\"none\",flex:\"none\",position:\"relative\",visibility:\"hidden\",width:C?V:\"100%\",height:C?\"100%\":V,pointerEvents:A?\"none\":void 0},children:X})})),te=/*#__PURE__*/s((({children:t,count:n,overscan:r,itemSize:i,shift:s,horizontal:l,keepMounted:c,reverse:d,cache:f,ssrCount:u,item:a,onScroll:h,onScrollEnd:v,style:p,...g},m)=>{const _=o(null),w=d&&!l;let S=e(ee,{ref:m,scrollRef:w?_:void 0,count:n,overscan:r,itemSize:i,shift:s,horizontal:l,keepMounted:c,cache:f,ssrCount:u,item:a,onScroll:h,onScrollEnd:v,children:t});return w&&(S=e(\"div\",{style:{visibility:\"hidden\",display:\"flex\",flexDirection:\"column\",justifyContent:\"flex-end\",minHeight:\"100%\"},children:S})),e(\"div\",{ref:_,...g,style:{display:l?\"inline-block\":\"block\",[l?\"overflowX\":\"overflowY\"]:\"auto\",contain:\"strict\",width:\"100%\",height:\"100%\",...p},children:S})})),ne=/*#__PURE__*/s((({children:t,count:n,overscan:r,itemSize:i,shift:s,horizontal:f,cache:u,ssrCount:a,as:h=\"div\",item:v=\"div\",onScroll:p,onScrollEnd:g},m)=>{const[_,w]=Z(t,n),S=o(null),$=N(p),y=N(g),x=o(!!a),[b,I,z,k]=K((()=>{const e=!!f,t=O(w,i,r,a,u,!i);return[t,j(t,e),A(t,e),e]}));w!==b.M()&&b.J(5,[w,s]);const[T,R]=l(b.p,void 0,b.p),[E,M]=b._(),C=b.H(),H=b.h(),W=[];D((()=>{x[U]=!1;const e=b.B(1,(e=>{e?d(R):R()})),t=b.B(4,(()=>{$[U]&&$[U]()})),n=b.B(8,(()=>{y[U]&&y[U]()})),o=S[U];return I.G(o),z.V(o),()=>{e(),t(),n(),I.X(),z.X()}}),[]),D((()=>{z.D()}),[T]),c(m,(()=>({get cache(){return b.m()},findStartIndex:b.S,findEndIndex:b.$,scrollToIndex:z.q})),[]);for(let t=E,n=M;t<=n;t++){const n=_(t);W.push(e(Q,{Z:I.K,ee:t,te:b.T(t),ne:b.I(t),oe:v,N:n,re:k,ie:x[U]},G(n,t)))}return e(h,{ref:S,style:{flex:\"none\",position:\"relative\",visibility:\"hidden\",width:k?H:\"100%\",height:k?\"100%\":H,pointerEvents:C?\"none\":void 0},children:W})})),oe=(e,t)=>`${e}-${t}`,re=/*#__PURE__*/r((({N:t,Z:n,se:r,le:s,ce:l,de:c,fe:d,ue:f,ne:u,ae:a})=>{const h=o(null);return D((()=>n.K(h[U],r,s)),[s,r]),e(a,{ref:h,style:i((()=>({display:\"grid\",position:\"absolute\",top:l,[E()?\"right\":\"left\"]:c,visibility:u?\"hidden\":\"visible\",minHeight:d,minWidth:f})),[l,c,f,d,u]),children:t})})),ie=/*#__PURE__*/s((({children:t,row:n,col:r,cellHeight:s=40,cellWidth:f=100,overscan:u=2,initialRowCount:a,initialColCount:h,item:v=\"div\",onScroll:p,onScrollEnd:g,style:m,..._},w)=>{const[S,$,y,x]=K((()=>{const e=O(n,s,u,a),t=O(r,f,u,h);return[e,t,q(e,t),V(e,t)]}));n!==S.M()&&S.J(5,[n]),r!==$.M()&&$.J(5,[r]);const[b,I]=l(S.p,void 0,S.p),[z,k]=l($.p,void 0,$.p),[T,R]=S._(),[E,M]=$._(),C=S.H(),W=$.H(),B=H(S),J=H($),L=o(null),P=N(p),A=N(g);D((()=>{const e=L[U],t=S.B(1,(e=>{e?d(I):I()})),n=$.B(1,(e=>{e?d(k):k()})),o=S.B(4,(()=>{P[U]&&P[U](S.C())})),r=S.B(8,(()=>{A[U]&&A[U]()}));return y.G(e),x.V(e),()=>{t(),n(),y.X(),x.X(),o(),r()}}),[]),D((()=>{x.D()}),[b,z]),c(w,(()=>({get scrollTop(){return S.C()},get scrollLeft(){return $.C()},get scrollHeight(){return H(S)},get scrollWidth(){return H($)},get viewportHeight(){return S.v()},get viewportWidth(){return $.v()},findStartIndex:()=>[$.S(),S.S()],findEndIndex:()=>[$.$(),S.$()],getItemOffset:(e,t)=>[$.T(e),S.T(t)],getItemSize:(e,t)=>[$.R(e),S.R(t)],scrollToIndex:x.q,scrollTo:x.Y,scrollBy:x.j})),[]);const X=i((()=>{const e=new Map;return(n,o)=>{let r=e.get(oe(n,o));return r||e.set(oe(n,o),r=t({rowIndex:n,colIndex:o})),r}}),[t]),Y=[];for(let t=T;t<=R;t++)for(let n=E;n<=M;n++)Y.push(e(re,{Z:y,se:t,le:n,ce:S.T(t),de:$.T(n),fe:S.R(t),ue:$.R(n),ne:S.I(t)||$.I(n),ae:v,N:X(t,n)},oe(t,n)));return e(\"div\",{ref:L,..._,style:{overflow:\"auto\",contain:\"strict\",width:\"100%\",height:\"100%\",...m},children:e(\"div\",{style:{overflowAnchor:\"none\",flex:\"none\",position:\"relative\",visibility:\"hidden\",width:J,height:B,pointerEvents:C||W?\"none\":void 0},children:Y})})}));export{te as VList,ee as Virtualizer,ne as WindowVirtualizer,ie as experimental_VGrid};\n//# sourceMappingURL=index.mjs.map\n","import React from \"react\";\nimport { withPrefix } from \"@/utils/getPrefix\";\n\nexport type SkeletonAnimationType = \"shimmer\" | \"pulse\" | \"wave\";\n\ninterface CardSkeletonProps {\n  className?: string;\n  style?: React.CSSProperties;\n  animationType?: SkeletonAnimationType;\n}\n\nconst CardSkeleton: React.FC<CardSkeletonProps> = ({\n  className,\n  style,\n  animationType = \"shimmer\",\n}) => {\n  const skeletonClass = `${withPrefix(\"skeleton\")} ${\n    animationType === \"pulse\" ? withPrefix(\"skeleton-pulse\") : \"\"\n  } ${animationType === \"wave\" ? withPrefix(\"skeleton-wave\") : \"\"} ${\n    className || \"\"\n  }`.trim();\n\n  const renderDefaultSkeleton = () => (\n    <div className={withPrefix(\"skeleton-content\")}>\n      <div className={withPrefix(\"skeleton-title\")}></div>\n\n      <div className={withPrefix(\"skeleton-description\")}>\n        <div className={withPrefix(\"skeleton-line\")}></div>\n        <div\n          className={`${withPrefix(\"skeleton-line\")} ${withPrefix(\n            \"skeleton-line-short\",\n          )}`}\n        ></div>\n      </div>\n    </div>\n  );\n\n  return (\n    <div className={skeletonClass} style={style}>\n      {renderDefaultSkeleton()}\n    </div>\n  );\n};\n\nexport default CardSkeleton;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.bind = void 0;\nfunction bind(target, _a) {\n    var type = _a.type, listener = _a.listener, options = _a.options;\n    target.addEventListener(type, listener, options);\n    return function unbind() {\n        target.removeEventListener(type, listener, options);\n    };\n}\nexports.bind = bind;\n","\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.bindAll = void 0;\nvar bind_1 = require(\"./bind\");\nfunction toOptions(value) {\n    if (typeof value === 'undefined') {\n        return undefined;\n    }\n    if (typeof value === 'boolean') {\n        return {\n            capture: value,\n        };\n    }\n    return value;\n}\nfunction getBinding(original, sharedOptions) {\n    if (sharedOptions == null) {\n        return original;\n    }\n    var binding = __assign(__assign({}, original), { options: __assign(__assign({}, toOptions(sharedOptions)), toOptions(original.options)) });\n    return binding;\n}\nfunction bindAll(target, bindings, sharedOptions) {\n    var unbinds = bindings.map(function (original) {\n        var binding = getBinding(original, sharedOptions);\n        return (0, bind_1.bind)(target, binding);\n    });\n    return function unbindAll() {\n        unbinds.forEach(function (unbind) { return unbind(); });\n    };\n}\nexports.bindAll = bindAll;\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.bindAll = exports.bind = void 0;\nvar bind_1 = require(\"./bind\");\nObject.defineProperty(exports, \"bind\", { enumerable: true, get: function () { return bind_1.bind; } });\nvar bind_all_1 = require(\"./bind-all\");\nObject.defineProperty(exports, \"bindAll\", { enumerable: true, get: function () { return bind_all_1.bindAll; } });\n","// pulling this into a separate file so adapter(s) that don't\n// need the honey pot can pay as little as possible for it.\nexport var honeyPotDataAttribute = 'data-pdnd-honey-pot';","import { honeyPotDataAttribute } from './honey-pot-data-attribute';\nexport function isHoneyPotElement(target) {\n  return target instanceof Element && target.hasAttribute(honeyPotDataAttribute);\n}","import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { isHoneyPotElement } from './is-honey-pot-element';\nexport function getElementFromPointWithoutHoneypot(client) {\n  // eslint-disable-next-line no-restricted-syntax\n  var _document$elementsFro = document.elementsFromPoint(client.x, client.y),\n    _document$elementsFro2 = _slicedToArray(_document$elementsFro, 2),\n    top = _document$elementsFro2[0],\n    second = _document$elementsFro2[1];\n  if (!top) {\n    return null;\n  }\n  if (isHoneyPotElement(top)) {\n    return second !== null && second !== void 0 ? second : null;\n  }\n  return top;\n}","// Maximum possible z-index\n// https://stackoverflow.com/questions/491052/minimum-and-maximum-value-of-z-index\nexport var maxZIndex = 2147483647;","import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nimport { bind, bindAll } from 'bind-event-listener';\nimport { maxZIndex } from '../util/max-z-index';\nimport { honeyPotDataAttribute } from './honey-pot-data-attribute';\nvar honeyPotSize = 2;\nvar halfHoneyPotSize = honeyPotSize / 2;\n\n/**\n * `clientX` and `clientY` can be in sub pixels (eg `2.332`)\n * However, browser hitbox testing is commonly do to the closest pixel.\n *\n * → https://issues.chromium.org/issues/40940531\n *\n * To be sure that the honey pot will be over the `client` position,\n * we `.floor()` `clientX` and`clientY` and then make it `2px` in size.\n **/\nfunction floorToClosestPixel(point) {\n  return {\n    x: Math.floor(point.x),\n    y: Math.floor(point.y)\n  };\n}\n\n/**\n * We want to make sure the honey pot sits around the users position.\n * This seemed to be the most resilient while testing.\n */\nfunction pullBackByHalfHoneyPotSize(point) {\n  return {\n    x: point.x - halfHoneyPotSize,\n    y: point.y - halfHoneyPotSize\n  };\n}\n\n/**\n * Prevent the honey pot from changing the window size.\n * This is super unlikely to occur, but just being safe.\n */\nfunction preventGoingBackwardsOffScreen(point) {\n  return {\n    x: Math.max(point.x, 0),\n    y: Math.max(point.y, 0)\n  };\n}\n\n/**\n * Prevent the honey pot from changing the window size.\n * This is super unlikely to occur, but just being safe.\n */\nfunction preventGoingForwardsOffScreen(point) {\n  return {\n    x: Math.min(point.x, window.innerWidth - honeyPotSize),\n    y: Math.min(point.y, window.innerHeight - honeyPotSize)\n  };\n}\n\n/**\n * Create a `2x2` `DOMRect` around the `client` position\n */\nfunction getHoneyPotRectFor(_ref) {\n  var client = _ref.client;\n  var point = preventGoingForwardsOffScreen(preventGoingBackwardsOffScreen(pullBackByHalfHoneyPotSize(floorToClosestPixel(client))));\n\n  // When debugging, it is helpful to\n  // make this element a bit bigger\n  return DOMRect.fromRect({\n    x: point.x,\n    y: point.y,\n    width: honeyPotSize,\n    height: honeyPotSize\n  });\n}\nfunction getRectStyles(_ref2) {\n  var clientRect = _ref2.clientRect;\n  return {\n    left: \"\".concat(clientRect.left, \"px\"),\n    top: \"\".concat(clientRect.top, \"px\"),\n    width: \"\".concat(clientRect.width, \"px\"),\n    height: \"\".concat(clientRect.height, \"px\")\n  };\n}\nfunction isWithin(_ref3) {\n  var client = _ref3.client,\n    clientRect = _ref3.clientRect;\n  return (\n    // is within horizontal bounds\n    client.x >= clientRect.x && client.x <= clientRect.x + clientRect.width &&\n    // is within vertical bounds\n    client.y >= clientRect.y && client.y <= clientRect.y + clientRect.height\n  );\n}\n/**\n * The honey pot fix is designed to get around a painful bug in all browsers.\n *\n * [Overview](https://www.youtube.com/watch?v=udE9qbFTeQg)\n *\n * **Background**\n *\n * When a drag starts, browsers incorrectly think that the users pointer is\n * still depressed where the drag started. Any element that goes under this position\n * will be entered into, causing `\"mouseenter\"` events and `\":hover\"` styles to be applied.\n *\n * _This is a violation of the spec_\n *\n * > \"From the moment that the user agent is to initiate the drag-and-drop operation,\n * > until the end \tof the drag-and-drop operation, device input events\n * > (e.g. mouse and keyboard events) must be suppressed.\"\n * >\n * > - https://html.spec.whatwg.org/multipage/dnd.html#drag-and-drop-processing-model\n *\n * _Some impacts_\n *\n * - `\":hover\"` styles being applied where they shouldn't (looks messy)\n * - components such as tooltips responding to `\"mouseenter\"` can show during a drag,\n *   and on an element the user isn't even over\n *\n * Bug: https://issues.chromium.org/issues/41129937\n *\n * **Honey pot fix**\n *\n * 1. Create an element where the browser thinks the depressed pointer is\n *    to absorb the incorrect pointer events\n * 2. Remove that element when it is no longer needed\n */\nfunction mountHoneyPot(_ref4) {\n  var initial = _ref4.initial;\n  var element = document.createElement('div');\n  element.setAttribute(honeyPotDataAttribute, 'true');\n\n  // can shift during the drag thanks to Firefox\n  var clientRect = getHoneyPotRectFor({\n    client: initial\n  });\n  Object.assign(element.style, _objectSpread(_objectSpread({\n    // Setting a background color explicitly to avoid any inherited styles.\n    // Looks like this could be `opacity: 0`, but worried that _might_\n    // cause the element to be ignored on some platforms.\n    // When debugging, set backgroundColor to something like \"red\".\n    backgroundColor: 'transparent',\n    position: 'fixed',\n    // Being explicit to avoid inheriting styles\n    padding: 0,\n    margin: 0,\n    boxSizing: 'border-box'\n  }, getRectStyles({\n    clientRect: clientRect\n  })), {}, {\n    // We want this element to absorb pointer events,\n    // it's kind of the whole point 😉\n    pointerEvents: 'auto',\n    // Want to make sure the honey pot is top of everything else.\n    // Don't need to worry about native drag previews, as they will\n    // have been rendered (and removed) before the honey pot is rendered\n    zIndex: maxZIndex\n  }));\n  document.body.appendChild(element);\n\n  /**\n   *  🦊 In firefox we can get `\"pointermove\"` events after the drag\n   * has started, which is a spec violation.\n   * The final `\"pointermove\"` will reveal where the \"depressed\" position\n   * is for our honey pot fix.\n   */\n  var unbindPointerMove = bind(window, {\n    type: 'pointermove',\n    listener: function listener(event) {\n      var client = {\n        x: event.clientX,\n        y: event.clientY\n      };\n      clientRect = getHoneyPotRectFor({\n        client: client\n      });\n      Object.assign(element.style, getRectStyles({\n        clientRect: clientRect\n      }));\n    },\n    // using capture so we are less likely to be impacted by event stopping\n    options: {\n      capture: true\n    }\n  });\n  return function finish(_ref5) {\n    var current = _ref5.current;\n    // Don't need this any more\n    unbindPointerMove();\n\n    // If the user is hover the honey pot, we remove it\n    // so that the user can continue to interact with the page normally.\n    if (isWithin({\n      client: current,\n      clientRect: clientRect\n    })) {\n      element.remove();\n      return;\n    }\n    function cleanup() {\n      unbindPostDragEvents();\n      element.remove();\n    }\n    var unbindPostDragEvents = bindAll(window, [{\n      type: 'pointerdown',\n      listener: cleanup\n    }, {\n      type: 'pointermove',\n      listener: cleanup\n    }, {\n      type: 'focusin',\n      listener: cleanup\n    }, {\n      type: 'focusout',\n      listener: cleanup\n    },\n    // a 'pointerdown' should happen before 'dragstart', but just being super safe\n    {\n      type: 'dragstart',\n      listener: cleanup\n    },\n    // if the user has dragged something out of the window\n    // and then is dragging something back into the window\n    // the first events we will see are \"dragenter\" (and then \"dragover\").\n    // So if we see any of these we need to clear the post drag fix.\n    {\n      type: 'dragenter',\n      listener: cleanup\n    }, {\n      type: 'dragover',\n      listener: cleanup\n    }\n\n    // Not adding a \"wheel\" event listener, as \"wheel\" by itself does not\n    // resolve the bug.\n    ], {\n      // Using `capture` so less likely to be impacted by other code stopping events\n      capture: true\n    });\n  };\n}\nexport function makeHoneyPotFix() {\n  var latestPointerMove = null;\n  function bindEvents() {\n    // For sanity, only collecting this value from when events are first bound.\n    // This prevents the case where a super old \"pointermove\" could be used\n    // from a prior interaction.\n    latestPointerMove = null;\n    return bind(window, {\n      type: 'pointermove',\n      listener: function listener(event) {\n        latestPointerMove = {\n          x: event.clientX,\n          y: event.clientY\n        };\n      },\n      // listening for pointer move in capture phase\n      // so we are less likely to be impacted by events being stopped.\n      options: {\n        capture: true\n      }\n    });\n  }\n  function getOnPostDispatch() {\n    var finish = null;\n    return function onPostEvent(_ref6) {\n      var eventName = _ref6.eventName,\n        payload = _ref6.payload;\n      // We are adding the honey pot `onDragStart` so we don't\n      // impact the creation of the native drag preview.\n      if (eventName === 'onDragStart') {\n        var input = payload.location.initial.input;\n\n        // Sometimes there will be no latest \"pointermove\" (eg iOS).\n        // In which case, we use the start position of the drag.\n        var initial = latestPointerMove !== null && latestPointerMove !== void 0 ? latestPointerMove : {\n          x: input.clientX,\n          y: input.clientY\n        };\n\n        // Don't need to defensively call `finish()` as `onDrop` from\n        // one interaction is guaranteed to be called before `onDragStart`\n        // of the next.\n        finish = mountHoneyPot({\n          initial: initial\n        });\n      }\n      if (eventName === 'onDrop') {\n        var _finish;\n        var _input = payload.location.current.input;\n        (_finish = finish) === null || _finish === void 0 || _finish({\n          current: {\n            x: _input.clientX,\n            y: _input.clientY\n          }\n        });\n        finish = null;\n        // this interaction is finished, we want to use\n        // the latest \"pointermove\" for each interaction\n        latestPointerMove = null;\n      }\n    };\n  }\n  return {\n    bindEvents: bindEvents,\n    getOnPostDispatch: getOnPostDispatch\n  };\n}","import arrayWithoutHoles from \"./arrayWithoutHoles.js\";\nimport iterableToArray from \"./iterableToArray.js\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray.js\";\nimport nonIterableSpread from \"./nonIterableSpread.js\";\nfunction _toConsumableArray(r) {\n  return arrayWithoutHoles(r) || iterableToArray(r) || unsupportedIterableToArray(r) || nonIterableSpread();\n}\nexport { _toConsumableArray as default };","import arrayLikeToArray from \"./arrayLikeToArray.js\";\nfunction _arrayWithoutHoles(r) {\n  if (Array.isArray(r)) return arrayLikeToArray(r);\n}\nexport { _arrayWithoutHoles as default };","function _iterableToArray(r) {\n  if (\"undefined\" != typeof Symbol && null != r[Symbol.iterator] || null != r[\"@@iterator\"]) return Array.from(r);\n}\nexport { _iterableToArray as default };","function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\nexport { _nonIterableSpread as default };","/** Provide a function that you only ever want to be called a single time */\nexport function once(fn) {\n  var cache = null;\n  return function wrapped() {\n    if (!cache) {\n      for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n        args[_key] = arguments[_key];\n      }\n      var result = fn.apply(this, args);\n      cache = {\n        result: result\n      };\n    }\n    return cache.result;\n  };\n}","import { once } from '../public-utils/once';\n\n// using `cache` as our `isFirefox()` result will not change in a browser\n\n/**\n * Returns `true` if a `Firefox` browser\n * */\nexport var isFirefox = once(function isFirefox() {\n  if (process.env.NODE_ENV === 'test') {\n    return false;\n  }\n  return navigator.userAgent.includes('Firefox');\n});","import { once } from '../public-utils/once';\n\n// using `cache` as our `isSafari()` result will not change in a browser\n\n/**\n * Returns `true` if a `Safari` browser.\n * Returns `true` if the browser is running on iOS (they are all Safari).\n *\n * Use `isSafariOnIOS` if you want to check if something is Safari + iOS\n * */\nexport var isSafari = once(function isSafari() {\n  if (process.env.NODE_ENV === 'test') {\n    return false;\n  }\n  var _navigator = navigator,\n    userAgent = _navigator.userAgent;\n  return userAgent.includes('AppleWebKit') && !userAgent.includes('Chrome');\n});","import { bindAll } from 'bind-event-listener';\nimport { isSafari } from '../is-safari';\n\n/* For \"dragenter\" events, the browser should set `relatedTarget` to the previous element.\n * For external drag operations, our first \"dragenter\" event should have a `event.relatedTarget` of `null`.\n *\n *  Unfortunately in Safari `event.relatedTarget` is *always* set to `null`\n *  Safari bug: https://bugs.webkit.org/show_bug.cgi?id=242627\n *  To work around this we count \"dragenter\" and \"dragleave\" events */\n\n// Using symbols for event properties so we don't clash with\n// anything on the `event` object\nvar symbols = {\n  isLeavingWindow: Symbol('leaving'),\n  isEnteringWindow: Symbol('entering')\n};\nexport function isEnteringWindowInSafari(_ref) {\n  var dragEnter = _ref.dragEnter;\n  if (!isSafari()) {\n    return false;\n  }\n  return dragEnter.hasOwnProperty(symbols.isEnteringWindow);\n}\nexport function isLeavingWindowInSafari(_ref2) {\n  var dragLeave = _ref2.dragLeave;\n  if (!isSafari()) {\n    return false;\n  }\n  return dragLeave.hasOwnProperty(symbols.isLeavingWindow);\n}\n(function fixSafari() {\n  // Don't do anything when server side rendering\n  if (typeof window === 'undefined') {\n    return;\n  }\n\n  // rather than checking the userAgent for \"jsdom\" we can do this check\n  // so that the check will be removed completely in production code\n  if (process.env.NODE_ENV === 'test') {\n    return;\n  }\n  if (!isSafari()) {\n    return;\n  }\n  function getInitialState() {\n    return {\n      enterCount: 0,\n      isOverWindow: false\n    };\n  }\n  var state = getInitialState();\n  function resetState() {\n    state = getInitialState();\n  }\n\n  // These event listeners are bound _forever_ and _never_ removed\n  // We don't bother cleaning up these event listeners (for now)\n  // as this workaround is only for Safari\n\n  // This is how the event count works:\n  //\n  // lift (+1 enterCount)\n  // - dragstart(draggable) [enterCount: 0]\n  // - dragenter(draggable) [enterCount: 1]\n  // leaving draggable (+0 enterCount)\n  // - dragenter(document.body) [enterCount: 2]\n  // - dragleave(draggable) [enterCount: 1]\n  // leaving window (-1 enterCount)\n  // - dragleave(document.body) [enterCount: 0] {leaving the window}\n\n  // Things to note:\n  // - dragenter and dragleave bubble\n  // - the first dragenter when entering a window might not be on `window`\n  //   - it could be on an element that is pressed up against the window\n  //   - (so we cannot rely on `event.target` values)\n\n  bindAll(window, [{\n    type: 'dragstart',\n    listener: function listener() {\n      state.enterCount = 0;\n      // drag start occurs in the source window\n      state.isOverWindow = true;\n      // When a drag first starts it will also trigger a \"dragenter\" on the draggable element\n    }\n  }, {\n    type: 'drop',\n    listener: resetState\n  }, {\n    type: 'dragend',\n    listener: resetState\n  }, {\n    type: 'dragenter',\n    listener: function listener(event) {\n      if (!state.isOverWindow && state.enterCount === 0) {\n        // Patching the `event` object\n        // The `event` object is shared with all event listeners for the event\n        // @ts-expect-error: adding property to the event object\n        event[symbols.isEnteringWindow] = true;\n      }\n      state.isOverWindow = true;\n      state.enterCount++;\n    }\n  }, {\n    type: 'dragleave',\n    listener: function listener(event) {\n      state.enterCount--;\n      if (state.isOverWindow && state.enterCount === 0) {\n        // Patching the `event` object as it is shared with all event listeners\n        // The `event` object is shared with all event listeners for the event\n        // @ts-expect-error: adding property to the event object\n        event[symbols.isLeavingWindow] = true;\n        state.isOverWindow = false;\n      }\n    }\n  }],\n  // using `capture: true` so that adding event listeners\n  // in bubble phase will have the correct symbols\n  {\n    capture: true\n  });\n})();","import { isFirefox } from '../is-firefox';\nimport { isSafari } from '../is-safari';\nimport { isLeavingWindowInSafari } from './count-events-for-safari';\nimport { isFromAnotherWindow } from './is-from-another-window';\nexport function isLeavingWindow(_ref) {\n  var dragLeave = _ref.dragLeave;\n  var type = dragLeave.type,\n    relatedTarget = dragLeave.relatedTarget;\n  if (type !== 'dragleave') {\n    return false;\n  }\n  if (isSafari()) {\n    return isLeavingWindowInSafari({\n      dragLeave: dragLeave\n    });\n  }\n\n  // Standard check: if going to `null` we are leaving the `window`\n  if (relatedTarget == null) {\n    return true;\n  }\n\n  /**\n   * 🦊 Exception: `iframe` in Firefox (`125.0`)\n   *\n   * Case 1: parent `window` → child `iframe`\n   * `dragLeave.relatedTarget` is element _inside_ the child `iframe`\n   * (foreign element)\n   *\n   * Case 2: child `iframe` → parent `window`\n   * `dragLeave.relatedTarget` is the `iframe` in the parent `window`\n   * (foreign element)\n   */\n\n  if (isFirefox()) {\n    return isFromAnotherWindow(relatedTarget);\n  }\n\n  /**\n   * 🌏 Exception: `iframe` in Chrome (`124.0`)\n   *\n   * Case 1: parent `window` → child `iframe`\n   * `dragLeave.relatedTarget` is the `iframe` in the parent `window`\n   *\n   * Case 2: child `iframe` → parent `window`\n   * `dragLeave.relatedTarget` is `null` *(standard check)*\n   */\n\n  // Case 2\n  // Using `instanceof` check as the element will be in the same `window`\n  return relatedTarget instanceof HTMLIFrameElement;\n}","/**\n * Does the `EventTarget` look like a `Node` based on \"duck typing\".\n *\n * Helpful when the `Node` might be outside of the current document\n * so we cannot to an `target instanceof Node` check.\n */\nfunction isNodeLike(target) {\n  return 'nodeName' in target;\n}\n\n/**\n * Is an `EventTarget` a `Node` from another `window`?\n */\nexport function isFromAnotherWindow(eventTarget) {\n  return isNodeLike(eventTarget) && eventTarget.ownerDocument !== document;\n}","export function getInput(event) {\n  return {\n    altKey: event.altKey,\n    button: event.button,\n    buttons: event.buttons,\n    ctrlKey: event.ctrlKey,\n    metaKey: event.metaKey,\n    shiftKey: event.shiftKey,\n    clientX: event.clientX,\n    clientY: event.clientY,\n    pageX: event.pageX,\n    pageY: event.pageY\n  };\n}","import rafSchd from 'raf-schd';\nvar scheduleOnDrag = rafSchd(function (fn) {\n  return fn();\n});\nvar dragStart = function () {\n  var scheduled = null;\n  function schedule(fn) {\n    var frameId = requestAnimationFrame(function () {\n      scheduled = null;\n      fn();\n    });\n    scheduled = {\n      frameId: frameId,\n      fn: fn\n    };\n  }\n  function flush() {\n    if (scheduled) {\n      cancelAnimationFrame(scheduled.frameId);\n      scheduled.fn();\n      scheduled = null;\n    }\n  }\n  return {\n    schedule: schedule,\n    flush: flush\n  };\n}();\nexport function makeDispatch(_ref) {\n  var source = _ref.source,\n    initial = _ref.initial,\n    dispatchEvent = _ref.dispatchEvent;\n  var previous = {\n    dropTargets: []\n  };\n  function safeDispatch(args) {\n    dispatchEvent(args);\n    previous = {\n      dropTargets: args.payload.location.current.dropTargets\n    };\n  }\n  var dispatch = {\n    start: function start(_ref2) {\n      var nativeSetDragImage = _ref2.nativeSetDragImage;\n      // Ensuring that both `onGenerateDragPreview` and `onDragStart` get the same location.\n      // We do this so that `previous` is`[]` in `onDragStart` (which is logical)\n      var location = {\n        current: initial,\n        previous: previous,\n        initial: initial\n      };\n      // a `onGenerateDragPreview` does _not_ add another entry for `previous`\n      // onDragPreview\n      safeDispatch({\n        eventName: 'onGenerateDragPreview',\n        payload: {\n          source: source,\n          location: location,\n          nativeSetDragImage: nativeSetDragImage\n        }\n      });\n      dragStart.schedule(function () {\n        safeDispatch({\n          eventName: 'onDragStart',\n          payload: {\n            source: source,\n            location: location\n          }\n        });\n      });\n    },\n    dragUpdate: function dragUpdate(_ref3) {\n      var current = _ref3.current;\n      dragStart.flush();\n      scheduleOnDrag.cancel();\n      safeDispatch({\n        eventName: 'onDropTargetChange',\n        payload: {\n          source: source,\n          location: {\n            initial: initial,\n            previous: previous,\n            current: current\n          }\n        }\n      });\n    },\n    drag: function drag(_ref4) {\n      var current = _ref4.current;\n      scheduleOnDrag(function () {\n        dragStart.flush();\n        var location = {\n          initial: initial,\n          previous: previous,\n          current: current\n        };\n        safeDispatch({\n          eventName: 'onDrag',\n          payload: {\n            source: source,\n            location: location\n          }\n        });\n      });\n    },\n    drop: function drop(_ref5) {\n      var current = _ref5.current,\n        updatedSourcePayload = _ref5.updatedSourcePayload;\n      dragStart.flush();\n      scheduleOnDrag.cancel();\n      safeDispatch({\n        eventName: 'onDrop',\n        payload: {\n          source: updatedSourcePayload !== null && updatedSourcePayload !== void 0 ? updatedSourcePayload : source,\n          location: {\n            current: current,\n            previous: previous,\n            initial: initial\n          }\n        }\n      });\n    }\n  };\n  return dispatch;\n}","var rafSchd = function rafSchd(fn) {\n  var lastArgs = [];\n  var frameId = null;\n\n  var wrapperFn = function wrapperFn() {\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    lastArgs = args;\n\n    if (frameId) {\n      return;\n    }\n\n    frameId = requestAnimationFrame(function () {\n      frameId = null;\n      fn.apply(void 0, lastArgs);\n    });\n  };\n\n  wrapperFn.cancel = function () {\n    if (!frameId) {\n      return;\n    }\n\n    cancelAnimationFrame(frameId);\n    frameId = null;\n  };\n\n  return wrapperFn;\n};\n\nexport default rafSchd;\n","import _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nimport { bindAll } from 'bind-event-listener';\nimport { getElementFromPointWithoutHoneypot } from '../honey-pot-fix/get-element-from-point-without-honey-pot';\nimport { isHoneyPotElement } from '../honey-pot-fix/is-honey-pot-element';\nimport { isLeavingWindow } from '../util/changing-window/is-leaving-window';\nimport { getBindingsForBrokenDrags } from '../util/detect-broken-drag';\nimport { getInput } from '../util/get-input';\nimport { makeDispatch } from './dispatch-consumer-event';\nvar globalState = {\n  isActive: false\n};\nfunction canStart() {\n  return !globalState.isActive;\n}\nfunction getNativeSetDragImage(event) {\n  if (event.dataTransfer) {\n    // need to use `.bind` as `setDragImage` is required\n    // to be run with `event.dataTransfer` as the \"this\" context\n    return event.dataTransfer.setDragImage.bind(event.dataTransfer);\n  }\n  return null;\n}\nfunction hasHierarchyChanged(_ref) {\n  var current = _ref.current,\n    next = _ref.next;\n  if (current.length !== next.length) {\n    return true;\n  }\n  // not checking stickiness, data or dropEffect,\n  // just whether the hierarchy has changed\n  for (var i = 0; i < current.length; i++) {\n    if (current[i].element !== next[i].element) {\n      return true;\n    }\n  }\n  return false;\n}\nfunction start(_ref2) {\n  var event = _ref2.event,\n    dragType = _ref2.dragType,\n    getDropTargetsOver = _ref2.getDropTargetsOver,\n    dispatchEvent = _ref2.dispatchEvent;\n  if (!canStart()) {\n    return;\n  }\n  var initial = getStartLocation({\n    event: event,\n    dragType: dragType,\n    getDropTargetsOver: getDropTargetsOver\n  });\n  globalState.isActive = true;\n  var state = {\n    current: initial\n  };\n\n  // Setting initial drop effect for the drag\n  setDropEffectOnEvent({\n    event: event,\n    current: initial.dropTargets\n  });\n  var dispatch = makeDispatch({\n    source: dragType.payload,\n    dispatchEvent: dispatchEvent,\n    initial: initial\n  });\n  function updateState(next) {\n    // only looking at whether hierarchy has changed to determine whether something as 'changed'\n    var hasChanged = hasHierarchyChanged({\n      current: state.current.dropTargets,\n      next: next.dropTargets\n    });\n\n    // Always updating the state to include latest data, dropEffect and stickiness\n    // Only updating consumers if the hierarchy has changed in some way\n    // Consumers can get the latest data by using `onDrag`\n    state.current = next;\n    if (hasChanged) {\n      dispatch.dragUpdate({\n        current: state.current\n      });\n    }\n  }\n  function onUpdateEvent(event) {\n    var input = getInput(event);\n\n    // If we are over the honey pot, we need to get the element\n    // that the user would have been over if not for the honey pot\n    var target = isHoneyPotElement(event.target) ? getElementFromPointWithoutHoneypot({\n      x: input.clientX,\n      y: input.clientY\n    }) : event.target;\n    var nextDropTargets = getDropTargetsOver({\n      target: target,\n      input: input,\n      source: dragType.payload,\n      current: state.current.dropTargets\n    });\n    if (nextDropTargets.length) {\n      // 🩸 must call `event.preventDefault()` to allow a browser drop to occur\n      event.preventDefault();\n      setDropEffectOnEvent({\n        event: event,\n        current: nextDropTargets\n      });\n    }\n    updateState({\n      dropTargets: nextDropTargets,\n      input: input\n    });\n  }\n  function cancel() {\n    // The spec behaviour is that when a drag is cancelled, or when dropping on no drop targets,\n    // a \"dragleave\" event is fired on the active drop target before a \"dragend\" event.\n    // We are replicating that behaviour in `cancel` if there are any active drop targets to\n    // ensure consistent behaviour.\n    //\n    // Note: When cancelling, or dropping on no drop targets, a \"dragleave\" event\n    // will have already cleared the dropTargets to `[]` (as that particular \"dragleave\" has a `relatedTarget` of `null`)\n\n    if (state.current.dropTargets.length) {\n      updateState({\n        dropTargets: [],\n        input: state.current.input\n      });\n    }\n    dispatch.drop({\n      current: state.current,\n      updatedSourcePayload: null\n    });\n    finish();\n  }\n  function finish() {\n    globalState.isActive = false;\n    unbindEvents();\n  }\n  var unbindEvents = bindAll(window, [{\n    // 👋 Note: we are repurposing the `dragover` event as our `drag` event\n    // this is because firefox does not publish pointer coordinates during\n    // a `drag` event, but does for every other type of drag event\n    // `dragover` fires on all elements that are being dragged over\n    // Because we are binding to `window` - our `dragover` is effectively the same as a `drag`\n    // 🦊😤\n    type: 'dragover',\n    listener: function listener(event) {\n      // We need to regularly calculate the drop targets in order to allow:\n      //  - dynamic `canDrop()` checks\n      //  - rapid updating `getData()` calls to attach data in response to user input (eg for edge detection)\n      // Sadly we cannot schedule inspecting changes resulting from this event\n      // we need to be able to conditionally cancel the event with `event.preventDefault()`\n      // to enable the correct native drop experience.\n\n      // 1. check to see if anything has changed\n      onUpdateEvent(event);\n\n      // 2. let consumers know a move has occurred\n      // This will include the latest 'input' values\n      dispatch.drag({\n        current: state.current\n      });\n    }\n  }, {\n    type: 'dragenter',\n    listener: onUpdateEvent\n  }, {\n    type: 'dragleave',\n    listener: function listener(event) {\n      if (!isLeavingWindow({\n        dragLeave: event\n      })) {\n        return;\n      }\n\n      /**\n       * At this point we don't know if a drag is being cancelled,\n       * or if a drag is leaving the `window`.\n       *\n       * Both have:\n       *   1. \"dragleave\" (with `relatedTarget: null`)\n       *   2. \"dragend\" (a \"dragend\" can occur when outside the `window`)\n       *\n       * **Clearing drop targets**\n       *\n       * For either case we are clearing the the drop targets\n       *\n       * - cancelling: we clear drop targets in `\"dragend\"` anyway\n       * - leaving the `window`: we clear the drop targets (to clear stickiness)\n       *\n       * **Leaving the window and finishing the drag**\n       *\n       * _internal drags_\n       *\n       * - The drag continues when the user is outside the `window`\n       *   and can resume if the user drags back over the `window`,\n       *   or end when the user drops in an external `window`.\n       * - We will get a `\"dragend\"`, or we can listen for other\n       *   events to determine the drag is finished when the user re-enters the `window`).\n       *\n       * _external drags_\n       *\n       * - We conclude the drag operation.\n       * - We have no idea if the user will drag back over the `window`,\n       *   or if the drag ends elsewhere.\n       * - We will create a new drag if the user re-enters the `window`.\n       *\n       * **Not updating `input`**\n       *\n       * 🐛 Bug[Chrome] the final `\"dragleave\"` has default input values (eg `clientX == 0`)\n       * Workaround: intentionally not updating `input` in \"dragleave\"\n       * rather than the users current input values\n       * - [Conversation](https://twitter.com/alexandereardon/status/1642697633864241152)\n       * - [Bug](https://bugs.chromium.org/p/chromium/issues/detail?id=1429937)\n       **/\n\n      updateState({\n        input: state.current.input,\n        dropTargets: []\n      });\n      if (dragType.startedFrom === 'external') {\n        cancel();\n      }\n    }\n  }, {\n    // A \"drop\" can only happen if the browser allowed the drop\n    type: 'drop',\n    listener: function listener(event) {\n      // Capture the final input.\n      // We are capturing the final `input` for the\n      // most accurate honey pot experience\n      state.current = {\n        dropTargets: state.current.dropTargets,\n        input: getInput(event)\n      };\n\n      /** If there are no drop targets, then we will get\n       * a \"drop\" event if:\n       * - `preventUnhandled()` is being used\n       * - there is an unmanaged drop target (eg another library)\n       * In these cases, it's up to the consumer\n       * to handle the drop if it's not over one of our drop targets\n       * - `preventUnhandled()` will cancel the \"drop\"\n       * - unmanaged drop targets can handle the \"drop\" how they want to\n       * We won't call `event.preventDefault()` in this call path */\n\n      if (!state.current.dropTargets.length) {\n        cancel();\n        return;\n      }\n      event.preventDefault();\n\n      // applying the latest drop effect to the event\n      setDropEffectOnEvent({\n        event: event,\n        current: state.current.dropTargets\n      });\n      dispatch.drop({\n        current: state.current,\n        // When dropping something native, we need to extract the latest\n        // `.items` from the \"drop\" event as it is now accessible\n        updatedSourcePayload: dragType.type === 'external' ? dragType.getDropPayload(event) : null\n      });\n      finish();\n    }\n  }, {\n    // \"dragend\" fires when on the drag source (eg a draggable element)\n    // when the drag is finished.\n    // \"dragend\" will fire after \"drop\" (if there was a successful drop)\n    // \"dragend\" does not fire if the draggable source has been removed during the drag\n    // or for external drag sources (eg files)\n\n    // This \"dragend\" listener will not fire if there was a successful drop\n    // as we will have already removed the event listener\n\n    type: 'dragend',\n    listener: function listener(event) {\n      // In firefox, the position of the \"dragend\" event can\n      // be a bit different to the last \"dragover\" event.\n      // Updating the input so we can get the best possible\n      // information for the honey pot.\n      state.current = {\n        dropTargets: state.current.dropTargets,\n        input: getInput(event)\n      };\n      cancel();\n    }\n  }].concat(_toConsumableArray(getBindingsForBrokenDrags({\n    onDragEnd: cancel\n  }))),\n  // Once we have started a managed drag operation it is important that we see / own all drag events\n  // We got one adoption bug pop up where some code was stopping (`event.stopPropagation()`)\n  // all \"drop\" events in the bubble phase on the `document.body`.\n  // This meant that we never saw the \"drop\" event.\n  {\n    capture: true\n  });\n  dispatch.start({\n    nativeSetDragImage: getNativeSetDragImage(event)\n  });\n}\nfunction setDropEffectOnEvent(_ref3) {\n  var _current$;\n  var event = _ref3.event,\n    current = _ref3.current;\n  // setting the `dropEffect` to be the innerMost drop targets dropEffect\n  var innerMost = (_current$ = current[0]) === null || _current$ === void 0 ? void 0 : _current$.dropEffect;\n  if (innerMost != null && event.dataTransfer) {\n    event.dataTransfer.dropEffect = innerMost;\n  }\n}\nfunction getStartLocation(_ref4) {\n  var event = _ref4.event,\n    dragType = _ref4.dragType,\n    getDropTargetsOver = _ref4.getDropTargetsOver;\n  var input = getInput(event);\n\n  // When dragging from outside of the browser,\n  // the drag is not being sourced from any local drop targets\n  if (dragType.startedFrom === 'external') {\n    return {\n      input: input,\n      dropTargets: []\n    };\n  }\n  var dropTargets = getDropTargetsOver({\n    input: input,\n    source: dragType.payload,\n    target: event.target,\n    current: []\n  });\n  return {\n    input: input,\n    dropTargets: dropTargets\n  };\n}\nexport var lifecycle = {\n  canStart: canStart,\n  start: start\n};","export function getBindingsForBrokenDrags(_ref) {\n  var onDragEnd = _ref.onDragEnd;\n  return [\n  // ## Detecting drag ending for removed draggables\n  //\n  // If a draggable element is removed during a drag and the user drops:\n  // 1. if over a valid drop target: we get a \"drop\" event to know the drag is finished\n  // 2. if not over a valid drop target (or cancelled): we get nothing\n  // The \"dragend\" event will not fire on the source draggable if it has been\n  // removed from the DOM.\n  // So we need to figure out if a drag operation has finished by looking at other events\n  // We can do this by looking at other events\n\n  // ### First detection: \"pointermove\" events\n\n  // 1. \"pointermove\" events cannot fire during a drag and drop operation\n  // according to the spec. So if we get a \"pointermove\" it means that\n  // the drag and drop operations has finished. So if we get a \"pointermove\"\n  // we know that the drag is over\n  // 2. 🦊😤 Drag and drop operations are _supposed_ to suppress\n  // other pointer events. However, firefox will allow a few\n  // pointer event to get through after a drag starts.\n  // The most I've seen is 3\n  {\n    type: 'pointermove',\n    listener: function () {\n      var callCount = 0;\n      return function listener() {\n        // Using 20 as it is far bigger than the most observed (3)\n        if (callCount < 20) {\n          callCount++;\n          return;\n        }\n        onDragEnd();\n      };\n    }()\n  },\n  // ### Second detection: \"pointerdown\" events\n\n  // If we receive this event then we know that a drag operation has finished\n  // and potentially another one is about to start.\n  // Note: `pointerdown` fires on all browsers / platforms before \"dragstart\"\n  {\n    type: 'pointerdown',\n    listener: onDragEnd\n  }];\n}","// Extending `Map` to allow us to link Key and Values together\n\nvar ledger = new Map();\nfunction registerUsage(_ref) {\n  var typeKey = _ref.typeKey,\n    mount = _ref.mount;\n  var entry = ledger.get(typeKey);\n  if (entry) {\n    entry.usageCount++;\n    return entry;\n  }\n  var initial = {\n    typeKey: typeKey,\n    unmount: mount(),\n    usageCount: 1\n  };\n  ledger.set(typeKey, initial);\n  return initial;\n}\nexport function register(args) {\n  var entry = registerUsage(args);\n  return function unregister() {\n    entry.usageCount--;\n    if (entry.usageCount > 0) {\n      return;\n    }\n    // Only a single usage left, remove it\n    entry.unmount();\n    ledger.delete(args.typeKey);\n  };\n}","/** Create a new combined function that will call all the provided functions */\nexport function combine() {\n  for (var _len = arguments.length, fns = new Array(_len), _key = 0; _key < _len; _key++) {\n    fns[_key] = arguments[_key];\n  }\n  return function cleanup() {\n    fns.forEach(function (fn) {\n      return fn();\n    });\n  };\n}","export function addAttribute(element, _ref) {\n  var attribute = _ref.attribute,\n    value = _ref.value;\n  element.setAttribute(attribute, value);\n  return function () {\n    return element.removeAttribute(attribute);\n  };\n}","import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _toConsumableArray from \"@babel/runtime/helpers/toConsumableArray\";\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nfunction _createForOfIteratorHelper(r, e) { var t = \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (!t) { if (Array.isArray(r) || (t = _unsupportedIterableToArray(r)) || e && r && \"number\" == typeof r.length) { t && (r = t); var _n = 0, F = function F() {}; return { s: F, n: function n() { return _n >= r.length ? { done: !0 } : { done: !1, value: r[_n++] }; }, e: function e(r) { throw r; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var o, a = !0, u = !1; return { s: function s() { t = t.call(r); }, n: function n() { var r = t.next(); return a = r.done, r; }, e: function e(r) { u = !0, o = r; }, f: function f() { try { a || null == t.return || t.return(); } finally { if (u) throw o; } } }; }\nfunction _unsupportedIterableToArray(r, a) { if (r) { if (\"string\" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }\nfunction _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }\nimport { combine } from '../public-utils/combine';\nimport { addAttribute } from '../util/add-attribute';\nfunction copyReverse(array) {\n  return array.slice(0).reverse();\n}\nexport function makeDropTarget(_ref) {\n  var typeKey = _ref.typeKey,\n    defaultDropEffect = _ref.defaultDropEffect;\n  var registry = new WeakMap();\n  var dropTargetDataAtt = \"data-drop-target-for-\".concat(typeKey);\n  var dropTargetSelector = \"[\".concat(dropTargetDataAtt, \"]\");\n  function addToRegistry(args) {\n    registry.set(args.element, args);\n    return function () {\n      return registry.delete(args.element);\n    };\n  }\n  function dropTargetForConsumers(args) {\n    // Guardrail: warn if the draggable element is already registered\n    if (process.env.NODE_ENV !== 'production') {\n      var existing = registry.get(args.element);\n      if (existing) {\n        // eslint-disable-next-line no-console\n        console.warn(\"You have already registered a [\".concat(typeKey, \"] dropTarget on the same element\"), {\n          existing: existing,\n          proposed: args\n        });\n      }\n      if (args.element instanceof HTMLIFrameElement) {\n        // eslint-disable-next-line no-console\n        console.warn(\"\\n            We recommend not registering <iframe> elements as drop targets\\n            as it can result in some strange browser event ordering.\\n          \" // Removing newlines and excessive whitespace\n        .replace(/\\s{2,}/g, ' ').trim());\n      }\n    }\n    return combine(addAttribute(args.element, {\n      attribute: dropTargetDataAtt,\n      value: 'true'\n    }), addToRegistry(args));\n  }\n  function getActualDropTargets(_ref2) {\n    var _args$getData, _args$getData2, _args$getDropEffect, _args$getDropEffect2;\n    var source = _ref2.source,\n      target = _ref2.target,\n      input = _ref2.input,\n      _ref2$result = _ref2.result,\n      result = _ref2$result === void 0 ? [] : _ref2$result;\n    if (target == null) {\n      return result;\n    }\n    if (!(target instanceof Element)) {\n      // For \"text-selection\" drags, the original `target`\n      // is not an `Element`, so we need to start looking from\n      // the parent element\n      if (target instanceof Node) {\n        return getActualDropTargets({\n          source: source,\n          target: target.parentElement,\n          input: input,\n          result: result\n        });\n      }\n\n      // not sure what we are working with,\n      // so we can exit.\n      return result;\n    }\n    var closest = target.closest(dropTargetSelector);\n\n    // Cannot find anything else\n    if (closest == null) {\n      return result;\n    }\n    var args = registry.get(closest);\n\n    // error: something had a dropTargetSelector but we could not\n    // find a match. For now, failing silently\n    if (args == null) {\n      return result;\n    }\n    var feedback = {\n      input: input,\n      source: source,\n      element: args.element\n    };\n\n    // if dropping is not allowed, skip this drop target\n    // and continue looking up the DOM tree\n    if (args.canDrop && !args.canDrop(feedback)) {\n      return getActualDropTargets({\n        source: source,\n        target: args.element.parentElement,\n        input: input,\n        result: result\n      });\n    }\n\n    // calculate our new record\n    var data = (_args$getData = (_args$getData2 = args.getData) === null || _args$getData2 === void 0 ? void 0 : _args$getData2.call(args, feedback)) !== null && _args$getData !== void 0 ? _args$getData : {};\n    var dropEffect = (_args$getDropEffect = (_args$getDropEffect2 = args.getDropEffect) === null || _args$getDropEffect2 === void 0 ? void 0 : _args$getDropEffect2.call(args, feedback)) !== null && _args$getDropEffect !== void 0 ? _args$getDropEffect : defaultDropEffect;\n    var record = {\n      data: data,\n      element: args.element,\n      dropEffect: dropEffect,\n      // we are collecting _actual_ drop targets, so these are\n      // being applied _not_ due to stickiness\n      isActiveDueToStickiness: false\n    };\n    return getActualDropTargets({\n      source: source,\n      target: args.element.parentElement,\n      input: input,\n      // Using bubble ordering. Same ordering as `event.getPath()`\n      result: [].concat(_toConsumableArray(result), [record])\n    });\n  }\n  function notifyCurrent(_ref3) {\n    var eventName = _ref3.eventName,\n      payload = _ref3.payload;\n    var _iterator = _createForOfIteratorHelper(payload.location.current.dropTargets),\n      _step;\n    try {\n      for (_iterator.s(); !(_step = _iterator.n()).done;) {\n        var _entry$eventName;\n        var record = _step.value;\n        var entry = registry.get(record.element);\n        var args = _objectSpread(_objectSpread({}, payload), {}, {\n          self: record\n        });\n        entry === null || entry === void 0 || (_entry$eventName = entry[eventName]) === null || _entry$eventName === void 0 || _entry$eventName.call(entry,\n        // I cannot seem to get the types right here.\n        // TS doesn't seem to like that one event can need `nativeSetDragImage`\n        // @ts-expect-error\n        args);\n      }\n    } catch (err) {\n      _iterator.e(err);\n    } finally {\n      _iterator.f();\n    }\n  }\n  var actions = {\n    onGenerateDragPreview: notifyCurrent,\n    onDrag: notifyCurrent,\n    onDragStart: notifyCurrent,\n    onDrop: notifyCurrent,\n    onDropTargetChange: function onDropTargetChange(_ref4) {\n      var payload = _ref4.payload;\n      var isCurrent = new Set(payload.location.current.dropTargets.map(function (record) {\n        return record.element;\n      }));\n      var visited = new Set();\n      var _iterator2 = _createForOfIteratorHelper(payload.location.previous.dropTargets),\n        _step2;\n      try {\n        for (_iterator2.s(); !(_step2 = _iterator2.n()).done;) {\n          var _entry$onDropTargetCh;\n          var record = _step2.value;\n          visited.add(record.element);\n          var entry = registry.get(record.element);\n          var isOver = isCurrent.has(record.element);\n          var args = _objectSpread(_objectSpread({}, payload), {}, {\n            self: record\n          });\n          entry === null || entry === void 0 || (_entry$onDropTargetCh = entry.onDropTargetChange) === null || _entry$onDropTargetCh === void 0 || _entry$onDropTargetCh.call(entry, args);\n\n          // if we cannot find the drop target in the current array, then it has been left\n          if (!isOver) {\n            var _entry$onDragLeave;\n            entry === null || entry === void 0 || (_entry$onDragLeave = entry.onDragLeave) === null || _entry$onDragLeave === void 0 || _entry$onDragLeave.call(entry, args);\n          }\n        }\n      } catch (err) {\n        _iterator2.e(err);\n      } finally {\n        _iterator2.f();\n      }\n      var _iterator3 = _createForOfIteratorHelper(payload.location.current.dropTargets),\n        _step3;\n      try {\n        for (_iterator3.s(); !(_step3 = _iterator3.n()).done;) {\n          var _entry$onDropTargetCh2, _entry$onDragEnter;\n          var _record = _step3.value;\n          // already published an update to this drop target\n          if (visited.has(_record.element)) {\n            continue;\n          }\n          // at this point we have a new drop target that is being entered into\n          var _args = _objectSpread(_objectSpread({}, payload), {}, {\n            self: _record\n          });\n          var _entry = registry.get(_record.element);\n          _entry === null || _entry === void 0 || (_entry$onDropTargetCh2 = _entry.onDropTargetChange) === null || _entry$onDropTargetCh2 === void 0 || _entry$onDropTargetCh2.call(_entry, _args);\n          _entry === null || _entry === void 0 || (_entry$onDragEnter = _entry.onDragEnter) === null || _entry$onDragEnter === void 0 || _entry$onDragEnter.call(_entry, _args);\n        }\n      } catch (err) {\n        _iterator3.e(err);\n      } finally {\n        _iterator3.f();\n      }\n    }\n  };\n  function dispatchEvent(args) {\n    actions[args.eventName](args);\n  }\n  function getIsOver(_ref5) {\n    var source = _ref5.source,\n      target = _ref5.target,\n      input = _ref5.input,\n      current = _ref5.current;\n    var actual = getActualDropTargets({\n      source: source,\n      target: target,\n      input: input\n    });\n\n    // stickiness is only relevant when we have less\n    // drop targets than we did before\n    if (actual.length >= current.length) {\n      return actual;\n    }\n\n    // less 'actual' drop targets than before,\n    // we need to see if 'stickiness' applies\n\n    // An old drop target will continue to be dropped on if:\n    // 1. it has the same parent\n    // 2. nothing exists in it's previous index\n\n    var lastCaptureOrdered = copyReverse(current);\n    var actualCaptureOrdered = copyReverse(actual);\n    var resultCaptureOrdered = [];\n    for (var index = 0; index < lastCaptureOrdered.length; index++) {\n      var _argsForLast$getIsSti;\n      var last = lastCaptureOrdered[index];\n      var fresh = actualCaptureOrdered[index];\n\n      // if a record is in the new index -> use that\n      // it will have the latest data + dropEffect\n      if (fresh != null) {\n        resultCaptureOrdered.push(fresh);\n        continue;\n      }\n\n      // At this point we have no drop target in the old spot\n      // Check to see if we can use a previous sticky drop target\n\n      // The \"parent\" is the one inside of `resultCaptureOrdered`\n      // (the parent might be a drop target that was sticky)\n      var parent = resultCaptureOrdered[index - 1];\n      var lastParent = lastCaptureOrdered[index - 1];\n\n      // Stickiness is based on parent relationships, so if the parent relationship has change\n      // then we can stop our search\n      if ((parent === null || parent === void 0 ? void 0 : parent.element) !== (lastParent === null || lastParent === void 0 ? void 0 : lastParent.element)) {\n        break;\n      }\n\n      // We need to check whether the old drop target can still be dropped on\n\n      var argsForLast = registry.get(last.element);\n\n      // We cannot drop on a drop target that is no longer mounted\n      if (!argsForLast) {\n        break;\n      }\n      var feedback = {\n        input: input,\n        source: source,\n        element: argsForLast.element\n      };\n\n      // We cannot drop on a drop target that no longer allows being dropped on\n      if (argsForLast.canDrop && !argsForLast.canDrop(feedback)) {\n        break;\n      }\n\n      // We cannot drop on a drop target that is no longer sticky\n      if (!((_argsForLast$getIsSti = argsForLast.getIsSticky) !== null && _argsForLast$getIsSti !== void 0 && _argsForLast$getIsSti.call(argsForLast, feedback))) {\n        break;\n      }\n\n      // Note: intentionally not recollecting `getData()` or `getDropEffect()`\n      // Previous values for `data` and `dropEffect` will be borrowed\n      // This is to prevent things like the 'closest edge' changing when\n      // no longer over a drop target.\n      // We could change our mind on this behaviour in the future\n\n      resultCaptureOrdered.push(_objectSpread(_objectSpread({}, last), {}, {\n        // making it clear to consumers this drop target is active due to stickiness\n        isActiveDueToStickiness: true\n      }));\n    }\n\n    // return bubble ordered result\n    return copyReverse(resultCaptureOrdered);\n  }\n  return {\n    dropTargetForConsumers: dropTargetForConsumers,\n    getIsOver: getIsOver,\n    dispatchEvent: dispatchEvent\n  };\n}","import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nfunction _createForOfIteratorHelper(r, e) { var t = \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (!t) { if (Array.isArray(r) || (t = _unsupportedIterableToArray(r)) || e && r && \"number\" == typeof r.length) { t && (r = t); var _n = 0, F = function F() {}; return { s: F, n: function n() { return _n >= r.length ? { done: !0 } : { done: !1, value: r[_n++] }; }, e: function e(r) { throw r; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var o, a = !0, u = !1; return { s: function s() { t = t.call(r); }, n: function n() { var r = t.next(); return a = r.done, r; }, e: function e(r) { u = !0, o = r; }, f: function f() { try { a || null == t.return || t.return(); } finally { if (u) throw o; } } }; }\nfunction _unsupportedIterableToArray(r, a) { if (r) { if (\"string\" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }\nfunction _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nexport function makeMonitor() {\n  var registry = new Set();\n  var dragging = null;\n  function tryAddToActive(monitor) {\n    if (!dragging) {\n      return;\n    }\n    // Monitor is allowed to monitor events if:\n    // 1. It has no `canMonitor` function (default is that a monitor can listen to everything)\n    // 2. `canMonitor` returns true\n    if (!monitor.canMonitor || monitor.canMonitor(dragging.canMonitorArgs)) {\n      dragging.active.add(monitor);\n    }\n  }\n  function monitorForConsumers(args) {\n    // We are giving each `args` a new reference so that you\n    // can create multiple monitors with the same `args`.\n    var entry = _objectSpread({}, args);\n    registry.add(entry);\n\n    // if there is an active drag we need to see if this new monitor is relevant\n    tryAddToActive(entry);\n    return function cleanup() {\n      registry.delete(entry);\n\n      // We need to stop publishing events during a drag to this monitor!\n      if (dragging) {\n        dragging.active.delete(entry);\n      }\n    };\n  }\n  function dispatchEvent(_ref) {\n    var eventName = _ref.eventName,\n      payload = _ref.payload;\n    if (eventName === 'onGenerateDragPreview') {\n      dragging = {\n        canMonitorArgs: {\n          initial: payload.location.initial,\n          source: payload.source\n        },\n        active: new Set()\n      };\n      var _iterator = _createForOfIteratorHelper(registry),\n        _step;\n      try {\n        for (_iterator.s(); !(_step = _iterator.n()).done;) {\n          var monitor = _step.value;\n          tryAddToActive(monitor);\n        }\n      } catch (err) {\n        _iterator.e(err);\n      } finally {\n        _iterator.f();\n      }\n    }\n\n    // This should never happen.\n    if (!dragging) {\n      return;\n    }\n\n    // Creating an array from the set _before_ iterating\n    // This is so that monitors added during the current event will not be called.\n    // This behaviour matches native EventTargets where an event listener\n    // cannot add another event listener during an active event to the same\n    // event target in the same event (for us we have a single global event target)\n    var active = Array.from(dragging.active);\n    for (var _i = 0, _active = active; _i < _active.length; _i++) {\n      var _monitor = _active[_i];\n      // A monitor can be removed by another monitor during an event.\n      // We need to check that the monitor is still registered before calling it\n      if (dragging.active.has(_monitor)) {\n        var _monitor$eventName;\n        // @ts-expect-error: I cannot get this type working!\n        (_monitor$eventName = _monitor[eventName]) === null || _monitor$eventName === void 0 || _monitor$eventName.call(_monitor, payload);\n      }\n    }\n    if (eventName === 'onDrop') {\n      dragging.active.clear();\n      dragging = null;\n    }\n  }\n  return {\n    dispatchEvent: dispatchEvent,\n    monitorForConsumers: monitorForConsumers\n  };\n}","import { once } from '../public-utils/once';\n\n// using `cache` as our `isAndroid()` result will not change in a browser\nexport var isAndroid = once(function isAndroid() {\n  return navigator.userAgent.toLocaleLowerCase().includes('android');\n});\nexport var androidFallbackText = 'pdnd:android-fallback';","// Why we put the media types in their own files:\n//\n// - we are not putting them all in one file as not all adapters need all types\n// - we are not putting them in the external helpers as some things just need the\n//   types and not the external functions code\nexport var textMediaType = 'text/plain';","import _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nimport { bind } from 'bind-event-listener';\nimport { getElementFromPointWithoutHoneypot } from '../honey-pot-fix/get-element-from-point-without-honey-pot';\nimport { makeHoneyPotFix } from '../honey-pot-fix/make-honey-pot-fix';\nimport { makeAdapter } from '../make-adapter/make-adapter';\nimport { combine } from '../public-utils/combine';\nimport { addAttribute } from '../util/add-attribute';\nimport { androidFallbackText, isAndroid } from '../util/android';\nimport { getInput } from '../util/get-input';\nimport { textMediaType } from '../util/media-types/text-media-type';\nimport { URLMediaType } from '../util/media-types/url-media-type';\nimport { elementAdapterNativeDataKey } from './element-adapter-native-data-key';\nvar draggableRegistry = new WeakMap();\nfunction addToRegistry(args) {\n  draggableRegistry.set(args.element, args);\n  return function cleanup() {\n    draggableRegistry.delete(args.element);\n  };\n}\nvar honeyPotFix = makeHoneyPotFix();\nvar adapter = makeAdapter({\n  typeKey: 'element',\n  defaultDropEffect: 'move',\n  mount: function mount(api) {\n    /**  Binding event listeners the `document` rather than `window` so that\n     * this adapter always gets preference over the text adapter.\n     * `document` is the first `EventTarget` under `window`\n     * https://twitter.com/alexandereardon/status/1604658588311465985\n     */\n    return combine(honeyPotFix.bindEvents(), bind(document, {\n      type: 'dragstart',\n      listener: function listener(event) {\n        var _entry$dragHandle, _entry$getInitialData, _entry$getInitialData2, _entry$dragHandle2, _entry$getInitialData3, _entry$getInitialData4;\n        if (!api.canStart(event)) {\n          return;\n        }\n\n        // If the \"dragstart\" event is cancelled, then a drag won't start\n        // There will be no further drag operation events (eg no \"dragend\" event)\n        if (event.defaultPrevented) {\n          return;\n        }\n\n        // Technically `dataTransfer` can be `null` according to the types\n        // But that behaviour does not seem to appear in the spec.\n        // If there is not `dataTransfer`, we can assume something is wrong and not\n        // start a drag\n        if (!event.dataTransfer) {\n          // Including this code on \"test\" and \"development\" environments:\n          // - Browser tests commonly run against \"development\" builds\n          // - Unit tests commonly run in \"test\"\n          if (process.env.NODE_ENV !== 'production') {\n            // eslint-disable-next-line no-console\n            console.warn(\"\\n              It appears as though you have are not testing DragEvents correctly.\\n\\n              - If you are unit testing, ensure you have polyfilled DragEvent.\\n              - If you are browser testing, ensure you are dispatching drag events correctly.\\n\\n              Please see our testing guides for more information:\\n              https://atlassian.design/components/pragmatic-drag-and-drop/core-package/testing\\n            \".replace(/ {2}/g, ''));\n          }\n          return;\n        }\n\n        // the closest parent that is a draggable element will be marked as\n        // the `event.target` for the event\n        var target = event.target;\n\n        // this source is only for elements\n        // Note: only HTMLElements can have the \"draggable\" attribute\n        if (!(target instanceof HTMLElement)) {\n          return null;\n        }\n\n        // see if the thing being dragged is owned by us\n        var entry = draggableRegistry.get(target);\n\n        // no matching element found\n        // → dragging an element with `draggable=\"true\"` that is not controlled by us\n        if (!entry) {\n          return null;\n        }\n\n        /**\n         * A text selection drag _can_ have the `draggable` element be\n         * the `event.target` if the user is dragging the text selection\n         * from the `draggable`.\n         *\n         * To know if the `draggable` is being dragged, we look at whether any\n         * `\"text/plain\"` data is being dragged. If it is, then a text selection\n         * drag is occurring.\n         *\n         * This behaviour has been validated on:\n         *\n         * - Chrome@128 on Android@14\n         * - Chrome@128 on iOS@17.6.1\n         * - Chrome@128 on Windows@11\n         * - Chrome@128 on MacOS@14.6.1\n         * - Firefox@129 on Windows@11 (not possible for user to select text in a draggable)\n         * - Firefox@129 on MacOS@14.6.1 (not possible for user to select text in a draggable)\n         *\n         * Note: Could usually just use: `event.dataTransfer.types.includes(textMediaType)`\n         * but unfortunately ProseMirror is always setting `\"\"` as the dragged text\n         *\n         * Note: Unfortunately editor is (heavily) leaning on the current functionality today\n         * and unwinding it will be a decent amount of effort. So for now, a text selection\n         * where the `event.target` is a `draggable` element will still trigger the\n         * element adapter.\n         *\n         * // Future state:\n         * if(event.dataTransfer.getData(textMediaType)) {\n         * \treturn;\n         * }\n         *\n         */\n\n        var input = getInput(event);\n        var feedback = {\n          element: entry.element,\n          dragHandle: (_entry$dragHandle = entry.dragHandle) !== null && _entry$dragHandle !== void 0 ? _entry$dragHandle : null,\n          input: input\n        };\n\n        // Check: does the draggable want to allow dragging?\n        if (entry.canDrag && !entry.canDrag(feedback)) {\n          // cancel drag operation if we cannot drag\n          event.preventDefault();\n          return null;\n        }\n\n        // Check: is there a drag handle and is the user using it?\n        if (entry.dragHandle) {\n          // technically don't need this util, but just being\n          // consistent with how we look up what is under the users\n          // cursor.\n          var over = getElementFromPointWithoutHoneypot({\n            x: input.clientX,\n            y: input.clientY\n          });\n\n          // if we are not dragging from the drag handle (or something inside the drag handle)\n          // then we will cancel the active drag\n          if (!entry.dragHandle.contains(over)) {\n            event.preventDefault();\n            return null;\n          }\n        }\n\n        /**\n         *  **Goal**\n         *  Pass information to other applications\n         *\n         * **Approach**\n         *  Put data into the native data store\n         *\n         *  **What about the native adapter?**\n         *  When the element adapter puts native data into the native data store\n         *  the native adapter is not triggered in the current window,\n         *  but a native adapter in an external window _can_ be triggered\n         *\n         *  **Why bake this into core?**\n         *  This functionality could be pulled out and exposed inside of\n         *  `onGenerateDragPreview`. But decided to make it a part of the\n         *  base API as it felt like a common enough use case and ended\n         *  up being a similar amount of code to include this function as\n         *  it was to expose the hook for it\n         */\n        var nativeData = (_entry$getInitialData = (_entry$getInitialData2 = entry.getInitialDataForExternal) === null || _entry$getInitialData2 === void 0 ? void 0 : _entry$getInitialData2.call(entry, feedback)) !== null && _entry$getInitialData !== void 0 ? _entry$getInitialData : null;\n        if (nativeData) {\n          for (var _i = 0, _Object$entries = Object.entries(nativeData); _i < _Object$entries.length; _i++) {\n            var _Object$entries$_i = _slicedToArray(_Object$entries[_i], 2),\n              key = _Object$entries$_i[0],\n              data = _Object$entries$_i[1];\n            event.dataTransfer.setData(key, data !== null && data !== void 0 ? data : '');\n          }\n        }\n\n        /**\n         *  📱 For Android devices, a drag operation will not start unless\n         * \"text/plain\" or \"text/uri-list\" data exists in the native data store\n         * https://twitter.com/alexandereardon/status/1732189803754713424\n         *\n         * Tested on:\n         * Device: Google Pixel 5\n         * Android version: 14 (November 5, 2023)\n         * Chrome version: 120.0\n         */\n        if (isAndroid() && !event.dataTransfer.types.includes(textMediaType) && !event.dataTransfer.types.includes(URLMediaType)) {\n          event.dataTransfer.setData(textMediaType, androidFallbackText);\n        }\n\n        /**\n         * 1. Must set any media type for `iOS15` to work\n         * 2. We are also doing adding data so that the native adapter\n         * can know that the element adapter has handled this drag\n         *\n         * We used to wrap this `setData()` in a `try/catch` for Firefox,\n         * but it looks like that was not needed.\n         *\n         * Tested using: https://codesandbox.io/s/checking-firefox-throw-behaviour-on-dragstart-qt8h4f\n         *\n         * - ✅ Firefox@70.0 (Oct 2019) on macOS Sonoma\n         * - ✅ Firefox@70.0 (Oct 2019) on macOS Big Sur\n         * - ✅ Firefox@70.0 (Oct 2019) on Windows 10\n         *\n         * // just checking a few more combinations to be super safe\n         *\n         * - ✅ Chrome@78 (Oct 2019) on macOS Big Sur\n         * - ✅ Chrome@78 (Oct 2019) on Windows 10\n         * - ✅ Safari@14.1 on macOS Big Sur\n         */\n        event.dataTransfer.setData(elementAdapterNativeDataKey, '');\n        var payload = {\n          element: entry.element,\n          dragHandle: (_entry$dragHandle2 = entry.dragHandle) !== null && _entry$dragHandle2 !== void 0 ? _entry$dragHandle2 : null,\n          data: (_entry$getInitialData3 = (_entry$getInitialData4 = entry.getInitialData) === null || _entry$getInitialData4 === void 0 ? void 0 : _entry$getInitialData4.call(entry, feedback)) !== null && _entry$getInitialData3 !== void 0 ? _entry$getInitialData3 : {}\n        };\n        var dragType = {\n          type: 'element',\n          payload: payload,\n          startedFrom: 'internal'\n        };\n        api.start({\n          event: event,\n          dragType: dragType\n        });\n      }\n    }));\n  },\n  dispatchEventToSource: function dispatchEventToSource(_ref) {\n    var _draggableRegistry$ge, _draggableRegistry$ge2;\n    var eventName = _ref.eventName,\n      payload = _ref.payload;\n    // During a drag operation, a draggable can be:\n    // - remounted with different functions\n    // - removed completely\n    // So we need to get the latest entry from the registry in order\n    // to call the latest event functions\n\n    (_draggableRegistry$ge = draggableRegistry.get(payload.source.element)) === null || _draggableRegistry$ge === void 0 || (_draggableRegistry$ge2 = _draggableRegistry$ge[eventName]) === null || _draggableRegistry$ge2 === void 0 || _draggableRegistry$ge2.call(_draggableRegistry$ge,\n    // I cannot seem to get the types right here.\n    // TS doesn't seem to like that one event can need `nativeSetDragImage`\n    // @ts-expect-error\n    payload);\n  },\n  onPostDispatch: honeyPotFix.getOnPostDispatch()\n});\nexport var dropTargetForElements = adapter.dropTarget;\nexport var monitorForElements = adapter.monitor;\nexport function draggable(args) {\n  // Guardrail: warn if the drag handle is not contained in draggable element\n  if (process.env.NODE_ENV !== 'production') {\n    if (args.dragHandle && !args.element.contains(args.dragHandle)) {\n      // eslint-disable-next-line no-console\n      console.warn('Drag handle element must be contained in draggable element', {\n        element: args.element,\n        dragHandle: args.dragHandle\n      });\n    }\n  }\n  // Guardrail: warn if the draggable element is already registered\n  if (process.env.NODE_ENV !== 'production') {\n    var existing = draggableRegistry.get(args.element);\n    if (existing) {\n      // eslint-disable-next-line no-console\n      console.warn('You have already registered a `draggable` on the same element', {\n        existing: existing,\n        proposed: args\n      });\n    }\n  }\n  return combine(\n  // making the draggable register the adapter rather than drop targets\n  // this is because you *must* have a draggable element to start a drag\n  // but you _might_ not have any drop targets immediately\n  // (You might create drop targets async)\n  adapter.registerUsage(), addToRegistry(args), addAttribute(args.element, {\n    attribute: 'draggable',\n    value: 'true'\n  }));\n}\n\n/** Common event payload for all events */\n\n/** A map containing payloads for all events */\n\n/** Common event payload for all drop target events */\n\n/** A map containing payloads for all events on drop targets */\n\n/** Arguments given to all feedback functions (eg `canDrag()`) on for a `draggable()` */\n\n/** Arguments given to all feedback functions (eg `canDrop()`) on a `dropTargetForElements()` */\n\n/** Arguments given to all monitor feedback functions (eg `canMonitor()`) for a `monitorForElements` */","import { lifecycle } from '../ledger/lifecycle-manager';\nimport { register } from '../ledger/usage-ledger';\nimport { makeDropTarget } from './make-drop-target';\nimport { makeMonitor } from './make-monitor';\nexport function makeAdapter(_ref) {\n  var typeKey = _ref.typeKey,\n    mount = _ref.mount,\n    dispatchEventToSource = _ref.dispatchEventToSource,\n    onPostDispatch = _ref.onPostDispatch,\n    defaultDropEffect = _ref.defaultDropEffect;\n  var monitorAPI = makeMonitor();\n  var dropTargetAPI = makeDropTarget({\n    typeKey: typeKey,\n    defaultDropEffect: defaultDropEffect\n  });\n  function dispatchEvent(args) {\n    // 1. forward the event to source\n    dispatchEventToSource === null || dispatchEventToSource === void 0 || dispatchEventToSource(args);\n\n    // 2. forward the event to relevant dropTargets\n    dropTargetAPI.dispatchEvent(args);\n\n    // 3. forward event to monitors\n    monitorAPI.dispatchEvent(args);\n\n    // 4. post consumer dispatch (used for honey pot fix)\n    onPostDispatch === null || onPostDispatch === void 0 || onPostDispatch(args);\n  }\n  function start(_ref2) {\n    var event = _ref2.event,\n      dragType = _ref2.dragType;\n    lifecycle.start({\n      event: event,\n      dragType: dragType,\n      getDropTargetsOver: dropTargetAPI.getIsOver,\n      dispatchEvent: dispatchEvent\n    });\n  }\n  function registerUsage() {\n    function mountAdapter() {\n      var api = {\n        canStart: lifecycle.canStart,\n        start: start\n      };\n      return mount(api);\n    }\n    return register({\n      typeKey: typeKey,\n      mount: mountAdapter\n    });\n  }\n  return {\n    registerUsage: registerUsage,\n    dropTarget: dropTargetAPI.dropTargetForConsumers,\n    monitor: monitorAPI.monitorForConsumers\n  };\n}","// Why we put the media types in their own files:\n//\n// - we are not putting them all in one file as not all adapters need all types\n// - we are not putting them in the external helpers as some things just need the\n//   types and not the external functions code\nexport var URLMediaType = 'text/uri-list';","/**\n * This key has been pulled into a separate module\n * so that the external adapter does not need to import\n * the element adapter\n */\nexport var elementAdapterNativeDataKey = 'application/vnd.pdnd';","import { monitorForElements } from '../../../adapter/element-adapter';\nimport { isSafari } from '../../../util/is-safari';\nimport { maxZIndex } from '../../../util/max-z-index';\n\n/** A function to remove the element that has been added to the `container`.\n * @example () => ReactDOM.unmountComponentAtNode(container)\n */\n\n/** A function that will render a preview element into a `container` `HTMLElement` */\n\n/** By default we use the build in values for the native drag preview: {x: 0, y: 0} */\nfunction defaultOffset() {\n  return {\n    x: 0,\n    y: 0\n  };\n}\n\n/** This function provides the ability to mount an element for it to be used as the native drag preview\n *\n * @example\n * draggable({\n *  onGenerateDragPreview: ({ nativeSetDragImage }) => {\n *    setCustomNativeDragPreview({\n *      render: ({ container }) => {\n *        ReactDOM.render(<Preview item={item} />, container);\n *        return () => ReactDOM.unmountComponentAtNode(container);\n *      },\n *      nativeSetDragImage,\n *    });\n *    },\n * });\n */\nexport function setCustomNativeDragPreview(_ref) {\n  var render = _ref.render,\n    nativeSetDragImage = _ref.nativeSetDragImage,\n    _ref$getOffset = _ref.getOffset,\n    getOffset = _ref$getOffset === void 0 ? defaultOffset : _ref$getOffset;\n  var container = document.createElement('div');\n  Object.assign(container.style, {\n    // Ensuring we don't cause reflow when adding the element to the page\n    // Using `position:fixed` rather than `position:absolute` so we are\n    // positioned on the current viewport.\n    // `position:fixed` also creates a new stacking context, so we don't need to do that here\n    position: 'fixed',\n    // According to `mdn`, the element can be offscreen:\n    // https://developer.mozilla.org/en-US/docs/Web/API/DataTransfer/setDragImage#imgelement\n    //\n    // However, that  information does not appear in the specs:\n    // https://html.spec.whatwg.org/multipage/dnd.html#dom-datatransfer-setdragimage-dev\n    //\n    // If the element is _completely_ offscreen, Safari@17.1 will cancel the drag\n    top: 0,\n    left: 0,\n    // Using maximum possible z-index so that this element will always be on top\n    // https://stackoverflow.com/questions/491052/minimum-and-maximum-value-of-z-index\n    // Did not use `layers` in `@atlaskit/theme` because:\n    // 1. This element is not a 'layer' in the conventional sense, as this element\n    //    is only created for a single frame for the browser to take a photo of it,\n    //    and then it is destroyed\n    // 2. Did not want to add a dependency onto `@atlaskit/theme`\n    // 3. Want to always be on top of product UI which might have higher z-index's\n    zIndex: maxZIndex,\n    // Avoiding any additional events caused by the new element (being super safe)\n    pointerEvents: 'none'\n  });\n  document.body.append(container);\n  var unmount = render({\n    container: container\n  });\n\n  /**\n   * Some frameworks (eg `react`) don't render into the container until the next microtask.\n   * - This will run before the browser takes it's picture of the element\n   * - This will run before the animation frame that removes `container`.\n   * */\n\n  queueMicrotask(function () {\n    var previewOffset = getOffset({\n      container: container\n    });\n\n    /**\n     * **Problem**\n     * On `Safari@17.1` if a drag preview element has some opacity,\n     * Safari will include elements behind the drag preview element\n     * in the drag preview.\n     * Bug: https://bugs.webkit.org/show_bug.cgi?id=266025\n     *\n     * **Fix**\n     * We push the drag preview so it is _almost_ completely offscreen so that\n     * there won't be any elements behind the drag preview element.\n     * If the element is _completely_ offscreen, then the drag is cancelled by Safari.\n     *\n     * Using `-0.0001` so that any potential \"see through\" on the drag preview element\n     * is effectively invisible 👻\n     *\n     * **Unsuccessful alternatives**\n     * Setting a background color (eg \"white\") on the `container`\n     * → Wrecks the opacity of the drag preview element\n     *\n     * Adding a parent element of the `container` with a background color (eg \"white\")\n     * → Wrecks the opacity of the drag preview element\n     */\n    if (isSafari()) {\n      var rect = container.getBoundingClientRect();\n\n      // We cannot apply this fix if nothing has been rendered into the `container`\n      if (rect.width === 0) {\n        return;\n      }\n      container.style.left = \"-\".concat(rect.width - 0.0001, \"px\");\n    }\n    nativeSetDragImage === null || nativeSetDragImage === void 0 || nativeSetDragImage(container, previewOffset.x, previewOffset.y);\n  });\n  function cleanup() {\n    unbindMonitor();\n    unmount === null || unmount === void 0 || unmount();\n    document.body.removeChild(container);\n  }\n  var unbindMonitor = monitorForElements({\n    // Remove portal in the dragstart event so that the user will never see it\n    onDragStart: cleanup,\n    // Backup: remove portal when the drop finishes (this would be an error case)\n    onDrop: cleanup\n  });\n}","export function preserveOffsetOnSource(_ref) {\n  var element = _ref.element,\n    input = _ref.input;\n  return function (_ref2) {\n    var container = _ref2.container;\n    var sourceRect = element.getBoundingClientRect();\n    var containerRect = container.getBoundingClientRect();\n    var offsetX = Math.min(\n    // difference\n    input.clientX - sourceRect.x,\n    // don't let the difference be more than the width of the container,\n    // otherwise the pointer will be off the preview\n    containerRect.width);\n    var offsetY = Math.min(\n    // difference\n    input.clientY - sourceRect.y,\n    // don't let the difference be more than the height of the container,\n    // otherwise the pointer will be off the preview\n    containerRect.height);\n    return {\n      x: offsetX,\n      y: offsetY\n    };\n  };\n}","import { BoardProps } from \"@/components\";\nimport { createContext, useContext } from \"react\";\n\nconst KanbanContext = createContext<Partial<BoardProps> | undefined>(undefined);\n\nexport const useKanbanContext = () => {\n  const context = useContext(KanbanContext);\n  if (!context) throw new Error(\"KanbanContext must be used within a provider\");\n  return context;\n};\n\nexport const KanbanProvider = ({\n  children,\n  ...props\n}: Partial<BoardProps> & { children: React.ReactNode }) => {\n  return (\n    <KanbanContext.Provider value={props}>{children}</KanbanContext.Provider>\n  );\n};\n","import { useCallback, useEffect, useRef, useState } from \"react\";\nimport { BoardItem, DndState } from \"@/components/types\";\nimport {\n  draggable,\n  dropTargetForElements,\n} from \"@atlaskit/pragmatic-drag-and-drop/element/adapter\";\nimport {\n  attachClosestEdge,\n  extractClosestEdge,\n  Edge,\n} from \"@atlaskit/pragmatic-drag-and-drop-hitbox/closest-edge\";\nimport { combine } from \"@atlaskit/pragmatic-drag-and-drop/combine\";\nimport { setCustomNativeDragPreview } from \"@atlaskit/pragmatic-drag-and-drop/element/set-custom-native-drag-preview\";\nimport { preserveOffsetOnSource } from \"@atlaskit/pragmatic-drag-and-drop/element/preserve-offset-on-source\";\nimport { useKanbanContext } from \"@/context/KanbanContext\";\n\nexport type TaskCardState =\n  | {\n      type: \"idle\";\n    }\n  | {\n      type: \"is-dragging\";\n    }\n  | {\n      type: \"is-dragging-and-left-self\";\n    }\n  | {\n      type: \"is-over\";\n      dragging: DOMRect;\n      closestEdge: Edge;\n    }\n  | {\n      type: \"preview\";\n      container: HTMLElement;\n      dragging: DOMRect;\n    };\n\nconst idle: TaskCardState = { type: \"idle\" };\n\n// Custom hook to handle all drag and drop logic\nexport const useCardDnd = (\n  data: BoardItem,\n  column: BoardItem,\n  index: number,\n  isDraggable: boolean,\n  onCardDndStateChange?: (info: DndState) => void,\n) => {\n  const { viewOnly } = useKanbanContext();\n  const outerRef = useRef<HTMLDivElement>(null);\n  const innerRef = useRef<HTMLDivElement>(null);\n  const [state, setState] = useState<TaskCardState>(idle);\n\n  // Memoize initial data to prevent recreating on each render\n  const getInitialData = useCallback(\n    () => ({\n      type: \"card\",\n      itemId: data.id,\n      columnId: column.id,\n      index,\n      isDraggable,\n      parentId: data.parentId,\n      rect: innerRef.current?.getBoundingClientRect() || null,\n    }),\n    [data.id, column.id, index, isDraggable, data.parentId],\n  );\n\n  const getDropTargetData = useCallback(\n    ({ input, element }) => {\n      const cardData = {\n        type: \"card\",\n        \"card-drop-target\": true,\n        itemId: data.id,\n        columnId: column.id,\n        index,\n        isDraggable,\n        parentId: data.parentId,\n      };\n\n      return attachClosestEdge(cardData, {\n        input,\n        element,\n        allowedEdges: [\"top\", \"bottom\"],\n      });\n    },\n    [data.id, column.id, index, isDraggable, data.parentId],\n  );\n\n  // Optimize the drop check to avoid recalculating on every drag move\n  const canDrop = useCallback(\n    (args) => {\n      const sourceData = args.source.data;\n      if (sourceData.itemId === data.parentId) return false;\n      return sourceData.isDraggable;\n    },\n    [data.id, data.parentId],\n  );\n\n  // Drag and drop event handlers\n  const handleGenerateDragPreview = useCallback(\n    ({ nativeSetDragImage, location }) => {\n      setCustomNativeDragPreview({\n        nativeSetDragImage,\n        getOffset: preserveOffsetOnSource({\n          element: innerRef.current!,\n          input: location.current.input,\n        }),\n        render({ container }) {\n          const rect = innerRef.current!.getBoundingClientRect();\n          setState({\n            type: \"preview\",\n            container,\n            dragging: rect,\n          });\n        },\n      });\n    },\n    [],\n  );\n\n  const handleDragStart = useCallback(() => {\n    setState({ type: \"is-dragging\" });\n  }, []);\n\n  const handleDrop = useCallback(() => {\n    setState(idle);\n  }, []);\n\n  const handleDragEnter = useCallback(\n    ({ source, self }) => {\n      if (source.data.type !== \"card\") return;\n      if (source.data.itemId === data.id) return;\n\n      const closestEdge = extractClosestEdge(self.data);\n      if (!closestEdge) return;\n\n      setState({\n        type: \"is-over\",\n        dragging: source.data.rect as DOMRect,\n        closestEdge,\n      });\n    },\n    [data.id],\n  );\n\n  const handleDrag = useCallback(\n    ({ source, self }) => {\n      if (source.data.type !== \"card\") return;\n      if (source.data.itemId === data.id) return;\n\n      const closestEdge = extractClosestEdge(self.data);\n      if (!closestEdge) return;\n\n      setState({\n        type: \"is-over\",\n        dragging: source.data.rect as DOMRect,\n        closestEdge,\n      });\n    },\n    [data.id],\n  );\n\n  const handleDragLeave = useCallback(\n    ({ source }) => {\n      if (source.data.type !== \"card\") return;\n\n      if (source.data.itemId === data.id) {\n        setState({ type: \"is-dragging-and-left-self\" });\n        return;\n      }\n\n      setState(idle);\n    },\n    [data.id],\n  );\n\n  // Setup drag and drop effects\n  useEffect(() => {\n    const outer = outerRef.current;\n    const inner = innerRef.current;\n\n    if (!outer || !inner) return;\n\n    return combine(\n      draggable({\n        element: inner,\n        getInitialData,\n        onGenerateDragPreview: handleGenerateDragPreview,\n        onDragStart: handleDragStart,\n        onDrop: handleDrop,\n        canDrag: () => isDraggable && !viewOnly,\n      }),\n      dropTargetForElements({\n        element: outer,\n        canDrop,\n        getIsSticky: () => true,\n        getData: getDropTargetData,\n        onDragEnter: handleDragEnter,\n        onDrag: handleDrag,\n        onDragLeave: handleDragLeave,\n        onDrop: handleDrop,\n      }),\n    );\n  }, [\n    getInitialData,\n    handleGenerateDragPreview,\n    handleDragStart,\n    handleDrop,\n    isDraggable,\n    canDrop,\n    getDropTargetData,\n    handleDragEnter,\n    handleDrag,\n    handleDragLeave,\n  ]);\n\n  useEffect(() => {\n    onCardDndStateChange?.({ state, card: data, column });\n  }, [state, onCardDndStateChange]);\n\n  return {\n    outerRef,\n    innerRef,\n    state,\n  };\n};\n","import { withPrefix } from \"@/utils/getPrefix\";\nimport React, { Fragment, memo, useMemo } from \"react\";\nimport { BoardItem, DndState } from \"../types\";\nimport { createPortal } from \"react-dom\";\nimport { TaskCardState, useCardDnd } from \"@/global/dnd/useCardDnd\";\n\nexport const CardShadow = memo(\n  ({\n    height,\n    customIndicator,\n  }: {\n    height: number;\n    customIndicator?: React.ReactNode;\n  }) => {\n    return (\n      <div className={withPrefix(\"card-shadow-container\")}>\n        {customIndicator || (\n          <div\n            className={withPrefix(\"card-shadow\")}\n            style={{ height: `${height - 2}px` }}\n          />\n        )}\n      </div>\n    );\n  },\n);\n\nconst CardDisplay = (props: {\n  outerRef?: React.RefObject<HTMLDivElement>;\n  innerRef?: React.RefObject<HTMLDivElement>;\n  state: TaskCardState;\n  data: BoardItem;\n  column: BoardItem;\n  index: number;\n  isDraggable: boolean;\n  render: (props: {\n    data: BoardItem;\n    column: BoardItem;\n    index: number;\n    isDraggable: boolean;\n  }) => React.ReactNode;\n  onClick?: (e: React.MouseEvent<HTMLDivElement>, card: BoardItem) => void;\n  cardsGap?: number;\n  renderCardDragIndicator?: (card: BoardItem, info: any) => React.ReactNode;\n  renderGap?: (column: BoardItem) => React.ReactNode;\n}) => {\n  const {\n    outerRef,\n    innerRef,\n    state,\n    data,\n    column,\n    index,\n    isDraggable,\n    cardsGap,\n    render,\n    onClick,\n    renderCardDragIndicator,\n    renderGap,\n  } = props;\n\n  const containerStyle = useMemo(() => {\n    const styles: React.CSSProperties = {};\n    if (state.type === \"is-dragging-and-left-self\") {\n      styles.display = \"none\";\n    }\n    return styles;\n  }, [state.type]);\n\n  const innerStyle = useMemo(() => {\n    if (state.type === \"is-dragging\") {\n      return { opacity: 0.6 };\n    }\n    if (state.type === \"preview\") {\n      return {\n        width: state.dragging.width,\n        height: state.dragging.height,\n        transform: \"rotate(4deg)\",\n      };\n    }\n    return {};\n  }, [state]);\n\n  const showTopShadow = state.type === \"is-over\" && state.closestEdge === \"top\";\n  const showBottomShadow =\n    state.type === \"is-over\" && state.closestEdge === \"bottom\";\n  const shadowHeight = state.type === \"is-over\" ? state.dragging.height : 0;\n  const renderContent = render({ data, column, index, isDraggable });\n  const customIndicator = renderCardDragIndicator?.(\n    state.type === \"is-dragging\" ? data : null,\n    {\n      height: shadowHeight,\n    },\n  );\n\n  return (\n    <Fragment>\n      <div\n        ref={outerRef}\n        className={withPrefix(\"card-outer\")}\n        onClick={(e) => onClick?.(e, data)}\n        style={{\n          ...containerStyle,\n          ...(cardsGap !== undefined ? { marginBottom: cardsGap } : {}),\n        }}\n        data-test-id={data.id}\n        data-rkk-column={column.id}\n        data-rkk-index={index}\n      >\n        {showTopShadow && (\n          <CardShadow height={shadowHeight} customIndicator={customIndicator} />\n        )}\n        <div\n          ref={innerRef}\n          className={withPrefix(\"card-inner\")}\n          style={{\n            ...innerStyle,\n            marginBottom: showBottomShadow ? cardsGap : 0,\n            marginTop: showTopShadow ? cardsGap : 0,\n          }}\n        >\n          {renderContent}\n        </div>\n        {showBottomShadow && (\n          <CardShadow height={shadowHeight} customIndicator={customIndicator} />\n        )}\n      </div>\n      {/* {renderGap?.(column)} */}\n    </Fragment>\n  );\n};\n\ninterface Props {\n  render: (props: {\n    data: BoardItem;\n    column: BoardItem;\n    index: number;\n    isDraggable: boolean;\n  }) => React.ReactNode;\n  data: BoardItem;\n  column: BoardItem;\n  index: number;\n  isDraggable: boolean;\n  onClick?: (e: React.MouseEvent<HTMLDivElement>, card: BoardItem) => void;\n  cardsGap?: number;\n  renderGap?: (column: BoardItem) => React.ReactNode;\n  onCardDndStateChange?: (info: DndState) => void;\n  renderCardDragIndicator?: (card: BoardItem, info: any) => React.ReactNode;\n  renderCardDragPreview?: (card: BoardItem, info: any) => React.ReactNode;\n}\n\nconst Card = (props: Props) => {\n  const {\n    render,\n    data,\n    column,\n    index,\n    isDraggable,\n    cardsGap,\n    onClick,\n    onCardDndStateChange,\n    renderCardDragIndicator,\n    renderCardDragPreview,\n    renderGap,\n  } = props;\n  const { outerRef, innerRef, state } = useCardDnd(\n    data,\n    column,\n    index,\n    isDraggable,\n    onCardDndStateChange,\n  );\n\n  return (\n    <>\n      <CardDisplay\n        outerRef={outerRef}\n        innerRef={innerRef}\n        state={state}\n        data={data}\n        column={column}\n        index={index}\n        isDraggable={isDraggable}\n        render={render}\n        onClick={onClick}\n        cardsGap={cardsGap}\n        renderCardDragIndicator={renderCardDragIndicator}\n        renderGap={renderGap}\n      />\n\n      {state.type === \"preview\"\n        ? createPortal(\n            renderCardDragPreview?.(data, {\n              state,\n              data,\n              column,\n              index,\n              isDraggable,\n            }) || (\n              <CardDisplay\n                state={state}\n                data={data}\n                column={column}\n                index={index}\n                isDraggable={isDraggable}\n                render={render}\n              />\n            ),\n            state.container,\n          )\n        : null}\n    </>\n  );\n};\n\nexport default Card;\n","import React from \"react\";\nimport { CardRenderProps } from \"../types\";\nimport { withPrefix } from \"@/utils/getPrefix\";\n\nconst DefaultCard = (props: CardRenderProps) => {\n  return <div className={withPrefix(\"default-card\")}>{props?.data?.title}</div>;\n};\n\nexport default DefaultCard;\n","import React from \"react\";\nimport { BoardItem, BoardProps, ConfigMap, DndState } from \"../types\";\nimport classNames from \"classnames\";\nimport { withPrefix } from \"@/utils/getPrefix\";\nimport CardSkeleton from \"../CardSkeleton\";\nimport Card from \"../Card\";\nimport DefaultCard from \"../DefaultCard\";\nimport { CardShadow } from \"../Card/Card\";\n\nconst isCardDraggable = (data: BoardItem, isTypeDraggable: boolean) => {\n  return data?.isDraggable !== undefined ? data?.isDraggable : isTypeDraggable;\n};\n\ninterface Props {\n  index: number;\n  options: {\n    data: BoardItem;\n    column: BoardItem;\n    configMap: ConfigMap;\n    //isSkeleton is used to show a skeleton UI when the item is not loaded yet\n    isSkeleton: boolean;\n    isShadow: boolean;\n    isListFooter: boolean;\n    renderListFooter?: (column: BoardItem) => React.ReactNode;\n    cardWrapperStyle?: (\n      card: BoardItem,\n      column: BoardItem,\n    ) => React.CSSProperties;\n    cardWrapperClassName?: string;\n    cardsGap?: number;\n    renderSkeletonCard?: BoardProps[\"renderSkeletonCard\"];\n    onCardDndStateChange?: (info: DndState) => void;\n    onCardClick?: (\n      e: React.MouseEvent<HTMLDivElement>,\n      card: BoardItem,\n    ) => void;\n    cardOverHeight?: number;\n    renderCardDragIndicator?: (card: BoardItem, info: any) => React.ReactNode;\n    renderCardDragPreview?: (card: BoardItem, info: any) => React.ReactNode;\n    renderGap?: (column: BoardItem) => React.ReactNode;\n  };\n}\n\nconst GenericItem = (props: Props) => {\n  const { index, options } = props;\n  const {\n    data,\n    column,\n    configMap,\n    isSkeleton,\n    cardWrapperStyle,\n    cardWrapperClassName,\n    cardsGap = 8,\n    isShadow,\n    isListFooter,\n    cardOverHeight = 90,\n    renderSkeletonCard,\n    onCardClick,\n    onCardDndStateChange,\n    renderCardDragIndicator,\n    renderListFooter,\n    renderGap,\n  } = options;\n\n  const { render = DefaultCard, isDraggable = true } =\n    configMap?.[data?.type] || {};\n\n  const wrapperClassName = classNames(\n    withPrefix(\"generic-item-wrapper\"),\n    cardWrapperClassName,\n  );\n\n  const renderCardContent = () => {\n    if (isListFooter)\n      return (\n        <div className={withPrefix(\"generic-item-list-footer\")}>\n          {renderListFooter?.(column) || \"Default Footer\"}\n        </div>\n      );\n    else if (isShadow)\n      return (\n        <CardShadow\n          height={cardOverHeight}\n          customIndicator={renderCardDragIndicator?.(data, {\n            height: cardOverHeight,\n          })}\n        />\n      );\n    else if (isSkeleton)\n      return (\n        <div\n          className={withPrefix(\"generic-item-skeleton\")}\n          data-index={index}\n          data-rkk-column={column?.id}\n        >\n          {renderSkeletonCard?.({ index, column }) || (\n            <CardSkeleton animationType=\"wave\" />\n          )}\n        </div>\n      );\n\n    return (\n      <Card\n        render={render}\n        isDraggable={isCardDraggable(data, isDraggable)}\n        data={data}\n        column={column}\n        index={index}\n        onClick={onCardClick}\n        cardsGap={cardsGap}\n        renderGap={renderGap}\n        onCardDndStateChange={onCardDndStateChange}\n        renderCardDragIndicator={renderCardDragIndicator}\n      />\n    );\n  };\n\n  return (\n    <div\n      className={wrapperClassName}\n      style={{\n        ...(cardWrapperStyle?.(data, column) || {}),\n      }}\n    >\n      {renderCardContent()}\n    </div>\n  );\n};\n\nexport default GenericItem;\n","import { withPrefix } from \"@/utils/getPrefix\";\nimport React, { forwardRef, useEffect } from \"react\";\nimport {\n  BoardItem,\n  BoardProps,\n  ConfigMap,\n  DndState,\n  ScrollEvent,\n} from \"../types\";\nimport classNames from \"classnames\";\nimport { VList } from \"virtua\";\nimport GenericItem from \"../GenericItem\";\nimport { handleScroll } from \"@/utils/scroll\";\nimport { checkIfSkeletonIsVisible } from \"@/utils/infinite-scroll\";\nimport { useKanbanContext } from \"@/context/KanbanContext\";\n\ninterface ListProps {\n  column: BoardItem;\n  items: BoardItem[];\n  configMap: ConfigMap;\n  cardWrapperStyle?: (\n    card: BoardItem,\n    column: BoardItem,\n  ) => React.CSSProperties;\n  cardWrapperClassName?: string;\n  cardsGap?: number;\n  cardOverHeight?: number;\n  cardOverShadowCount?: number;\n  renderCardDragIndicator?: (card: BoardItem, info: any) => React.ReactNode;\n  renderCardDragPreview?: (card: BoardItem, info: any) => React.ReactNode;\n  onCardDndStateChange?: (info: DndState) => void;\n  renderSkeletonCard?: BoardProps[\"renderSkeletonCard\"];\n  onScroll?: (e: React.UIEvent<HTMLDivElement>) => void;\n  onCardClick?: (e: React.MouseEvent<HTMLDivElement>, card: BoardItem) => void;\n  renderListFooter?: (column: BoardItem) => React.ReactNode;\n  renderGap?: (column: BoardItem) => React.ReactNode;\n}\n\nconst renderGenericItem = (\n  items: BoardItem[],\n  index: number,\n  column: BoardItem,\n  configMap: ConfigMap,\n  cardOverShadowCount: number,\n  renderListFooter: (column: BoardItem) => React.ReactNode,\n  props: any,\n  count: number,\n) => {\n  return (\n    <GenericItem\n      key={index}\n      index={index}\n      options={{\n        data: items[index],\n        column,\n        configMap,\n        isSkeleton: index >= items.length,\n        renderListFooter,\n        isShadow:\n          cardOverShadowCount && index === count - (renderListFooter ? 2 : 1),\n        isListFooter:\n          renderListFooter && index === count - (renderListFooter ? 1 : 0),\n        ...props,\n      }}\n    />\n  );\n};\n\nconst VirtualizedList = ({\n  column,\n  items,\n  configMap,\n  onScroll,\n  cardOverShadowCount,\n  renderListFooter,\n  ...props\n}: ListProps) => {\n  const count =\n    column?.totalChildrenCount +\n    cardOverShadowCount +\n    (renderListFooter ? 1 : 0);\n\n  return (\n    <VList\n      count={count}\n      onScroll={onScroll}\n      className={withPrefix(\"column-content-list\")}\n    >\n      {(index: number) =>\n        renderGenericItem(\n          items,\n          index,\n          column,\n          configMap,\n          cardOverShadowCount,\n          renderListFooter,\n          props,\n          count,\n        )\n      }\n    </VList>\n  );\n};\n\nconst NormalList = ({\n  column,\n  items,\n  configMap,\n  onScroll,\n  cardOverShadowCount,\n  renderListFooter,\n  ...props\n}: ListProps) => {\n  const count =\n    column?.totalChildrenCount +\n    cardOverShadowCount +\n    (renderListFooter ? 1 : 0);\n\n  return (\n    <div className={withPrefix(\"column-content-list\")} onScroll={onScroll}>\n      {Array.from(\n        {\n          length: count,\n        },\n        (_, index) =>\n          renderGenericItem(\n            items,\n            index,\n            column,\n            configMap,\n            cardOverShadowCount,\n            renderListFooter,\n            props,\n            count,\n          ),\n      )}\n    </div>\n  );\n};\n\ninterface Props {\n  items: BoardItem[];\n  column: BoardItem;\n  columnListContentStyle?: (column: BoardItem) => React.CSSProperties;\n  columnListContentClassName?: string;\n  configMap: ConfigMap;\n  renderSkeletonCard?: BoardProps[\"renderSkeletonCard\"];\n  cardWrapperStyle?: (\n    card: BoardItem,\n    column: BoardItem,\n  ) => React.CSSProperties;\n  cardWrapperClassName?: string;\n  onScroll?: (e: ScrollEvent, column: BoardItem) => void;\n  onCardClick?: (e: React.MouseEvent<HTMLDivElement>, card: BoardItem) => void;\n  loadMore?: (columnId: string) => void;\n  cardOverShadowCount?: number;\n  cardOverHeight?: number;\n  onCardDndStateChange?: (info: DndState) => void;\n  renderCardDragIndicator?: (card: BoardItem, info: any) => React.ReactNode;\n  renderCardDragPreview?: (card: BoardItem, info: any) => React.ReactNode;\n  renderListFooter?: (column: BoardItem) => React.ReactNode;\n  renderGap?: (column: BoardItem) => React.ReactNode;\n}\n\nconst ColumnContent = forwardRef<HTMLDivElement, Props>((props, ref) => {\n  const {\n    items,\n    column,\n    configMap,\n    columnListContentStyle,\n    columnListContentClassName,\n    cardWrapperStyle,\n    renderSkeletonCard,\n    cardWrapperClassName,\n    onCardClick,\n    loadMore,\n    cardOverShadowCount,\n    cardOverHeight,\n    onCardDndStateChange,\n    renderCardDragIndicator,\n    renderCardDragPreview,\n    renderListFooter,\n    renderGap,\n  } = props;\n  const {\n    virtualization = true,\n    cardsGap,\n    allowListFooter,\n  } = useKanbanContext();\n  const containerClassName = classNames(\n    withPrefix(\"column-content\"),\n    columnListContentClassName,\n  );\n\n  const onScroll = (e: ScrollEvent, column: BoardItem) => {\n    const isSkeletonVisible = checkIfSkeletonIsVisible({\n      columnId: column?.id,\n    });\n    if (isSkeletonVisible) loadMore?.(column?.id);\n    props?.onScroll?.(e, column);\n  };\n\n  const List = virtualization ? VirtualizedList : NormalList;\n\n  return (\n    <div\n      ref={ref}\n      className={containerClassName}\n      style={columnListContentStyle?.(column)}\n    >\n      <List\n        column={column}\n        items={items}\n        configMap={configMap}\n        cardWrapperStyle={cardWrapperStyle}\n        cardWrapperClassName={cardWrapperClassName}\n        cardsGap={cardsGap}\n        renderSkeletonCard={renderSkeletonCard}\n        onScroll={(e) => handleScroll(e, virtualization, onScroll, column)}\n        onCardClick={onCardClick}\n        cardOverShadowCount={cardOverShadowCount}\n        onCardDndStateChange={onCardDndStateChange}\n        renderCardDragIndicator={renderCardDragIndicator}\n        renderCardDragPreview={renderCardDragPreview}\n        cardOverHeight={cardOverHeight}\n        renderGap={renderGap}\n        renderListFooter={\n          (allowListFooter !== undefined && allowListFooter?.(column)) ||\n          allowListFooter === undefined\n            ? renderListFooter\n            : null\n        }\n      />\n    </div>\n  );\n});\n\nexport default ColumnContent;\n","import { withPrefix } from \"./getPrefix\";\n\nexport const checkIfSkeletonIsVisible = ({ columnId, limit = 20 }): boolean => {\n  const skeletons = document.querySelectorAll(\n    `.${withPrefix(\"generic-item-skeleton\")}[data-rkk-column=\"${columnId}\"]`,\n  );\n\n  if (!skeletons.length) return false;\n\n  const skeletonsToCheck = Array.from(skeletons).slice(0, limit);\n\n  const isVisible = skeletonsToCheck.some((skeleton) => {\n    const { top, bottom } = skeleton.getBoundingClientRect();\n    return top <= window.innerHeight && bottom >= 0;\n  });\n\n  return isVisible;\n};\n","import { BoardItem, ScrollEvent } from \"@/components\";\nimport { withPrefix } from \"./getPrefix\";\n\nexport const handleScroll = (\n  e: React.UIEvent<HTMLDivElement> | number,\n  virtualization: boolean,\n  onScroll: (e: ScrollEvent, column: BoardItem) => void,\n  column: BoardItem,\n) => {\n  const scrollContainer = document.querySelector(\n    `.${withPrefix(\"column-content-list\")}`,\n  );\n  if (!scrollContainer) return;\n\n  const { scrollHeight, clientHeight } = scrollContainer;\n  let offset: number;\n  if (virtualization) {\n    offset = typeof e === \"number\" ? e : 0;\n  } else {\n    const target = (e as React.UIEvent<HTMLDivElement>)\n      .target as HTMLDivElement;\n    offset = target.scrollTop;\n  }\n\n  const syntheticEvent = {\n    target: {\n      scrollTop: offset,\n      scrollHeight,\n      clientHeight,\n    },\n  };\n\n  onScroll?.(syntheticEvent, column);\n};\n","var ledger = new Map();\nvar requested = new Set();\nexport function markAndGetEngagement(element) {\n  markEngagement(element);\n  var entry = ledger.get(element);\n  if (entry) {\n    return entry;\n  }\n  var fresh = {\n    timeOfEngagementStart: Date.now()\n  };\n  ledger.set(element, fresh);\n  return fresh;\n}\nexport function markEngagement(element) {\n  requested.add(element);\n}\nexport function clearUnusedEngagements(fn) {\n  // make sure previous engagement requests don't linger\n  requested.clear();\n\n  // perform the required work\n  fn();\n\n  // if engagements where not requested, purge it\n  ledger.forEach(function (_, element) {\n    if (!requested.has(element)) {\n      ledger.delete(element);\n    }\n  });\n\n  // cleaning up after ourselves\n  requested.clear();\n}\nexport function clearEngagementHistory() {\n  ledger.clear();\n}","import { getElementFromPointWithoutHoneypot } from '@atlaskit/pragmatic-drag-and-drop/private/get-element-from-point-without-honey-pot';\nimport { clearEngagementHistory, clearUnusedEngagements } from './engagement-history';\n// We keep this map so that \"over element\" scrolling and \"overflow\" scrolling\n// can leverage the same scheduler.\n// The 'monitor' is the key for looking up schedulers\nvar schedulers = new Map();\nexport function getScheduler(monitor) {\n  var scheduler = schedulers.get(monitor);\n  if (scheduler) {\n    // @ts-expect-error: I don't know how to link the DragType generic between the key and the value when the\n    // monitor itself is the key\n    return scheduler;\n  }\n  var created = makeScheduler(monitor);\n  schedulers.set(monitor, created);\n  return created;\n}\nfunction makeScheduler(monitor) {\n  var state = {\n    type: 'idle'\n  };\n  var callbacks = [];\n  function loop(timeLastFrameFinished) {\n    if (state.type !== 'running') {\n      return;\n    }\n    var timeSinceLastFrame = timeLastFrameFinished - state.timeLastFrameFinished;\n    var _state = state,\n      latestArgs = _state.latestArgs;\n\n    // A common starting lookup point for determining\n    // which auto scroller should be used, and what should be scrolled.\n    var underUsersPointer = getElementFromPointWithoutHoneypot({\n      x: latestArgs.location.current.input.clientX,\n      y: latestArgs.location.current.input.clientY\n    });\n    clearUnusedEngagements(function () {\n      callbacks.forEach(function (onFrame) {\n        return onFrame({\n          underUsersPointer: underUsersPointer,\n          latestArgs: latestArgs,\n          timeSinceLastFrame: timeSinceLastFrame\n        });\n      });\n    });\n    state.timeLastFrameFinished = timeLastFrameFinished;\n    state.frameId = requestAnimationFrame(loop);\n  }\n  function reset() {\n    if (state.type === 'idle') {\n      return;\n    }\n    cancelAnimationFrame(state.frameId);\n    clearEngagementHistory();\n    state = {\n      type: 'idle'\n    };\n  }\n  function start(args) {\n    if (state.type !== 'idle') {\n      return;\n    }\n    state = {\n      // Waiting a frame so we can accurately determine `timeSinceLastFrame`.\n      type: 'initializing',\n      latestArgs: args,\n      frameId: requestAnimationFrame(function (timeLastFrameFinished) {\n        if (state.type !== 'initializing') {\n          return;\n        }\n        state = {\n          type: 'running',\n          timeLastFrameFinished: timeLastFrameFinished,\n          latestArgs: state.latestArgs,\n          frameId: requestAnimationFrame(loop)\n        };\n      })\n    };\n  }\n\n  // this module might have been imported after a drag has started\n  // We are starting the auto scroller if we get an update event and\n  // the auto scroller has not started yet\n  function update(args) {\n    if (state.type === 'idle') {\n      start(args);\n      return;\n    }\n    state.latestArgs = args;\n  }\n\n  // Not exposing a way to stop listening\n  monitor({\n    onDragStart: start,\n    onDropTargetChange: update,\n    onDrag: update,\n    onDrop: reset\n  });\n  var api = {\n    onFrame: function onFrame(fn) {\n      callbacks.push(fn);\n    }\n  };\n  return api;\n}","export var dataAttribute = 'data-auto-scrollable';\nexport var selector = \"[\".concat(dataAttribute, \"=\\\"true\\\"]\");\nexport function addScrollableAttribute(element) {\n  element.setAttribute(dataAttribute, 'true');\n  return function () {\n    return element.removeAttribute(dataAttribute);\n  };\n}","import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nvar baseConfig = {\n  startHitboxAtPercentageRemainingOfElement: {\n    top: 0.25,\n    right: 0.25,\n    bottom: 0.25,\n    left: 0.25\n  },\n  maxScrollAtPercentageRemainingOfHitbox: {\n    top: 0.5,\n    right: 0.5,\n    bottom: 0.5,\n    left: 0.5\n  },\n  timeDampeningDurationMs: 400,\n  // Too big and it's too easy to trigger auto scrolling\n  // Too small and it's too hard 😅\n  maxMainAxisHitboxSize: 180\n};\n\n/** What the max scroll should be per second. Using \"per second\" rather than \"per frame\"\n * as we want a consistent scroll speed regardless of frame rate.\n *\n *\n * I explored trying to make the max scroll speed dynamic based on particular factors.\n * However, it ended up being difficult to find a _perfect_ formula.\n *\n * Likely the perfect answer would involve:\n * - the size of the scrollable element\n * - the size of the scrollable element relative to the screen size\n * - the size of the drag preview\n * - the size of elements being scrolled in scrollable elements (expensive and difficult to compute)\n */\nvar maxPixelScrollPerSecond = {\n  // What the value would be if we were scrolling at 15px per frame at 60fps.\n  // This is the default as it works well for most experiences.\n  // In certain scenarios though it can feel a bit slow.\n  standard: 15 * 60,\n  // What the value would be if we were scrolling at 25px per frame at 60fps.\n  // This is not the default as it feels too fast for a lot of experiences.\n  fast: 25 * 60\n};\nexport function getInternalConfig(provided) {\n  var _provided$maxScrollSp;\n  return _objectSpread(_objectSpread({}, baseConfig), {}, {\n    // only allowing limited control over the config at this stage\n    maxPixelScrollPerSecond: maxPixelScrollPerSecond[(_provided$maxScrollSp = provided === null || provided === void 0 ? void 0 : provided.maxScrollSpeed) !== null && _provided$maxScrollSp !== void 0 ? _provided$maxScrollSp : 'standard']\n  });\n}","export var canScrollOnEdge = {\n  // Notes:\n  //\n  // 🌏 Chrome 115.0: uses fractional units for `scrollLeft` and `scrollTop`\n  //    (and fractional units don't reach true integer maximum when zoomed in / out)\n  // 🍎 Safari 16.5.2: no fractional units\n  // 🦊 Firefox 115.0: no fractional units\n\n  // we have some scroll we can move backwards into\n  top: function top(element) {\n    return element.scrollTop > 0;\n  },\n  // We have some scroll we can move forward into\n  right: function right(element) {\n    return Math.ceil(element.scrollLeft) + element.clientWidth < element.scrollWidth;\n  },\n  // We have some scroll we can move forwards into\n  bottom: function bottom(element) {\n    return Math.ceil(element.scrollTop) + element.clientHeight < element.scrollHeight;\n  },\n  // we have some scroll we can move back into.\n  left: function left(element) {\n    return element.scrollLeft > 0;\n  }\n};","export var edges = ['top', 'right', 'bottom', 'left'];\nexport var edgeAxisLookup = {\n  top: 'vertical',\n  right: 'horizontal',\n  bottom: 'vertical',\n  left: 'horizontal'\n};","var vertical = {\n  start: 'top',\n  end: 'bottom',\n  point: 'y',\n  size: 'height'\n};\nvar horizontal = {\n  start: 'left',\n  end: 'right',\n  point: 'x',\n  size: 'width'\n};\nexport var axisLookup = {\n  vertical: {\n    mainAxis: vertical,\n    crossAxis: horizontal\n  },\n  horizontal: {\n    mainAxis: horizontal,\n    crossAxis: vertical\n  }\n};","export var mainAxisSideLookup = {\n  top: 'start',\n  right: 'end',\n  bottom: 'end',\n  left: 'start'\n};","import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport { axisLookup } from './axis';\nimport { mainAxisSideLookup } from './side';\nfunction makeGetHitbox(_ref) {\n  var edge = _ref.edge,\n    axis = _ref.axis;\n  return function hitbox(_ref2) {\n    var _DOMRect$fromRect;\n    var clientRect = _ref2.clientRect,\n      config = _ref2.config;\n    var _axisLookup$axis = axisLookup[axis],\n      mainAxis = _axisLookup$axis.mainAxis,\n      crossAxis = _axisLookup$axis.crossAxis;\n    var side = mainAxisSideLookup[edge];\n    var mainAxisHitboxSize = Math.min(\n    // scale the size of the hitbox down for smaller elements\n    config.startHitboxAtPercentageRemainingOfElement[edge] * clientRect[mainAxis.size],\n    // Don't let the hitbox grow too big for big elements\n    config.maxMainAxisHitboxSize);\n    return DOMRect.fromRect((_DOMRect$fromRect = {}, _defineProperty(_DOMRect$fromRect, mainAxis.point, side === 'start' ?\n    // begin from the start edge and grow inwards\n    clientRect[mainAxis.point] :\n    // begin from inside the end edge and grow towards the end edge\n    clientRect[mainAxis.point] + clientRect[mainAxis.size] - mainAxisHitboxSize), _defineProperty(_DOMRect$fromRect, crossAxis.point, clientRect[crossAxis.point]), _defineProperty(_DOMRect$fromRect, mainAxis.size, mainAxisHitboxSize), _defineProperty(_DOMRect$fromRect, crossAxis.size, clientRect[crossAxis.size]), _DOMRect$fromRect));\n  };\n}\nexport var getOverElementHitbox = {\n  top: makeGetHitbox({\n    axis: 'vertical',\n    edge: 'top'\n  }),\n  right: makeGetHitbox({\n    axis: 'horizontal',\n    edge: 'right'\n  }),\n  bottom: makeGetHitbox({\n    axis: 'vertical',\n    edge: 'bottom'\n  }),\n  left: makeGetHitbox({\n    axis: 'horizontal',\n    edge: 'left'\n  })\n};","export function getPercentageInRange(_ref) {\n  var startOfRange = _ref.startOfRange,\n    endOfRange = _ref.endOfRange,\n    value = _ref.value;\n  // checking inputs\n  var isValid = startOfRange < endOfRange;\n  if (!isValid) {\n    return 0;\n  }\n  if (value < startOfRange) {\n    return 0;\n  }\n  if (value > endOfRange) {\n    return 1;\n  }\n  var range = endOfRange - startOfRange;\n  return (value - startOfRange) / range;\n}","import { axisLookup } from './axis';\nimport { getPercentageInRange } from './get-percentage-in-range';\nimport { mainAxisSideLookup } from './side';\n\n// We want a consistent scroll speed across devices, regardless of framerate\nfunction getMaxScrollChange(_ref) {\n  var timeSinceLastFrame = _ref.timeSinceLastFrame,\n    config = _ref.config;\n  var targetScrollPerMs = config.maxPixelScrollPerSecond / 1000;\n\n  // Adjusting out target scroll rate to match the frame rate of the target device\n  // This will pull the scroll speed down on high frame rate devices\n  // so we get a consistent visual scroll speed regardless of device.\n  var proposed = Math.ceil(targetScrollPerMs * timeSinceLastFrame);\n\n  // If lots of time as passed since that last frame (such on lower frame rate devices)\n  // we don't want the scroll speed to be too fast, otherwise it can feel jumpy\n  // We are capping the scroll speed at what it would be if we were hitting 60fps\n  var maximum = config.maxPixelScrollPerSecond / 60;\n  return Math.min(proposed, maximum);\n}\nfunction getDistanceDampening(_ref2) {\n  var client = _ref2.client,\n    axis = _ref2.axis,\n    edge = _ref2.edge,\n    hitbox = _ref2.hitbox,\n    config = _ref2.config;\n  var mainAxis = axisLookup[axis].mainAxis;\n  var side = mainAxisSideLookup[edge];\n\n  // We want to hit the max speed before the edge of the hitbox\n  var maxSpeedBuffer = hitbox[mainAxis.size] * config.maxScrollAtPercentageRemainingOfHitbox[edge];\n  if (side === 'end') {\n    return getPercentageInRange({\n      startOfRange: hitbox[mainAxis.start],\n      endOfRange: hitbox[mainAxis.end] - maxSpeedBuffer,\n      value: client[mainAxis.point]\n    });\n  }\n\n  // Moving towards start edge\n\n  var raw = getPercentageInRange({\n    startOfRange: hitbox[mainAxis.start] + maxSpeedBuffer,\n    endOfRange: hitbox[mainAxis.end],\n    value: client[mainAxis.point]\n  });\n  // When moving near start edge\n  // - the 'end' edge is where we start scrolling\n  // - the 'start' edge is where we reach max speed\n  // So we need to invert the percentage when moving backwards\n  return 1 - raw;\n}\nexport function getScrollChange(_ref3) {\n  var client = _ref3.client,\n    timeSinceLastFrame = _ref3.timeSinceLastFrame,\n    engagement = _ref3.engagement,\n    axis = _ref3.axis,\n    hitbox = _ref3.hitbox,\n    edge = _ref3.edge,\n    isDistanceDampeningEnabled = _ref3.isDistanceDampeningEnabled,\n    config = _ref3.config;\n  // We have two forms of speed dampening:\n  // 1. 🗺️ Distance\n  // The closer you are to a hitbox edge, the faster the scroll speed will be\n  // 2. ⏱️ Time\n  // When first entering a scroll container we want to dampening all scrolling\n  // This is to prevent super fast auto scrolling when first entering into\n  // a scroll container, or when lifting in a scroll container\n\n  var maxScroll = getMaxScrollChange({\n    timeSinceLastFrame: timeSinceLastFrame,\n    config: config\n  });\n  var percentageDistanceDampening = isDistanceDampeningEnabled ? getDistanceDampening({\n    client: client,\n    edge: edge,\n    hitbox: hitbox,\n    axis: axis,\n    config: config\n  }) : 1;\n\n  // Dampen speed by time\n  var percentageThroughTimeDampening = getPercentageInRange({\n    startOfRange: engagement.timeOfEngagementStart,\n    endOfRange: engagement.timeOfEngagementStart + config.timeDampeningDurationMs,\n    value: Date.now()\n  });\n\n  // Calculate how much of the max scroll we should apply based on dampening\n  var percentageOfMaxScroll = percentageDistanceDampening * percentageThroughTimeDampening;\n\n  // We _could_ ease this update (`Math.pow(percentageOfMaxSpeed, 2)`)\n  // But linear is feeling really good\n  // Always scrolling by at least one pixel, otherwise the scroll does nothing\n  var scroll = Math.max(maxScroll * percentageOfMaxScroll, 1);\n  var side = mainAxisSideLookup[edge];\n\n  // When moving backwards, we will be scrolling backwards\n  return side === 'end' ? scroll : -1 * scroll;\n}","import { canScrollOnEdge } from '../shared/can-scroll-on-edge';\nimport { edgeAxisLookup, edges } from '../shared/edges';\nimport { getOverElementHitbox } from '../shared/get-over-element-hitbox';\nimport { getScrollChange } from '../shared/get-scroll-change';\nimport { isAxisAllowed } from '../shared/is-axis-allowed';\nimport { isWithin } from '../shared/is-within';\nfunction getRectDefault(element) {\n  return element.getBoundingClientRect();\n}\nexport function getScrollBy(_ref) {\n  var element = _ref.element,\n    input = _ref.input,\n    timeSinceLastFrame = _ref.timeSinceLastFrame,\n    engagement = _ref.engagement,\n    config = _ref.config,\n    allowedAxis = _ref.allowedAxis,\n    _ref$getRect = _ref.getRect,\n    getRect = _ref$getRect === void 0 ? getRectDefault : _ref$getRect;\n  var client = {\n    x: input.clientX,\n    y: input.clientY\n  };\n  var clientRect = getRect(element);\n  var scrollableEdges = edges.reduce(function (map, edge) {\n    var hitbox = getOverElementHitbox[edge]({\n      clientRect: clientRect,\n      config: config\n    });\n    var axis = edgeAxisLookup[edge];\n\n    // Note: changing the allowed axis during a drag will not\n    // reset time dampening. It was decided it would be too\n    // complex to implement initially, and we can add it\n    // later if needed.\n    if (!isAxisAllowed(axis, allowedAxis)) {\n      return map;\n    }\n    if (!isWithin({\n      client: client,\n      clientRect: hitbox\n    })) {\n      return map;\n    }\n    if (!canScrollOnEdge[edge](element)) {\n      return map;\n    }\n    map.set(edge, {\n      edge: edge,\n      hitbox: hitbox\n    });\n    return map;\n  }, new Map());\n  var left = function () {\n    var axis = 'horizontal';\n    var leftEdge = scrollableEdges.get('left');\n    if (leftEdge) {\n      return getScrollChange({\n        client: client,\n        edge: leftEdge.edge,\n        hitbox: leftEdge.hitbox,\n        axis: axis,\n        timeSinceLastFrame: timeSinceLastFrame,\n        engagement: engagement,\n        isDistanceDampeningEnabled: true,\n        config: config\n      });\n    }\n    var rightEdge = scrollableEdges.get('right');\n    if (rightEdge) {\n      return getScrollChange({\n        client: client,\n        edge: rightEdge.edge,\n        hitbox: rightEdge.hitbox,\n        axis: axis,\n        timeSinceLastFrame: timeSinceLastFrame,\n        engagement: engagement,\n        isDistanceDampeningEnabled: true,\n        config: config\n      });\n    }\n    return 0;\n  }();\n  var top = function () {\n    var axis = 'vertical';\n    var bottomEdge = scrollableEdges.get('bottom');\n    if (bottomEdge) {\n      return getScrollChange({\n        client: client,\n        edge: bottomEdge.edge,\n        hitbox: bottomEdge.hitbox,\n        axis: axis,\n        timeSinceLastFrame: timeSinceLastFrame,\n        engagement: engagement,\n        isDistanceDampeningEnabled: true,\n        config: config\n      });\n    }\n    var topEdge = scrollableEdges.get('top');\n    if (topEdge) {\n      return getScrollChange({\n        client: client,\n        edge: topEdge.edge,\n        hitbox: topEdge.hitbox,\n        axis: axis,\n        timeSinceLastFrame: timeSinceLastFrame,\n        engagement: engagement,\n        isDistanceDampeningEnabled: true,\n        config: config\n      });\n    }\n    return 0;\n  }();\n  return {\n    left: left,\n    top: top\n  };\n}","export function isAxisAllowed(axis, allowedAxis) {\n  return allowedAxis === 'all' || axis === allowedAxis;\n}","export function isWithin(_ref) {\n  var client = _ref.client,\n    clientRect = _ref.clientRect;\n  return (\n    // is within horizontal bounds\n    client.x >= clientRect.x && client.x <= clientRect.x + clientRect.width &&\n    // is within vertical bounds\n    client.y >= clientRect.y && client.y <= clientRect.y + clientRect.height\n  );\n}","function _createForOfIteratorHelper(r, e) { var t = \"undefined\" != typeof Symbol && r[Symbol.iterator] || r[\"@@iterator\"]; if (!t) { if (Array.isArray(r) || (t = _unsupportedIterableToArray(r)) || e && r && \"number\" == typeof r.length) { t && (r = t); var _n = 0, F = function F() {}; return { s: F, n: function n() { return _n >= r.length ? { done: !0 } : { done: !1, value: r[_n++] }; }, e: function e(r) { throw r; }, f: F }; } throw new TypeError(\"Invalid attempt to iterate non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); } var o, a = !0, u = !1; return { s: function s() { t = t.call(r); }, n: function n() { var r = t.next(); return a = r.done, r; }, e: function e(r) { u = !0, o = r; }, f: function f() { try { a || null == t.return || t.return(); } finally { if (u) throw o; } } }; }\nfunction _unsupportedIterableToArray(r, a) { if (r) { if (\"string\" == typeof r) return _arrayLikeToArray(r, a); var t = {}.toString.call(r).slice(8, -1); return \"Object\" === t && r.constructor && (t = r.constructor.name), \"Map\" === t || \"Set\" === t ? Array.from(r) : \"Arguments\" === t || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t) ? _arrayLikeToArray(r, a) : void 0; } }\nfunction _arrayLikeToArray(r, a) { (null == a || a > r.length) && (a = r.length); for (var e = 0, n = Array(a); e < a; e++) n[e] = r[e]; return n; }\nimport { getInternalConfig } from '../shared/configuration';\nimport { markAndGetEngagement } from '../shared/engagement-history';\nimport { selector } from './data-attributes';\nimport { getScrollBy } from './get-scroll-by';\nfunction isScrollingAvailable(value) {\n  return Boolean(value.top || value.left);\n}\nfunction tryScrollElements(_ref) {\n  var _container$getConfigu, _container$getAllowed, _container$getAllowed2;\n  var target = _ref.target,\n    input = _ref.input,\n    source = _ref.source,\n    findEntry = _ref.findEntry,\n    timeSinceLastFrame = _ref.timeSinceLastFrame,\n    _ref$available = _ref.available,\n    available = _ref$available === void 0 ? {\n      top: true,\n      left: true\n    } : _ref$available;\n  // we cannot do any more scrolling\n  if (!isScrollingAvailable(available)) {\n    return available;\n  }\n\n  // run out of parents to search\n  if (!target) {\n    return available;\n  }\n  var element = target.closest(selector);\n\n  // cannot find any more scroll containers\n  if (!element) {\n    return available;\n  }\n  var container = findEntry(element);\n\n  // cannot find registration, this is bad.\n  // fail and just exit\n  if (!container) {\n    return available;\n  }\n  function continueSearchUp() {\n    var _element$parentElemen;\n    return tryScrollElements({\n      target: (_element$parentElemen = element === null || element === void 0 ? void 0 : element.parentElement) !== null && _element$parentElemen !== void 0 ? _element$parentElemen : null,\n      findEntry: findEntry,\n      source: source,\n      timeSinceLastFrame: timeSinceLastFrame,\n      input: input,\n      available: available\n    });\n  }\n  var feedback = {\n    input: input,\n    source: source,\n    element: element\n  };\n\n  // Engagement is not marked if scrolling is explicitly not allowed\n  if (container.canScroll && !container.canScroll(feedback)) {\n    return continueSearchUp();\n  }\n\n  // Marking engagement even if no edges are scrollable.\n  // We are marking engagement as soon as the element is scrolled over\n  var engagement = markAndGetEngagement(element);\n  var config = getInternalConfig((_container$getConfigu = container.getConfiguration) === null || _container$getConfigu === void 0 ? void 0 : _container$getConfigu.call(container, feedback));\n  var allowedAxis = (_container$getAllowed = (_container$getAllowed2 = container.getAllowedAxis) === null || _container$getAllowed2 === void 0 ? void 0 : _container$getAllowed2.call(container, feedback)) !== null && _container$getAllowed !== void 0 ? _container$getAllowed : 'all';\n  var scrollBy = getScrollBy({\n    element: element,\n    engagement: engagement,\n    input: input,\n    timeSinceLastFrame: timeSinceLastFrame,\n    allowedAxis: allowedAxis,\n    config: config\n  });\n\n  // Only allow scrolling in directions that have not already been used\n  var scroll = {\n    top: 0,\n    left: 0\n  };\n  if (available.top && scrollBy.top !== 0) {\n    scroll.top = scrollBy.top;\n    // can no longer scroll on the top after this\n    available.top = false;\n  }\n  if (available.left && scrollBy.left !== 0) {\n    scroll.left = scrollBy.left;\n    // can no longer scroll on the left after this\n    available.left = false;\n  }\n\n  // Only scroll if there is something to scroll\n  if (scroll.top !== 0 || scroll.left !== 0) {\n    element.scrollBy(scroll);\n  }\n  return continueSearchUp();\n}\nfunction tryScrollWindow(_ref2) {\n  var input = _ref2.input,\n    timeSinceLastFrame = _ref2.timeSinceLastFrame,\n    available = _ref2.available,\n    source = _ref2.source,\n    entries = _ref2.entries;\n  var element = document.documentElement;\n  var feedback = {\n    input: input,\n    source: source,\n    element: element\n  };\n  var _iterator = _createForOfIteratorHelper(entries),\n    _step;\n  try {\n    for (_iterator.s(); !(_step = _iterator.n()).done;) {\n      var _entry$getConfigurati, _entry$getAllowedAxis, _entry$getAllowedAxis2;\n      var entry = _step.value;\n      // this entry is not allowing scrolling, we need to look for another\n      if (entry.canScroll && !entry.canScroll(feedback)) {\n        continue;\n      }\n\n      // Note: if we had an event for when the user is leaving a tab\n      // we _could_ conceptually reset the engagement\n      var engagement = markAndGetEngagement(element);\n      var config = getInternalConfig((_entry$getConfigurati = entry.getConfiguration) === null || _entry$getConfigurati === void 0 ? void 0 : _entry$getConfigurati.call(entry, feedback));\n      var allowedAxis = (_entry$getAllowedAxis = (_entry$getAllowedAxis2 = entry.getAllowedAxis) === null || _entry$getAllowedAxis2 === void 0 ? void 0 : _entry$getAllowedAxis2.call(entry, feedback)) !== null && _entry$getAllowedAxis !== void 0 ? _entry$getAllowedAxis : 'all';\n      var scrollBy = getScrollBy({\n        element: element,\n        engagement: engagement,\n        input: input,\n        config: config,\n        allowedAxis: allowedAxis,\n        getRect: function getRect(element) {\n          return DOMRect.fromRect({\n            y: 0,\n            x: 0,\n            width: element.clientWidth,\n            height: element.clientHeight\n          });\n        },\n        timeSinceLastFrame: timeSinceLastFrame\n      });\n      var scroll = {\n        top: available.top ? scrollBy.top : 0,\n        left: available.left ? scrollBy.left : 0\n      };\n\n      // only trigger a scroll if we are actually scrolling\n      if (scroll.top !== 0 || scroll.left !== 0) {\n        element.scrollBy(scroll);\n      }\n\n      // We only want the window to scroll once\n      break;\n    }\n  } catch (err) {\n    _iterator.e(err);\n  } finally {\n    _iterator.f();\n  }\n}\nexport function tryScroll(_ref3) {\n  var input = _ref3.input,\n    findEntry = _ref3.findEntry,\n    timeSinceLastFrame = _ref3.timeSinceLastFrame,\n    source = _ref3.source,\n    getWindowScrollEntries = _ref3.getWindowScrollEntries,\n    underUsersPointer = _ref3.underUsersPointer;\n  // We are matching browser behaviour and scrolling inner elements\n  // before outer ones. So we try to scroll scroller containers before\n  // the window.\n  var remainder = tryScrollElements({\n    target: underUsersPointer,\n    timeSinceLastFrame: timeSinceLastFrame,\n    input: input,\n    source: source,\n    findEntry: findEntry\n  });\n\n  // Check if we can do any window scrolling\n  if (!isScrollingAvailable(remainder)) {\n    return;\n  }\n  tryScrollWindow({\n    input: input,\n    source: source,\n    entries: getWindowScrollEntries(),\n    timeSinceLastFrame: timeSinceLastFrame,\n    available: remainder\n  });\n}","import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nimport { combine } from '@atlaskit/pragmatic-drag-and-drop/combine';\nimport { getScheduler } from '../shared/scheduler';\nimport { addScrollableAttribute } from './data-attributes';\nimport { tryScroll } from './try-scroll';\nexport function makeApi(_ref) {\n  var monitor = _ref.monitor;\n  var elementRegistry = new Map();\n  var windowRegistry = new Set();\n  function autoScroll(args) {\n    // Warn during development if trying to add auto scroll to an element\n    // that is not scrollable.\n    // Note: this can produce a false positive when a scroll container is not\n    // scrollable initially, but becomes scrollable during a drag.\n    // I thought of adding the warning as I think it would be a more common pitfall\n    // to accidentally register auto scrolling on the wrong element\n    // If requested, we could provide a mechanism to opt out of this warning\n    if (process.env.NODE_ENV !== 'production') {\n      var _window$getComputedSt = window.getComputedStyle(args.element),\n        overflowX = _window$getComputedSt.overflowX,\n        overflowY = _window$getComputedSt.overflowY;\n      var isScrollable = overflowX === 'auto' || overflowX === 'scroll' || overflowY === 'auto' || overflowY === 'scroll';\n      if (!isScrollable) {\n        // eslint-disable-next-line no-console\n        console.warn('Auto scrolling has been attached to an element that appears not to be scrollable', {\n          element: args.element,\n          overflowX: overflowX,\n          overflowY: overflowY\n        });\n      }\n    }\n\n    // Warn if there is an existing registration\n    if (process.env.NODE_ENV !== 'production') {\n      var existing = elementRegistry.get(args.element);\n      if (existing) {\n        // eslint-disable-next-line no-console\n        console.warn('You have already registered autoScrolling on the same element', {\n          existing: existing,\n          proposed: args\n        });\n      }\n    }\n    elementRegistry.set(args.element, args);\n    return combine(addScrollableAttribute(args.element), function () {\n      return elementRegistry.delete(args.element);\n    });\n  }\n  function autoScrollWindow() {\n    var args = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    // Putting `args` in a unique object so that\n    // each call will create a unique entry, even if a consumer\n    // shares the `args` object between calls.\n    // Just being safe here.\n    var unique = _objectSpread({}, args);\n    windowRegistry.add(unique);\n    return function () {\n      return windowRegistry.delete(unique);\n    };\n  }\n  function findEntry(element) {\n    var _elementRegistry$get;\n    return (_elementRegistry$get = elementRegistry.get(element)) !== null && _elementRegistry$get !== void 0 ? _elementRegistry$get : null;\n  }\n  function getWindowScrollEntries() {\n    return Array.from(windowRegistry);\n  }\n  function onFrame(_ref2) {\n    var latestArgs = _ref2.latestArgs,\n      underUsersPointer = _ref2.underUsersPointer,\n      timeSinceLastFrame = _ref2.timeSinceLastFrame;\n    tryScroll({\n      input: latestArgs.location.current.input,\n      source: latestArgs.source,\n      findEntry: findEntry,\n      underUsersPointer: underUsersPointer,\n      timeSinceLastFrame: timeSinceLastFrame,\n      getWindowScrollEntries: getWindowScrollEntries\n    });\n  }\n  getScheduler(monitor).onFrame(onFrame);\n  return {\n    autoScroll: autoScroll,\n    autoScrollWindow: autoScrollWindow\n  };\n}","import { monitorForElements } from '@atlaskit/pragmatic-drag-and-drop/element/adapter';\nimport { makeApi } from '../over-element/make-api';\nvar api = makeApi({\n  monitor: monitorForElements\n});\nexport var autoScrollForElements = api.autoScroll;\nexport var autoScrollWindowForElements = api.autoScrollWindow;","import { useCallback, useEffect, useRef, useState } from \"react\";\nimport { BoardItem, DndState } from \"@/components/types\";\nimport { withPrefix } from \"@/utils/getPrefix\";\nimport {\n  draggable,\n  dropTargetForElements,\n} from \"@atlaskit/pragmatic-drag-and-drop/element/adapter\";\nimport { setCustomNativeDragPreview } from \"@atlaskit/pragmatic-drag-and-drop/element/set-custom-native-drag-preview\";\nimport { preserveOffsetOnSource } from \"@atlaskit/pragmatic-drag-and-drop/element/preserve-offset-on-source\";\nimport { combine } from \"@atlaskit/pragmatic-drag-and-drop/combine\";\nimport { autoScrollForElements } from \"@atlaskit/pragmatic-drag-and-drop-auto-scroll/element\";\nimport { useKanbanContext } from \"@/context/KanbanContext\";\n\nexport type TColumnState =\n  | {\n      type: \"is-card-over\";\n      isOverChildCard: boolean;\n      dragging: DOMRect;\n    }\n  | {\n      type: \"is-column-over\";\n    }\n  | {\n      type: \"idle\";\n    }\n  | {\n      type: \"is-dragging\";\n    };\n\nconst isCardData = (data: any) => {\n  return data.type === \"card\";\n};\n\nconst isColumnData = (data: any) => {\n  return data.type === \"column\";\n};\n\nconst idle = { type: \"idle\" } as TColumnState;\n\nexport const useColumnDnd = (\n  data: BoardItem,\n  index: number,\n  items: BoardItem[],\n  onColumnDndStateChange?: (info: DndState) => void,\n) => {\n  const { viewOnly } = useKanbanContext();\n  const headerRef = useRef<HTMLDivElement>(null);\n  const outerFullHeightRef = useRef<HTMLDivElement | null>(null);\n  const innerRef = useRef<HTMLDivElement | null>(null);\n  const [state, setState] = useState<TColumnState>(idle);\n\n  const cardOverShadowCount =\n    state.type === \"is-card-over\" && !state.isOverChildCard ? 1 : 0;\n  const totalTasksCount = data.totalChildrenCount + cardOverShadowCount;\n\n  const setIsCardOver = useCallback(\n    ({ data, location }: { data: any; location: any }) => {\n      const innerMost = location.current.dropTargets[0];\n      const isOverChildCard = Boolean(innerMost?.data[\"card-drop-target\"]);\n\n      const proposed: TColumnState = {\n        type: \"is-card-over\",\n        dragging: data.rect,\n        isOverChildCard,\n      };\n\n      setState(proposed);\n    },\n    [],\n  );\n\n  const handleGenerateDragPreview = useCallback(\n    ({ location, nativeSetDragImage }) => {\n      setCustomNativeDragPreview({\n        nativeSetDragImage,\n        getOffset: preserveOffsetOnSource({\n          element: headerRef.current!,\n          input: location.current.input,\n        }),\n        render({ container }) {\n          const rect = innerRef.current!.getBoundingClientRect();\n          const preview = innerRef.current!.cloneNode(true) as HTMLElement;\n          if (!preview) return;\n\n          preview.style.width = `${rect.width}px`;\n          preview.style.height = `${rect.height}px`;\n          preview.style.transform = \"rotate(4deg)\";\n\n          container.appendChild(preview);\n        },\n      });\n    },\n    [],\n  );\n\n  const handleDragStart = useCallback(() => {\n    setState({ type: \"is-dragging\" });\n  }, []);\n\n  const handleDrop = useCallback(() => {\n    setState(idle);\n  }, []);\n\n  const handleDragEnter = useCallback(\n    ({ source, location }) => {\n      if (isCardData(source.data)) {\n        setIsCardOver({ data: source.data, location });\n        return;\n      }\n      if (isColumnData(source.data) && source.data.columnId !== data.id) {\n        setState({ type: \"is-column-over\" });\n      }\n    },\n    [data.id, setIsCardOver],\n  );\n\n  const handleDropTargetChange = useCallback(\n    ({ source, location }) => {\n      if (isCardData(source.data)) {\n        setIsCardOver({ data: source.data, location });\n        return;\n      }\n    },\n    [setIsCardOver],\n  );\n\n  const handleDragLeave = useCallback(\n    ({ source }) => {\n      if (isColumnData(source.data) && source.data.columnId === data.id) {\n        return;\n      }\n      setState(idle);\n    },\n    [data.id],\n  );\n\n  const canDrop = useCallback(({ source }) => {\n    return source.data.type === \"card\" || source.data.type === \"column\";\n  }, []);\n\n  const canScroll = useCallback(({ source }) => {\n    return source.data.type === \"card\";\n  }, []);\n\n  const getConfiguration = useCallback(() => {\n    return {\n      maxScrollSpeed: \"standard\" as const,\n    };\n  }, []);\n\n  useEffect(() => {\n    if (\n      !outerFullHeightRef.current ||\n      !innerRef.current ||\n      !headerRef.current\n    ) {\n      console.warn(\"not ready\");\n      return;\n    }\n\n    const scroller = outerFullHeightRef.current.querySelector(\n      `.${withPrefix(\"column-content-list\")}`,\n    );\n\n    const columnData = {\n      type: \"column\",\n      columnId: data.id,\n      column: data,\n      index,\n    };\n\n    return combine(\n      draggable({\n        element: headerRef.current,\n        getInitialData: () => columnData,\n        onGenerateDragPreview: handleGenerateDragPreview,\n        onDragStart: handleDragStart,\n        onDrop: handleDrop,\n        //TODO: add dnd in columns\n        canDrag: () => false,\n      }),\n      dropTargetForElements({\n        element: outerFullHeightRef.current,\n        getData: () => columnData,\n        canDrop,\n        getIsSticky: () => true,\n        onDragStart: ({ source, location }) => {\n          if (isCardData(source.data)) {\n            setIsCardOver({ data: source.data, location });\n          }\n        },\n        onDragEnter: handleDragEnter,\n        onDropTargetChange: handleDropTargetChange,\n        onDragLeave: handleDragLeave,\n        onDrop: handleDrop,\n      }),\n      autoScrollForElements({\n        canScroll,\n        getConfiguration,\n        element: scroller,\n      }),\n    );\n  }, [\n    data,\n    index,\n    items?.length,\n    handleGenerateDragPreview,\n    handleDragStart,\n    handleDrop,\n    canDrop,\n    setIsCardOver,\n    handleDragEnter,\n    handleDropTargetChange,\n    handleDragLeave,\n    canScroll,\n    getConfiguration,\n  ]);\n\n  useEffect(() => {\n    onColumnDndStateChange?.({ state, column: data });\n  }, [state, onColumnDndStateChange]);\n\n  return {\n    headerRef,\n    outerFullHeightRef,\n    innerRef,\n    state,\n    cardOverShadowCount,\n    totalTasksCount,\n  };\n};\n","import React, { Fragment, useEffect, useRef, useState } from \"react\";\nimport {\n  BoardItem,\n  BoardProps,\n  ConfigMap,\n  DndState,\n  ScrollEvent,\n} from \"../types\";\nimport { withPrefix } from \"@/utils/getPrefix\";\nimport classNames from \"classnames\";\nimport ColumnHeader from \"../ColumnHeader\";\nimport ColumnContent from \"../ColumnContent\";\nimport { useColumnDnd } from \"@/global/dnd/useColumnDnd\";\n\ninterface Props {\n  index: number;\n  data: BoardItem;\n  configMap: ConfigMap;\n  loadMore?: (columnId: string) => void;\n  onColumnClick?: (\n    e: React.MouseEvent<HTMLDivElement>,\n    column: BoardItem,\n  ) => void;\n  onCardClick?: (e: React.MouseEvent<HTMLDivElement>, card: BoardItem) => void;\n  renderColumnHeader?: (column: BoardItem) => React.ReactNode;\n  renderColumnFooter?: (column: BoardItem) => React.ReactNode;\n  renderSkeletonCard?: BoardProps[\"renderSkeletonCard\"];\n  renderGap?: (column: BoardItem) => React.ReactNode;\n  renderColumnWrapper: (\n    column: BoardItem,\n    {\n      children,\n      className,\n      style,\n      ref,\n    }: {\n      children: React.ReactNode;\n      className?: string;\n      style?: React.CSSProperties;\n      ref?: React.RefObject<HTMLDivElement>;\n    },\n  ) => React.ReactNode;\n  columnWrapperStyle?: (column: BoardItem) => React.CSSProperties;\n  columnHeaderStyle?: (column: BoardItem) => React.CSSProperties;\n  columnStyle?: (column: BoardItem) => React.CSSProperties;\n  columnClassName?: (column: BoardItem) => string;\n  onCardDndStateChange?: (info: DndState) => void;\n  onColumnDndStateChange?: (info: DndState) => void;\n  columnWrapperClassName?: (column: BoardItem) => string;\n  columnHeaderClassName?: (column: BoardItem) => string;\n  columnListContentStyle?: (column: BoardItem) => React.CSSProperties;\n  renderCardDragIndicator?: (card: BoardItem, info: any) => React.ReactNode;\n  renderColumnDragIndicator?: (column: BoardItem, info: any) => React.ReactNode;\n  renderCardDragPreview?: (card: BoardItem, info: any) => React.ReactNode;\n  renderColumnDragPreview?: (column: BoardItem, info: any) => React.ReactNode;\n  columnListContentClassName?: (column: BoardItem) => string;\n  renderListFooter?: (column: BoardItem) => React.ReactNode;\n  renderColumnAdder?: (column: BoardItem) => React.ReactNode;\n  items: BoardItem[];\n  cardWrapperStyle?: (\n    card: BoardItem,\n    column: BoardItem,\n  ) => React.CSSProperties;\n  cardWrapperClassName?: string;\n  onScroll?: (e: ScrollEvent, column: BoardItem) => void;\n}\n\nconst Column = (props: Props) => {\n  const {\n    index,\n    data,\n    items,\n    onColumnClick,\n    renderColumnHeader,\n    renderColumnWrapper,\n    renderColumnFooter,\n    columnWrapperStyle,\n    columnHeaderStyle,\n    onColumnDndStateChange,\n    columnWrapperClassName,\n    columnHeaderClassName,\n    columnListContentClassName,\n    columnClassName,\n    columnStyle,\n    renderColumnAdder,\n    ...rest\n  } = props;\n\n  const {\n    headerRef,\n    outerFullHeightRef,\n    innerRef,\n    state,\n    cardOverShadowCount,\n  } = useColumnDnd(data, index, items, onColumnDndStateChange);\n\n  const containerClassName = classNames(\n    withPrefix(\"column-outer\"),\n    columnWrapperClassName?.(data),\n  );\n\n  const ColumnWrapper = (children: React.ReactNode) =>\n    renderColumnWrapper ? (\n      renderColumnWrapper(data, {\n        children,\n        className: containerClassName,\n        style: columnWrapperStyle?.(data),\n        ref: outerFullHeightRef,\n      })\n    ) : (\n      <div\n        className={containerClassName}\n        ref={outerFullHeightRef}\n        style={columnWrapperStyle?.(data)}\n      >\n        {children}\n      </div>\n    );\n\n  return (\n    <div onClick={(e) => onColumnClick?.(e, data)}>\n      {ColumnWrapper(\n        <div\n          className={classNames(withPrefix(\"column\"), columnClassName?.(data))}\n          ref={innerRef}\n          style={columnStyle?.(data)}\n        >\n          <div className={withPrefix(\"column-wrapper\")}>\n            <ColumnHeader\n              renderColumnHeader={renderColumnHeader}\n              columnHeaderStyle={columnHeaderStyle}\n              columnHeaderClassName={columnHeaderClassName?.(data)}\n              data={data}\n              ref={headerRef}\n            />\n            <ColumnContent\n              items={items}\n              column={data}\n              columnListContentClassName={columnListContentClassName?.(data)}\n              cardOverHeight={\n                cardOverShadowCount ? (state as any).dragging.height : null\n              }\n              cardOverShadowCount={cardOverShadowCount}\n              {...rest}\n            />\n            {renderColumnFooter?.(data)}\n          </div>\n        </div>,\n      )}\n    </div>\n  );\n};\n\nexport default Column;\n","// Source: https://github.com/atlassian/react-beautiful-dnd\n\nvar isEqual = function isEqual(base) {\n  return function (value) {\n    return base === value;\n  };\n};\nvar isScroll = isEqual('scroll');\nvar isAuto = isEqual('auto');\nvar isEither = function isEither(overflow, fn) {\n  return fn(overflow.overflowX) || fn(overflow.overflowY);\n};\nvar isElementScrollable = function isElementScrollable(el) {\n  var style = window.getComputedStyle(el);\n  var overflow = {\n    overflowX: style.overflowX,\n    overflowY: style.overflowY\n  };\n  return isEither(overflow, isScroll) || isEither(overflow, isAuto);\n};\nvar _getClosestScrollableElement = function getClosestScrollableElement(el) {\n  // cannot do anything else!\n  if (!el) {\n    return null;\n  }\n\n  // not allowing us to go higher then body\n  if (el === document.body || el === document.documentElement) {\n    return null;\n  }\n  if (!isElementScrollable(el)) {\n    // keep recursing\n    return _getClosestScrollableElement(el.parentElement);\n  }\n\n  // success!\n  return el;\n};\nexport { _getClosestScrollableElement as getClosestScrollableElement };","// Source: https://github.com/atlassian/react-beautiful-dnd\n\nimport { add, apply, isEqual, origin } from './position';\nvar smallestSigned = apply(function (value) {\n  if (value === 0) {\n    return 0;\n  }\n  return value > 0 ? 1 : -1;\n});\n// We need to figure out how much of the movement\n// cannot be done with a scroll\nexport var getOverlap = function () {\n  var getRemainder = function getRemainder(target, max) {\n    if (target < 0) {\n      return target;\n    }\n    if (target > max) {\n      return target - max;\n    }\n    return 0;\n  };\n  return function (_ref) {\n    var current = _ref.current,\n      max = _ref.max,\n      change = _ref.change;\n    var targetScroll = add(current, change);\n    var overlap = {\n      x: getRemainder(targetScroll.x, max.x),\n      y: getRemainder(targetScroll.y, max.y)\n    };\n    if (isEqual(overlap, origin)) {\n      return null;\n    }\n    return overlap;\n  };\n}();\nexport var canPartiallyScroll = function canPartiallyScroll(_ref2) {\n  var rawMax = _ref2.max,\n    current = _ref2.current,\n    change = _ref2.change;\n  // It is possible for the max scroll to be greater than the current scroll\n  // when there are scrollbars on the cross axis. We adjust for this by\n  // increasing the max scroll point if needed\n  // This will allow movements backwards even if the current scroll is greater than the max scroll\n  var max = {\n    x: Math.max(current.x, rawMax.x),\n    y: Math.max(current.y, rawMax.y)\n  };\n\n  // Only need to be able to move the smallest amount in the desired direction\n  var smallestChange = smallestSigned(change);\n  var overlap = getOverlap({\n    max: max,\n    current: current,\n    change: smallestChange\n  });\n\n  // no overlap at all - we can move there!\n  if (!overlap) {\n    return true;\n  }\n\n  // if there was an x value, but there is no x overlap - then we can scroll on the x!\n  if (smallestChange.x !== 0 && overlap.x === 0) {\n    return true;\n  }\n\n  // if there was an y value, but there is no y overlap - then we can scroll on the y!\n  if (smallestChange.y !== 0 && overlap.y === 0) {\n    return true;\n  }\n  return false;\n};\nexport var canScrollWindow = function canScrollWindow(viewport, change) {\n  return canPartiallyScroll({\n    current: viewport.scroll.current,\n    max: viewport.scroll.max,\n    change: change\n  });\n};\nexport var getWindowOverlap = function getWindowOverlap(viewport, change) {\n  if (!canScrollWindow(viewport, change)) {\n    return null;\n  }\n  var max = viewport.scroll.max;\n  var current = viewport.scroll.current;\n  return getOverlap({\n    current: current,\n    max: max,\n    change: change\n  });\n};\nexport var canScrollScrollable = function canScrollScrollable(scrollable, change) {\n  return canPartiallyScroll({\n    current: scrollable.scroll.current,\n    max: scrollable.scroll.max,\n    change: change\n  });\n};\nexport var getScrollableOverlap = function getScrollableOverlap(scrollable, change) {\n  if (!canScrollScrollable(scrollable, change)) {\n    return null;\n  }\n  return getOverlap({\n    current: scrollable.scroll.current,\n    max: scrollable.scroll.max,\n    change: change\n  });\n};","import invariant from 'tiny-invariant';\n\nvar getRect = function getRect(_ref) {\n  var top = _ref.top,\n      right = _ref.right,\n      bottom = _ref.bottom,\n      left = _ref.left;\n  var width = right - left;\n  var height = bottom - top;\n  var rect = {\n    top: top,\n    right: right,\n    bottom: bottom,\n    left: left,\n    width: width,\n    height: height,\n    x: left,\n    y: top,\n    center: {\n      x: (right + left) / 2,\n      y: (bottom + top) / 2\n    }\n  };\n  return rect;\n};\nvar expand = function expand(target, expandBy) {\n  return {\n    top: target.top - expandBy.top,\n    left: target.left - expandBy.left,\n    bottom: target.bottom + expandBy.bottom,\n    right: target.right + expandBy.right\n  };\n};\nvar shrink = function shrink(target, shrinkBy) {\n  return {\n    top: target.top + shrinkBy.top,\n    left: target.left + shrinkBy.left,\n    bottom: target.bottom - shrinkBy.bottom,\n    right: target.right - shrinkBy.right\n  };\n};\n\nvar shift = function shift(target, shiftBy) {\n  return {\n    top: target.top + shiftBy.y,\n    left: target.left + shiftBy.x,\n    bottom: target.bottom + shiftBy.y,\n    right: target.right + shiftBy.x\n  };\n};\n\nvar noSpacing = {\n  top: 0,\n  right: 0,\n  bottom: 0,\n  left: 0\n};\nvar createBox = function createBox(_ref2) {\n  var borderBox = _ref2.borderBox,\n      _ref2$margin = _ref2.margin,\n      margin = _ref2$margin === void 0 ? noSpacing : _ref2$margin,\n      _ref2$border = _ref2.border,\n      border = _ref2$border === void 0 ? noSpacing : _ref2$border,\n      _ref2$padding = _ref2.padding,\n      padding = _ref2$padding === void 0 ? noSpacing : _ref2$padding;\n  var marginBox = getRect(expand(borderBox, margin));\n  var paddingBox = getRect(shrink(borderBox, border));\n  var contentBox = getRect(shrink(paddingBox, padding));\n  return {\n    marginBox: marginBox,\n    borderBox: getRect(borderBox),\n    paddingBox: paddingBox,\n    contentBox: contentBox,\n    margin: margin,\n    border: border,\n    padding: padding\n  };\n};\n\nvar parse = function parse(raw) {\n  var value = raw.slice(0, -2);\n  var suffix = raw.slice(-2);\n\n  if (suffix !== 'px') {\n    return 0;\n  }\n\n  var result = Number(value);\n  !!isNaN(result) ? process.env.NODE_ENV !== \"production\" ? invariant(false, \"Could not parse value [raw: \" + raw + \", without suffix: \" + value + \"]\") : invariant(false) : void 0;\n  return result;\n};\n\nvar getWindowScroll = function getWindowScroll() {\n  return {\n    x: window.pageXOffset,\n    y: window.pageYOffset\n  };\n};\n\nvar offset = function offset(original, change) {\n  var borderBox = original.borderBox,\n      border = original.border,\n      margin = original.margin,\n      padding = original.padding;\n  var shifted = shift(borderBox, change);\n  return createBox({\n    borderBox: shifted,\n    border: border,\n    margin: margin,\n    padding: padding\n  });\n};\nvar withScroll = function withScroll(original, scroll) {\n  if (scroll === void 0) {\n    scroll = getWindowScroll();\n  }\n\n  return offset(original, scroll);\n};\nvar calculateBox = function calculateBox(borderBox, styles) {\n  var margin = {\n    top: parse(styles.marginTop),\n    right: parse(styles.marginRight),\n    bottom: parse(styles.marginBottom),\n    left: parse(styles.marginLeft)\n  };\n  var padding = {\n    top: parse(styles.paddingTop),\n    right: parse(styles.paddingRight),\n    bottom: parse(styles.paddingBottom),\n    left: parse(styles.paddingLeft)\n  };\n  var border = {\n    top: parse(styles.borderTopWidth),\n    right: parse(styles.borderRightWidth),\n    bottom: parse(styles.borderBottomWidth),\n    left: parse(styles.borderLeftWidth)\n  };\n  return createBox({\n    borderBox: borderBox,\n    margin: margin,\n    padding: padding,\n    border: border\n  });\n};\nvar getBox = function getBox(el) {\n  var borderBox = el.getBoundingClientRect();\n  var styles = window.getComputedStyle(el);\n  return calculateBox(borderBox, styles);\n};\n\nexport { calculateBox, createBox, expand, getBox, getRect, offset, shrink, withScroll };\n","// Source: https://github.com/atlassian/react-beautiful-dnd\n\nexport var origin = {\n  x: 0,\n  y: 0\n};\n\n// used to apply any function to both values of a point\n// eg: const floor = apply(Math.floor)(point);\nexport var apply = function apply(fn) {\n  return function (point) {\n    return {\n      x: fn(point.x),\n      y: fn(point.y)\n    };\n  };\n};\nexport var isEqual = function isEqual(point1, point2) {\n  return point1.x === point2.x && point1.y === point2.y;\n};\nexport var add = function add(point1, point2) {\n  return {\n    x: point1.x + point2.x,\n    y: point1.y + point2.y\n  };\n};\nexport var subtract = function subtract(point1, point2) {\n  return {\n    x: point1.x - point2.x,\n    y: point1.y - point2.y\n  };\n};","// A scroll event will only be triggered when there is a value of at least 1px change\nexport var minScroll = 1;\nexport var vertical = {\n  direction: 'vertical',\n  start: 'top',\n  end: 'bottom',\n  size: 'height',\n  scrollAxis: 'scrollTop'\n};\nexport var horizontal = {\n  direction: 'horizontal',\n  start: 'left',\n  end: 'right',\n  size: 'width',\n  scrollAxis: 'scrollLeft'\n};\nexport var defaultAllowedAxis = [horizontal.direction, vertical.direction];","// Source: https://github.com/atlassian/react-beautiful-dnd\n\n// Values used to control how the fluid auto scroll feels\nvar config = {\n  // percentage distance from edge of container:\n  startFromPercentage: 0.25,\n  maxScrollAtPercentage: 0.05,\n  // pixels per frame\n  maxPixelScroll: 28,\n  // A function used to ease a percentage value\n  // A simple linear function would be: (percentage) => percentage;\n  // percentage is between 0 and 1\n  // result must be between 0 and 1\n  ease: function ease(percentage) {\n    return Math.pow(percentage, 2);\n  },\n  durationDampening: {\n    // ms: how long to dampen the speed of an auto scroll from the start of a drag\n    stopDampeningAt: 1200,\n    // ms: when to start accelerating the reduction of duration dampening\n    accelerateAt: 360\n  }\n};\nexport default config;","// Source: https://github.com/atlassian/react-beautiful-dnd\n\nimport config from '../../config';\n\n// all in pixels\n\n// converts the percentages in the config into actual pixel values\nexport var getDistanceThresholds = function getDistanceThresholds(container, axis) {\n  var startScrollingFrom = container[axis.size] * config.startFromPercentage;\n  var maxScrollValueAt = container[axis.size] * config.maxScrollAtPercentage;\n  var thresholds = {\n    startScrollingFrom: startScrollingFrom,\n    maxScrollValueAt: maxScrollValueAt\n  };\n  return thresholds;\n};\nexport default getDistanceThresholds;","// Source: https://github.com/atlassian/react-beautiful-dnd\n\nexport var getPercentage = function getPercentage(_ref) {\n  var startOfRange = _ref.startOfRange,\n    endOfRange = _ref.endOfRange,\n    current = _ref.current;\n  var range = endOfRange - startOfRange;\n  if (range === 0) {\n    /**\n     * Detected distance range of 0 in the auto scroller\n     * This is unexpected and would cause a divide by 0 issue.\n     * Not allowing an auto scroll\n     */\n    return 0;\n  }\n  var currentInRange = current - startOfRange;\n  var percentage = currentInRange / range;\n  return percentage;\n};","// Source: https://github.com/atlassian/react-beautiful-dnd\n\nimport config from '../../config';\nimport { minScroll } from '../../constants';\nimport { getPercentage } from '../../get-percentage';\nvar accelerateAt = config.durationDampening.accelerateAt;\nvar stopAt = config.durationDampening.stopDampeningAt;\nexport var dampenValueByTime = function dampenValueByTime(proposedScroll, dragStartTime) {\n  var startOfRange = dragStartTime;\n  var endOfRange = stopAt;\n  var now = Date.now();\n  var runTime = now - startOfRange;\n\n  // we have finished the time dampening period\n  if (runTime >= stopAt) {\n    return proposedScroll;\n  }\n\n  // Up to this point we know there is a proposed scroll\n  // but we have not reached our accelerate point\n  // Return the minimum amount of scroll\n  if (runTime < accelerateAt) {\n    return minScroll;\n  }\n  var betweenAccelerateAtAndStopAtPercentage = getPercentage({\n    startOfRange: accelerateAt,\n    endOfRange: endOfRange,\n    current: runTime\n  });\n  var scroll = proposedScroll * config.ease(betweenAccelerateAtAndStopAtPercentage);\n  return Math.ceil(scroll);\n};","// Source: https://github.com/atlassian/react-beautiful-dnd\n\nimport { minScroll } from '../../constants';\nimport { dampenValueByTime } from './dampen-value-by-time';\nimport { getValueFromDistance } from './get-value-from-distance';\nexport var getValue = function getValue(_ref) {\n  var distanceToEdge = _ref.distanceToEdge,\n    thresholds = _ref.thresholds,\n    dragStartTime = _ref.dragStartTime,\n    shouldUseTimeDampening = _ref.shouldUseTimeDampening;\n  var scroll = getValueFromDistance(distanceToEdge, thresholds);\n\n  // not enough distance to trigger a minimum scroll\n  // we can bail here\n  if (scroll === 0) {\n    return 0;\n  }\n\n  // Dampen an auto scroll speed based on duration of drag\n\n  if (!shouldUseTimeDampening) {\n    return scroll;\n  }\n\n  // Once we know an auto scroll should occur based on distance,\n  // we must let at least 1px through to trigger a scroll event an\n  // another auto scroll call\n\n  return Math.max(dampenValueByTime(scroll, dragStartTime), minScroll);\n};\nexport default getValue;","// Source: https://github.com/atlassian/react-beautiful-dnd\n\nimport config from '../../config';\nimport { minScroll } from '../../constants';\nimport { getPercentage } from '../../get-percentage';\nexport var getValueFromDistance = function getValueFromDistance(distanceToEdge, thresholds) {\n  /*\n   // This function only looks at the distance to one edge\n   // Example: looking at bottom edge\n   |----------------------------------|\n   |                                  |\n   |                                  |\n   |                                  |\n   |                                  |\n   |                                  | => no scroll in this range\n   |                                  |\n   |                                  |\n   |  startScrollingFrom (eg 100px)   |\n   |                                  |\n   |                                  | => increased scroll value the closer to maxScrollValueAt\n   |  maxScrollValueAt (eg 10px)      |\n   |                                  | => max scroll value in this range\n   |----------------------------------|\n   */\n\n  // too far away to auto scroll\n  if (distanceToEdge > thresholds.startScrollingFrom) {\n    return 0;\n  }\n\n  // use max speed when on or over boundary\n  if (distanceToEdge <= thresholds.maxScrollValueAt) {\n    return config.maxPixelScroll;\n  }\n\n  // when just going on the boundary return the minimum integer\n  if (distanceToEdge === thresholds.startScrollingFrom) {\n    return minScroll;\n  }\n\n  // to get the % past startScrollingFrom we will calculate\n  // the % the value is from maxScrollValueAt and then invert it\n  var percentageFromMaxScrollValueAt = getPercentage({\n    startOfRange: thresholds.maxScrollValueAt,\n    endOfRange: thresholds.startScrollingFrom,\n    current: distanceToEdge\n  });\n  var percentageFromStartScrollingFrom = 1 - percentageFromMaxScrollValueAt;\n  var scroll = config.maxPixelScroll * config.ease(percentageFromStartScrollingFrom);\n\n  // scroll will always be a positive integer\n  return Math.ceil(scroll);\n};","// Source: https://github.com/atlassian/react-beautiful-dnd\n\nimport getDistanceThresholds from './get-distance-thresholds';\nimport getValue from './get-value';\nexport default (function (_ref) {\n  var container = _ref.container,\n    distanceToEdges = _ref.distanceToEdges,\n    dragStartTime = _ref.dragStartTime,\n    axis = _ref.axis,\n    shouldUseTimeDampening = _ref.shouldUseTimeDampening;\n  var thresholds = getDistanceThresholds(container, axis);\n  var isCloserToEnd = distanceToEdges[axis.end] < distanceToEdges[axis.start];\n  if (isCloserToEnd) {\n    return getValue({\n      distanceToEdge: distanceToEdges[axis.end],\n      thresholds: thresholds,\n      dragStartTime: dragStartTime,\n      shouldUseTimeDampening: shouldUseTimeDampening\n    });\n  }\n  return -1 * getValue({\n    distanceToEdge: distanceToEdges[axis.start],\n    thresholds: thresholds,\n    dragStartTime: dragStartTime,\n    shouldUseTimeDampening: shouldUseTimeDampening\n  });\n});","// Source: https://github.com/atlassian/react-beautiful-dnd\n\nimport { horizontal, vertical } from '../constants';\nimport { apply, isEqual, origin } from '../position';\nimport getScrollOnAxis from './get-scroll-on-axis';\n\n// will replace -0 and replace with +0\nvar clean = apply(function (value) {\n  return value === 0 ? 0 : value;\n});\nexport default (function (_ref) {\n  var dragStartTime = _ref.dragStartTime,\n    container = _ref.container,\n    center = _ref.center,\n    shouldUseTimeDampening = _ref.shouldUseTimeDampening;\n  // get distance to each edge\n  var distanceToEdges = {\n    top: center.y - container.top,\n    right: container.right - center.x,\n    bottom: container.bottom - center.y,\n    left: center.x - container.left\n  };\n\n  // 1. Figure out which x,y values are the best target\n  // 2. Can the container scroll in that direction at all?\n  // If no for both directions, then return null\n  // 3. Is the center close enough to a edge to start a drag?\n  // 4. Based on the distance, calculate the speed at which a scroll should occur\n  // The lower distance value the faster the scroll should be.\n  // Maximum speed value should be hit before the distance is 0\n  // Negative values to not continue to increase the speed\n  var y = getScrollOnAxis({\n    container: container,\n    distanceToEdges: distanceToEdges,\n    dragStartTime: dragStartTime,\n    axis: vertical,\n    shouldUseTimeDampening: shouldUseTimeDampening\n  });\n  var x = getScrollOnAxis({\n    container: container,\n    distanceToEdges: distanceToEdges,\n    dragStartTime: dragStartTime,\n    axis: horizontal,\n    shouldUseTimeDampening: shouldUseTimeDampening\n  });\n  var required = clean({\n    x: x,\n    y: y\n  });\n\n  // nothing required\n  if (isEqual(required, origin)) {\n    return null;\n  }\n  return required;\n});","// Source: https://github.com/atlassian/react-beautiful-dnd\n\nimport { canScrollScrollable } from './can-scroll';\nimport getScroll from './get-scroll';\nexport default (function (_ref) {\n  var scrollable = _ref.scrollable,\n    center = _ref.center,\n    dragStartTime = _ref.dragStartTime,\n    shouldUseTimeDampening = _ref.shouldUseTimeDampening;\n  var scroll = getScroll({\n    dragStartTime: dragStartTime,\n    container: scrollable.container,\n    center: center,\n    shouldUseTimeDampening: shouldUseTimeDampening\n  });\n  return scroll && canScrollScrollable(scrollable, scroll) ? scroll : null;\n});","// Source: https://github.com/atlassian/react-beautiful-dnd\n\nimport { canScrollWindow } from './can-scroll';\nimport getScroll from './get-scroll';\nexport default (function (_ref) {\n  var viewport = _ref.viewport,\n    center = _ref.center,\n    dragStartTime = _ref.dragStartTime,\n    shouldUseTimeDampening = _ref.shouldUseTimeDampening;\n  var scroll = getScroll({\n    dragStartTime: dragStartTime,\n    container: viewport.container,\n    center: center,\n    shouldUseTimeDampening: shouldUseTimeDampening\n  });\n  return scroll && canScrollWindow(viewport, scroll) ? scroll : null;\n});","import getMaxScroll from '../get-max-scroll';\nexport default (function () {\n  var doc = document.documentElement;\n  var maxScroll = getMaxScroll({\n    // unclipped padding box, with scrollbar\n    scrollHeight: doc.scrollHeight,\n    scrollWidth: doc.scrollWidth,\n    // clipped padding box, without scrollbar\n    width: doc.clientWidth,\n    height: doc.clientHeight\n  });\n  return maxScroll;\n});","import { subtract } from './position';\nexport default (function (_ref) {\n  var scrollHeight = _ref.scrollHeight,\n    scrollWidth = _ref.scrollWidth,\n    height = _ref.height,\n    width = _ref.width;\n  var maxScroll = subtract(\n  // full size\n  {\n    x: scrollWidth,\n    y: scrollHeight\n  },\n  // viewport size\n  {\n    x: width,\n    y: height\n  });\n  var adjustedMaxScroll = {\n    x: Math.max(0, maxScroll.x),\n    y: Math.max(0, maxScroll.y)\n  };\n  return adjustedMaxScroll;\n});","import { getRect } from 'css-box-model';\nimport getMaxWindowScroll from './get-max-window-scroll';\nimport getWindowScroll from './get-window-scroll';\nexport default (function () {\n  var scroll = getWindowScroll();\n  var maxScroll = getMaxWindowScroll();\n  var top = scroll.y;\n  var left = scroll.x;\n\n  // window.innerHeight: includes scrollbars (not what we want)\n  // document.clientHeight gives us the correct value when using the html5 doctype\n  var doc = document.documentElement;\n  // Using these values as they do not consider scrollbars\n  // padding box, without scrollbar\n  var width = doc.clientWidth;\n  var height = doc.clientHeight;\n\n  // Computed\n  var right = left + width;\n  var bottom = top + height;\n  var container = getRect({\n    top: top,\n    left: left,\n    right: right,\n    bottom: bottom\n  });\n  var viewport = {\n    container: container,\n    scroll: {\n      current: scroll,\n      max: maxScroll\n    }\n  };\n  return viewport;\n});","// The browsers update document.documentElement.scrollTop and window.pageYOffset\n// differently as the window scrolls.\n\n// Webkit\n// documentElement.scrollTop: no update. Stays at 0\n// window.pageYOffset: updates to whole number\n\n// Chrome\n// documentElement.scrollTop: update with fractional value\n// window.pageYOffset: update with fractional value\n\n// FireFox\n// documentElement.scrollTop: updates to whole number\n// window.pageYOffset: updates to whole number\n\n// IE11 (same as firefox)\n// documentElement.scrollTop: updates to whole number\n// window.pageYOffset: updates to whole number\n\n// Edge (same as webkit)\n// documentElement.scrollTop: no update. Stays at 0\n// window.pageYOffset: updates to whole number\n\nexport default (function () {\n  return {\n    x: window.pageXOffset,\n    y: window.pageYOffset\n  };\n});","import { getElementFromPointWithoutHoneypot } from '@atlaskit/pragmatic-drag-and-drop/private/get-element-from-point-without-honey-pot';\nimport { getClosestScrollableElement } from './get-closest-scrollable-element';\nimport { getScrollable } from './get-scrollable';\nimport getScrollableScrollChange from './get-scrollable-scroll-change';\nimport getWindowScrollChange from './get-window-scroll-change';\nimport getViewport from './window/get-viewport';\nexport var scroll = function scroll(_ref) {\n  var input = _ref.input,\n    dragStartTime = _ref.dragStartTime,\n    shouldUseTimeDampening = _ref.shouldUseTimeDampening,\n    scrollElement = _ref.scrollElement,\n    scrollWindow = _ref.scrollWindow,\n    behavior = _ref.behavior;\n  var tryScrollWindow = function tryScrollWindow() {\n    var viewport = getViewport();\n    var windowScrollChange = getWindowScrollChange({\n      dragStartTime: dragStartTime,\n      viewport: viewport,\n      center: {\n        x: input.clientX + viewport.scroll.current.x,\n        y: input.clientY + viewport.scroll.current.y\n      },\n      shouldUseTimeDampening: shouldUseTimeDampening\n    });\n    if (windowScrollChange) {\n      scrollWindow(windowScrollChange);\n      return true;\n    }\n    return false;\n  };\n  var tryScrollContainer = function tryScrollContainer() {\n    var over = getElementFromPointWithoutHoneypot({\n      x: input.clientX,\n      y: input.clientY\n    });\n    var closestScrollable = getClosestScrollableElement(over);\n    if (!closestScrollable) {\n      return false;\n    }\n    var scrollable = getScrollable({\n      closestScrollable: closestScrollable\n    });\n    var scrollableScrollChange = getScrollableScrollChange({\n      dragStartTime: dragStartTime,\n      scrollable: scrollable,\n      center: {\n        x: input.clientX,\n        y: input.clientY\n      },\n      shouldUseTimeDampening: shouldUseTimeDampening\n    });\n    if (scrollableScrollChange) {\n      scrollElement(closestScrollable, scrollableScrollChange);\n      return true;\n    }\n    return false;\n  };\n  if (behavior === 'container-only') {\n    tryScrollContainer();\n  }\n  if (behavior === 'window-only') {\n    tryScrollWindow();\n  }\n  if (behavior === 'container-then-window') {\n    tryScrollContainer() || tryScrollWindow();\n  }\n  if (behavior === 'window-then-container') {\n    tryScrollWindow() || tryScrollContainer();\n  }\n};","import { getRect } from 'css-box-model';\n// Simplified version of RBD's droppable: minimum required fields just to get it working with cursor-based scolling.\nexport var getScrollable = function getScrollable(_ref) {\n  var closestScrollable = _ref.closestScrollable;\n  var rect = closestScrollable.getBoundingClientRect();\n  var scrollPosition = {\n    x: closestScrollable.scrollLeft,\n    y: closestScrollable.scrollTop\n  };\n  return {\n    container: getRect(rect),\n    scroll: {\n      current: scrollPosition,\n      max: {\n        x: closestScrollable.scrollWidth - closestScrollable.clientWidth,\n        y: closestScrollable.scrollHeight - closestScrollable.clientHeight\n      }\n    }\n  };\n};","import { scroll } from './internal/scroll';\nvar scrollElement = function scrollElement(element, change) {\n  element.scrollBy(change.x, change.y);\n};\nvar scrollWindow = function scrollWindow(change) {\n  window.scrollBy(change.x, change.y);\n};\nexport var createAutoScroller = function createAutoScroller() {\n  var dragging = null;\n  function tryScroll(fakeScrollCallback) {\n    if (dragging == null) {\n      return;\n    }\n    scroll({\n      input: dragging.latestInput,\n      dragStartTime: dragging.dragStartTime,\n      shouldUseTimeDampening: dragging.shouldUseTimeDampening,\n      behavior: dragging.behavior,\n      scrollElement: fakeScrollCallback !== null && fakeScrollCallback !== void 0 ? fakeScrollCallback : scrollElement,\n      scrollWindow: fakeScrollCallback !== null && fakeScrollCallback !== void 0 ? fakeScrollCallback : scrollWindow\n    });\n  }\n\n  // Every animation frame use the latest user input to scroll\n  // We do this loop manually rather than in response to `onDrag`\n  // events as `onDrag` can drop to 50-100ms between events when\n  // the user is not actively moving their pointer\n  function loop() {\n    if (!dragging) {\n      return;\n    }\n    dragging.loopFrameId = requestAnimationFrame(function () {\n      tryScroll();\n      loop();\n    });\n  }\n  var start = function start(_ref) {\n    var input = _ref.input,\n      _ref$behavior = _ref.behavior,\n      behavior = _ref$behavior === void 0 ? 'window-then-container' : _ref$behavior;\n    var dragStartTime = Date.now();\n    dragging = {\n      dragStartTime: dragStartTime,\n      latestInput: input,\n      loopFrameId: null,\n      shouldUseTimeDampening: false,\n      behavior: behavior\n    };\n\n    // we only use time dampening when auto scrolling starts on lift.\n    var fakeScrollCallback = function fakeScrollCallback() {\n      if (dragging) {\n        dragging.shouldUseTimeDampening = true;\n      }\n    };\n    tryScroll(fakeScrollCallback);\n    loop();\n  };\n  function updateInput(_ref2) {\n    var input = _ref2.input;\n    if (!dragging) {\n      return;\n    }\n    dragging.latestInput = input;\n  }\n  var stop = function stop() {\n    // can be called defensively\n    if (!dragging) {\n      return;\n    }\n    if (dragging.loopFrameId) {\n      cancelAnimationFrame(dragging.loopFrameId);\n    }\n    dragging = null;\n  };\n  return {\n    start: start,\n    updateInput: updateInput,\n    stop: stop\n  };\n};\nexport var autoScroller = createAutoScroller();","import React from \"react\";\n\ntype CallbackRef<T> = (ref: T | null) => void;\ntype Ref<T> = React.MutableRefObject<T> | CallbackRef<T>;\n\nconst toFnRef = <T>(ref?: Ref<T | null> | null) =>\n  !ref || typeof ref === \"function\"\n    ? ref\n    : (value: T | null) => {\n        ref.current = value;\n      };\n\nexport default function mergeRefs<T>(\n  refA?: Ref<T | null> | null,\n  refB?: Ref<T | null> | null,\n): React.RefCallback<T> {\n  const a = toFnRef(refA);\n  const b = toFnRef(refB);\n  return (value: T | null) => {\n    if (typeof a === \"function\") a(value);\n    if (typeof b === \"function\") b(value);\n  };\n}\n","import { BoardProps } from \"@/components\";\n\nexport const getSharedProps = (props: BoardProps) => {\n  const {\n    viewOnly = false,\n    virtualization = true,\n    cardsGap = 8,\n    allowColumnAdder = true,\n    allowListFooter,\n  } = props;\n  return {\n    viewOnly,\n    virtualization,\n    cardsGap,\n    allowColumnAdder,\n    allowListFooter,\n  };\n};\n","import { useKanbanContext } from \"@/context/KanbanContext\";\nimport { withPrefix } from \"@/utils/getPrefix\";\nimport React from \"react\";\n\ninterface Props {\n  renderColumnAdder: () => React.ReactNode;\n}\n\nconst ColumnAdder = ({ renderColumnAdder }: Props) => {\n  const { allowColumnAdder = true } = useKanbanContext();\n  if (!allowColumnAdder) return null;\n\n  return (\n    <div className={withPrefix(\"column-adder\")}>{renderColumnAdder?.()}</div>\n  );\n};\n\nexport default ColumnAdder;\n","import { BoardProps } from \"./types\";\nimport {\n  getColumnChildren,\n  getColumnsFromDataSource,\n} from \"@/utils/columnsUtils\";\nimport { withPrefix } from \"@/utils/getPrefix\";\nimport classNames from \"classnames\";\nimport { Column } from \"./Column\";\nimport { forwardRef, useEffect, useRef } from \"react\";\nimport { autoScroller } from \"@atlaskit/pragmatic-drag-and-drop-react-beautiful-dnd-autoscroll\";\nimport { monitorForElements } from \"@atlaskit/pragmatic-drag-and-drop/element/adapter\";\nimport { combine } from \"@atlaskit/pragmatic-drag-and-drop/combine\";\nimport { autoScrollForElements } from \"@atlaskit/pragmatic-drag-and-drop-auto-scroll/element\";\nimport { KanbanProvider } from \"@/context/KanbanContext\";\nimport mergeRefs from \"@/utils/mergeRefs\";\nimport { handleCardDrop } from \"@/global/dnd/dropManager\";\nimport { getSharedProps } from \"@/utils/getSharedProps\";\nimport ColumnAdder from \"./ColumnAdder\";\n\nconst Kanban = forwardRef<HTMLDivElement, BoardProps>((props, ref) => {\n  const {\n    dataSource,\n    rootStyle = {},\n    rootClassName,\n    onColumnMove,\n    onCardMove,\n    renderColumnWrapper,\n    renderColumnAdder,\n    ...rest\n  } = props;\n\n  const columns = getColumnsFromDataSource(dataSource);\n  const internalRef = useRef<HTMLDivElement>(null);\n\n  useEffect(() => {\n    if (!internalRef.current) return;\n\n    return combine(\n      monitorForElements({\n        onDragStart({ location }) {\n          autoScroller.start({ input: location.current.input });\n        },\n        onDrag({ location }) {\n          autoScroller.updateInput({ input: location.current.input });\n        },\n        onDrop(args) {\n          autoScroller.stop();\n          handleCardDrop({\n            source: {\n              id: (args.source as any).id || \"\",\n              data: args.source.data,\n            },\n            location: {\n              current: {\n                dropTargets: args.location.current.dropTargets,\n              },\n            },\n            columns,\n            dataSource,\n            onCardMove,\n            onColumnMove,\n          });\n        },\n      }),\n      autoScrollForElements({\n        element: internalRef.current,\n        canScroll: () => true,\n        getConfiguration: () => ({\n          maxScrollSpeed: \"standard\",\n        }),\n      }),\n    );\n  }, [columns, dataSource, onCardMove, onColumnMove]);\n\n  const containerClassName = classNames(withPrefix(\"board\"), rootClassName);\n\n  return (\n    <KanbanProvider {...getSharedProps(props)}>\n      <div\n        ref={mergeRefs(ref, internalRef)}\n        className={containerClassName}\n        style={rootStyle}\n      >\n        {columns?.map((column, index) => (\n          <Column\n            key={column.id}\n            index={index}\n            data={column}\n            items={getColumnChildren(column, dataSource)}\n            renderColumnWrapper={renderColumnWrapper}\n            {...rest}\n          />\n        ))}\n        <ColumnAdder renderColumnAdder={renderColumnAdder} />\n      </div>\n    </KanbanProvider>\n  );\n});\n\nexport default Kanban;\n"],"names":["_typeof","o","Symbol","iterator","constructor","prototype","toPropertyKey","t","i","r","e","toPrimitive","call","TypeError","String","Number","_defineProperty","Object","defineProperty","value","enumerable","configurable","writable","ownKeys","keys","getOwnPropertySymbols","filter","getOwnPropertyDescriptor","push","apply","_objectSpread","arguments","length","forEach","getOwnPropertyDescriptors","defineProperties","getDistanceToEdge","top","rect","client","Math","abs","y","right","x","bottom","left","uniqueKey","extractClosestEdge","userData","_ref2","_arrayLikeToArray","a","n","Array","_unsupportedIterableToArray","arrayLikeToArray","toString","slice","name","from","test","_slicedToArray","arrayWithHoles","isArray","l","u","f","next","done","iterableToArrayLimit","unsupportedIterableToArray","nonIterableRest","getReorderDestinationIndex","_ref","startIndex","closestEdgeOfTarget","indexOfTarget","axis","isGoingAfter","reorderWithEdge","list","finishIndex","result","removed","splice","reorder","isColumnData","data","type","getTasksByColumnId","columnId","dataSource","tasks","column","parentTasks","children","taskId","task","getColumnChildren","map","child","withPrefix","string","separator","item","join","hasOwn","hasOwnProperty","classNames","classes","arg","appendClass","parseValue","includes","key","newClass","module","exports","default","window","ColumnHeader","forwardRef","props","ref","renderColumnHeader","columnHeaderStyle","columnHeaderClassName","headerClassName","className","style","_jsx","title","totalItemsCount","totalChildrenCount","min","max","h","floor","v","p","g","sort","m","queueMicrotask","Promise","resolve","then","_","w","S","$","b","I","reduce","z","k","document","documentElement","E","getComputedStyle","direction","M","navigator","userAgent","C","B","setTimeout","J","P","s","async","c","W","scrollTo","behavior","V","Date","now","d","clearTimeout","L","H","ctrlKey","deltaX","deltaY","addEventListener","passive","removeEventListener","A","O","X","Y","j","q","align","smooth","offset","T","R","D","WeakMap","U","defaultView","ownerDocument","ResizeObserver","observe","F","unobserve","disconnect","target","contentRect","offsetParent","get","G","K","set","delete","useLayoutEffect","useEffect","N","useRef","Q","Z","ee","te","ne","oe","re","ie","position","visibility","display","jsx","index","count","overscan","itemSize","shift","horizontal","keepMounted","cache","startMargin","ssrCount","as","scrollRef","onScroll","onScrollEnd","Set","add","parentElement","useImperativeHandle","scrollOffset","scrollSize","viewportSize","findStartIndex","findEndIndex","getItemOffset","getItemSize","scrollToIndex","scrollBy","unshift","overflowAnchor","flex","width","height","pointerEvents","reverse","flexDirection","justifyContent","minHeight","contain","CardSkeleton","animationType","skeletonClass","trim","_jsxs","bind_1","bind","_a","listener","options","__assign","this","assign","bindAll_1","bindAll","require$$0","toOptions","capture","bindings","sharedOptions","unbinds","original","binding","getBinding","unbind","bind_all_1","require$$1","honeyPotDataAttribute","isHoneyPotElement","Element","hasAttribute","getElementFromPointWithoutHoneypot","_document$elementsFro2","elementsFromPoint","second","maxZIndex","getHoneyPotRectFor","point","innerWidth","innerHeight","preventGoingForwardsOffScreen","preventGoingBackwardsOffScreen","honeyPotSize","pullBackByHalfHoneyPotSize","floorToClosestPixel","DOMRect","fromRect","getRectStyles","clientRect","concat","_toConsumableArray","arrayWithoutHoles","iterableToArray","nonIterableSpread","once","fn","_len","args","_key","isFirefox","process","env","NODE_ENV","isSafari","symbols","isLeavingWindow","isEnteringWindow","eventTarget","dragLeave","relatedTarget","isLeavingWindowInSafari","HTMLIFrameElement","getInput","event","altKey","button","buttons","metaKey","shiftKey","clientX","clientY","pageX","pageY","state","enterCount","isOverWindow","dist","resetState","scheduled","scheduleOnDrag","lastArgs","frameId","wrapperFn","requestAnimationFrame","cancel","cancelAnimationFrame","rafSchd","dragStart","schedule","flush","globalState","isActive","canStart","getNativeSetDragImage","dataTransfer","setDragImage","setDropEffectOnEvent","_ref3","_current$","innerMost","current","dropEffect","lifecycle","start","dragType","getDropTargetsOver","dispatchEvent","initial","_ref4","input","startedFrom","dropTargets","source","payload","getStartLocation","callCount","onDragEnd","dispatch","previous","safeDispatch","location","nativeSetDragImage","eventName","dragUpdate","drag","drop","_ref5","updatedSourcePayload","makeDispatch","unbindEvents","onUpdateEvent","updateState","preventDefault","getDropPayload","hasChanged","element","hasHierarchyChanged","nextDropTargets","finish","ledger","Map","register","entry","typeKey","mount","usageCount","unmount","ledger$1","registerUsage","combine","fns","addAttribute","attribute","setAttribute","removeAttribute","_createForOfIteratorHelper","_n","return","copyReverse","array","makeDropTarget","defaultDropEffect","registry","dropTargetDataAtt","dropTargetSelector","getActualDropTargets","_args$getData","_args$getData2","_args$getDropEffect","_args$getDropEffect2","_ref2$result","Node","closest","feedback","canDrop","getData","getDropEffect","record","isActiveDueToStickiness","notifyCurrent","_step","_iterator","_entry$eventName","self","err","actions","onGenerateDragPreview","onDrag","onDragStart","onDrop","onDropTargetChange","_step2","isCurrent","visited","_iterator2","_entry$onDropTargetCh","_entry$onDragLeave","isOver","has","onDragLeave","_step3","_iterator3","_entry$onDropTargetCh2","_entry$onDragEnter","_record","_args","_entry","onDragEnter","dropTargetForConsumers","existing","console","warn","proposed","replace","addToRegistry","getIsOver","actual","lastCaptureOrdered","actualCaptureOrdered","resultCaptureOrdered","_argsForLast$getIsSti","last","fresh","parent","lastParent","argsForLast","getIsSticky","makeMonitor","dragging","tryAddToActive","monitor","canMonitor","canMonitorArgs","active","_i","_active","_monitor$eventName","_monitor","clear","monitorForConsumers","isAndroid","toLocaleLowerCase","textMediaType","draggableRegistry","latestPointerMove","honeyPotFix","bindEvents","getOnPostDispatch","_ref6","createElement","backgroundColor","padding","margin","boxSizing","zIndex","body","appendChild","unbindPointerMove","isWithin","remove","unbindPostDragEvents","cleanup","mountHoneyPot","_finish","_input","adapter","dispatchEventToSource","onPostDispatch","monitorAPI","dropTargetAPI","api","dropTarget","makeAdapter","_entry$dragHandle","_entry$getInitialData","_entry$getInitialData2","_entry$dragHandle2","_entry$getInitialData3","_entry$getInitialData4","defaultPrevented","HTMLElement","dragHandle","canDrag","over","contains","nativeData","getInitialDataForExternal","_Object$entries","entries","_Object$entries$_i","setData","types","getInitialData","_draggableRegistry$ge","_draggableRegistry$ge2","dropTargetForElements","monitorForElements","draggable","defaultOffset","setCustomNativeDragPreview","render","_ref$getOffset","getOffset","container","append","removeChild","previewOffset","getBoundingClientRect","unbindMonitor","preserveOffsetOnSource","sourceRect","containerRect","KanbanContext","createContext","undefined","useKanbanContext","context","useContext","Error","KanbanProvider","Provider","idle","useCardDnd","isDraggable","onCardDndStateChange","viewOnly","outerRef","innerRef","setState","useState","useCallback","itemId","id","parentId","getDropTargetData","_entries$sort$0$edge","_entries$sort$","allowedEdges","addClosestEdge","edge","attachClosestEdge","sourceData","handleGenerateDragPreview","handleDragStart","handleDrop","handleDragEnter","closestEdge","handleDrag","handleDragLeave","outer","inner","card","CardShadow","memo","customIndicator","CardDisplay","cardsGap","onClick","renderCardDragIndicator","renderGap","containerStyle","useMemo","styles","innerStyle","opacity","transform","showTopShadow","showBottomShadow","shadowHeight","renderContent","Fragment","marginBottom","marginTop","Card","renderCardDragPreview","_Fragment","createPortal","DefaultCard","isCardDraggable","isTypeDraggable","GenericItem","configMap","isSkeleton","cardWrapperStyle","cardWrapperClassName","isShadow","isListFooter","cardOverHeight","renderSkeletonCard","onCardClick","renderListFooter","wrapperClassName","renderGenericItem","items","cardOverShadowCount","VirtualizedList","VList","NormalList","ColumnContent","columnListContentStyle","columnListContentClassName","loadMore","virtualization","allowListFooter","containerClassName","checkIfSkeletonIsVisible","limit","skeletons","querySelectorAll","some","skeleton","isVisible","List","handleScroll","scrollContainer","querySelector","scrollHeight","clientHeight","scrollTop","requested","markAndGetEngagement","markEngagement","timeOfEngagementStart","schedulers","getScheduler","scheduler","created","callbacks","loop","timeLastFrameFinished","timeSinceLastFrame","latestArgs","underUsersPointer","onFrame","reset","update","makeScheduler","dataAttribute","selector","baseConfig","startHitboxAtPercentageRemainingOfElement","maxScrollAtPercentageRemainingOfHitbox","timeDampeningDurationMs","maxMainAxisHitboxSize","maxPixelScrollPerSecond","standard","fast","getInternalConfig","provided","_provided$maxScrollSp","maxScrollSpeed","canScrollOnEdge","ceil","scrollLeft","clientWidth","scrollWidth","edges","edgeAxisLookup","vertical","end","size","axisLookup","mainAxis","crossAxis","mainAxisSideLookup","makeGetHitbox","_DOMRect$fromRect","config","_axisLookup$axis","side","mainAxisHitboxSize","getOverElementHitbox","getPercentageInRange","startOfRange","endOfRange","getScrollChange","engagement","hitbox","isDistanceDampeningEnabled","maxScroll","targetScrollPerMs","maximum","getMaxScrollChange","percentageDistanceDampening","maxSpeedBuffer","getDistanceDampening","percentageOfMaxScroll","scroll","getRectDefault","getScrollBy","allowedAxis","_ref$getRect","getRect","scrollableEdges","isAxisAllowed","leftEdge","rightEdge","bottomEdge","topEdge","isScrollingAvailable","Boolean","tryScrollElements","_container$getConfigu","_container$getAllowed","_container$getAllowed2","findEntry","_ref$available","available","continueSearchUp","_element$parentElemen","canScroll","getConfiguration","getAllowedAxis","tryScroll","getWindowScrollEntries","remainder","_entry$getConfigurati","_entry$getAllowedAxis","_entry$getAllowedAxis2","tryScrollWindow","autoScrollForElements","elementRegistry","windowRegistry","_elementRegistry$get","autoScroll","_window$getComputedSt","overflowX","overflowY","autoScrollWindow","unique","makeApi","isCardData","Column","onColumnClick","renderColumnWrapper","renderColumnFooter","columnWrapperStyle","onColumnDndStateChange","columnWrapperClassName","columnClassName","columnStyle","renderColumnAdder","rest","headerRef","outerFullHeightRef","useColumnDnd","isOverChildCard","totalTasksCount","setIsCardOver","preview","cloneNode","handleDropTargetChange","scroller","columnData","ColumnWrapper","getRemainder","isEqual","base","isScroll","isAuto","isEither","overflow","_getClosestScrollableElement","el","isElementScrollable","center","origin","point1","point2","smallestSigned","getOverlap","change","targetScroll","overlap","canPartiallyScroll","rawMax","smallestChange","scrollAxis","config$1","startFromPercentage","maxScrollAtPercentage","maxPixelScroll","ease","percentage","pow","durationDampening","stopDampeningAt","accelerateAt","getDistanceThresholds$1","startScrollingFrom","maxScrollValueAt","getPercentage","range","stopAt","getValue$1","distanceToEdge","thresholds","dragStartTime","shouldUseTimeDampening","percentageFromStartScrollingFrom","getValueFromDistance","proposedScroll","runTime","betweenAccelerateAtAndStopAtPercentage","dampenValueByTime","getScrollOnAxis","distanceToEdges","getDistanceThresholds","getValue","clean","getScroll","required","getScrollableScrollChange","scrollable","canScrollScrollable","getWindowScrollChange","viewport","canScrollWindow","getMaxWindowScroll","doc","getMaxScroll","getViewport","pageXOffset","pageYOffset","scrollElement","scrollWindow","windowScrollChange","tryScrollContainer","closestScrollable","getClosestScrollableElement","scrollPosition","getScrollable","scrollableScrollChange","autoScroller","fakeScrollCallback","latestInput","loopFrameId","_ref$behavior","updateInput","stop","createAutoScroller","toFnRef","mergeRefs","refA","refB","getSharedProps","allowColumnAdder","ColumnAdder","Kanban","rootStyle","rootClassName","onColumnMove","onCardMove","columns","getColumnsFromDataSource","root","internalRef","handleCardDrop","sourceColumnId","dropTargetData","targetColumnId","targetIndex","findIndex","col","fromIndex","toIndex","draggingCardId","targetCardId","sourceColumn","targetColumn","allTasks","sourceIndex","reordered","newPosition","taskAbove","taskBelow","cardId","fromColumnId","toColumnId","allTargetTasks","finalIndex","draggingTask","find","tempArray","targetTasks","dropColumnHandler","newDataSource","rootChildren","currentIndex","indexOf","dropHandler","updateDroppedItem","updateDestinationColumn","updateSourceColumn","totalItems","targetChildren","insertIndex","alreadyExistInTarget","updatedItem"],"mappings":"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","x_google_ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,17,19,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105]}